[
   {
      "body" : "What about rethinking the logic a bit?  This is only needed for error responses that echo back to the client a piece of information it already knows.\r\n\r\nIt seems like each case could be simplified by removing the variable portion of each error string.\r\n",
      "created_at" : "2014-12-16T20:04:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5492#issuecomment-67222369",
      "id" : 67222369,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5492",
      "updated_at" : "2014-12-16T20:04:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67222369",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Removing the variable from the error string would also be feasible method IMO.\r\nDepends if we'd like to keep the \"more information\" in the error string.\r\nBut i agree with just have \"invalid hash\" instead of \"invalid hash: /inputhash/\", etc.\r\n\r\nOn the other hand it could be handy and save(r) for upcoming implementations to make sure input parameters gets a minimalistic check.\r\n\r\nIn the current implementation there is a minimalistic very tiny risk of exploiting `IsHex` (eating cpu over rest with horrible path lengths, path_max is not specified in RFC as far as i know).\r\n\r\nSomehow i have a feeling we should truncate and `SanitizeString()` all input parameters to prevent any possible upcoming damage.",
      "created_at" : "2014-12-16T20:18:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5492#issuecomment-67224643",
      "id" : 67224643,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5492",
      "updated_at" : "2014-12-16T20:19:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67224643",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "+1 for better input validation.\r\n\r\nHowever I don't like the approach of using sanitize for input strings. It should either accept the input as-is or reject it and throw an error immediately. Don't try to proceed at all using 'sanitized' input.\r\n\r\nUsing sanitizestring for logged messages makes sense.\r\n",
      "created_at" : "2015-01-26T11:56:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5492#issuecomment-71450411",
      "id" : 71450411,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5492",
      "updated_at" : "2015-01-26T11:56:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/71450411",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I agree with @laanwj -- throw an error if given unsanitary input, don't try to fix it.\r\n(but sanitize if input is logged as part of the error handling, of course)",
      "created_at" : "2015-03-11T19:21:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5492#issuecomment-78350449",
      "id" : 78350449,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5492",
      "updated_at" : "2015-03-11T19:21:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/78350449",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   }
]
