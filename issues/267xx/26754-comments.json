[
   {
      "author_association" : "NONE",
      "body" : "Other ideas to limit resource usage if you want to stick with one connection per transient address:\r\n\r\n- Limit to one tunnel each way with inbound.quantity=1 outbound.quantity=1\r\n- Reuse an address if the connection failed\r\n- Reuse an address after the connection closes\r\n\r\nLast two are subject to your security goals.\r\n",
      "created_at" : "2022-12-26T20:32:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1365449401",
      "id" : 1365449401,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RYxq5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365449401/reactions"
      },
      "updated_at" : "2022-12-26T20:32:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365449401",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/62618568?v=4",
         "events_url" : "https://api.github.com/users/zzzi2p/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zzzi2p/followers",
         "following_url" : "https://api.github.com/users/zzzi2p/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zzzi2p/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zzzi2p",
         "id" : 62618568,
         "login" : "zzzi2p",
         "node_id" : "MDQ6VXNlcjYyNjE4NTY4",
         "organizations_url" : "https://api.github.com/users/zzzi2p/orgs",
         "received_events_url" : "https://api.github.com/users/zzzi2p/received_events",
         "repos_url" : "https://api.github.com/users/zzzi2p/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zzzi2p/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zzzi2p/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zzzi2p"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@zzzi2p thanks for reporting and the writeup / numbers.\n\ncc @vasild @jonatack ",
      "created_at" : "2022-12-26T21:09:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1365460693",
      "id" : 1365460693,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RY0bV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365460693/reactions"
      },
      "updated_at" : "2022-12-26T21:09:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365460693",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Here's some further background and another picture.\r\n\r\nThis is a graph of our exploratory tunnel build success rate, network average, which is a key network health metric for us. It correlates (inversely) to the graph linked above.\r\n\r\nIt's been cut almost in half, in only a week, to about 24%, which is the lowest it's been in seven years. We consider anything below 20% to be dire. We of course have multiple layers of defenses to try to prevent congestion collapse but it could still happen.\r\n\r\nA couple things that would help us:\r\n\r\n- If you have an estimate of how many addresses per minute or hour a typical node is creating\r\n- If you know or can guess what downstream project in particular might have enabled transient addresses by default or made it easy for users to do so, (the graph below may provide clues) so that we may contact the devs\r\n\r\nthanks\r\n\r\nhttps://geti2p.net/_static/images/tunnel.buildExploratorySuccess.10m_31_0.png",
      "created_at" : "2022-12-26T22:05:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1365482169",
      "id" : 1365482169,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RY5q5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365482169/reactions"
      },
      "updated_at" : "2022-12-26T22:05:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365482169",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/62618568?v=4",
         "events_url" : "https://api.github.com/users/zzzi2p/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zzzi2p/followers",
         "following_url" : "https://api.github.com/users/zzzi2p/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zzzi2p/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zzzi2p",
         "id" : 62618568,
         "login" : "zzzi2p",
         "node_id" : "MDQ6VXNlcjYyNjE4NTY4",
         "organizations_url" : "https://api.github.com/users/zzzi2p/orgs",
         "received_events_url" : "https://api.github.com/users/zzzi2p/received_events",
         "repos_url" : "https://api.github.com/users/zzzi2p/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zzzi2p/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zzzi2p/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zzzi2p"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks. Discussion started at https://twitter.com/jonatack/status/1605652404862537728. Will reply here tomorrow.",
      "created_at" : "2022-12-26T22:42:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1365493338",
      "id" : 1365493338,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RY8Za",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365493338/reactions"
      },
      "updated_at" : "2022-12-26T22:42:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365493338",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "One of our users @Tracachang did some testing, and reported only 4 I2P connections with Tor enabled, and 9 with onlynet=i2p. That's less than I would have guessed and on its face shouldn't be a problem.\r\n\r\nOne theory I have is that i2pd doesn't have any tunnel build throttling, so it essentially gets into local congestion collapse after its builds get consistently rejected by other routers. I'm in discussions with i2pd's @orignal about adding some throttling so it doesn't spam the network when its builds get consistently rejected by other routers. Further investigation required.",
      "created_at" : "2022-12-26T23:44:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1365510103",
      "id" : 1365510103,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RZAfX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365510103/reactions"
      },
      "updated_at" : "2022-12-26T23:44:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365510103",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/62618568?v=4",
         "events_url" : "https://api.github.com/users/zzzi2p/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zzzi2p/followers",
         "following_url" : "https://api.github.com/users/zzzi2p/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zzzi2p/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zzzi2p",
         "id" : 62618568,
         "login" : "zzzi2p",
         "node_id" : "MDQ6VXNlcjYyNjE4NTY4",
         "organizations_url" : "https://api.github.com/users/zzzi2p/orgs",
         "received_events_url" : "https://api.github.com/users/zzzi2p/received_events",
         "repos_url" : "https://api.github.com/users/zzzi2p/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zzzi2p/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zzzi2p/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zzzi2p"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I've refined my thesis, I do think it's individual i2pd routers getting pushed too hard.\r\n\r\nBitcoin tries to build too many tunnels, and i2pd starts getting all its build requests rejected. I2pd does not properly rate limit build requests, and ends up spamming the network. Please work with @orignal to reproduce and diagnose.",
      "created_at" : "2022-12-27T08:39:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1365715941",
      "id" : 1365715941,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RZyvl",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365715941/reactions"
      },
      "updated_at" : "2022-12-27T08:39:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365715941",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/62618568?v=4",
         "events_url" : "https://api.github.com/users/zzzi2p/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zzzi2p/followers",
         "following_url" : "https://api.github.com/users/zzzi2p/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zzzi2p/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zzzi2p",
         "id" : 62618568,
         "login" : "zzzi2p",
         "node_id" : "MDQ6VXNlcjYyNjE4NTY4",
         "organizations_url" : "https://api.github.com/users/zzzi2p/orgs",
         "received_events_url" : "https://api.github.com/users/zzzi2p/received_events",
         "repos_url" : "https://api.github.com/users/zzzi2p/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zzzi2p/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zzzi2p/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zzzi2p"
      }
   }
]
