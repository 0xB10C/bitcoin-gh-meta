[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20773 (refactor: split CWallet::Create by S3RK)\n* #19873 (Flush dbcache early if system is under memory pressure by luke-jr)\n* #18554 (wallet: ensure wallet files are not reused across chains by rodentrabies)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-04-08T04:16:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21634#issuecomment-815432880",
      "id" : 815432880,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21634",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxNTQzMjg4MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-08T04:16:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/815432880",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21634#discussion_r609417713"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21634"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/609417713"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        LogPrintf(\"WARNING SQLite is configured to not wait for data to be flushed to disk. Data loss and corruption may occur.\\n\");\r\n```\r\n\r\nfunction names and file paths are already logged in tests. Also missing `\\n` to make linter happy?",
      "commit_id" : "7140ed33237173004a8d12f5ba5e842b96963f43",
      "created_at" : "2021-04-08T07:54:00Z",
      "diff_hunk" : "@@ -233,6 +233,15 @@ void SQLiteDatabase::Open()\n         throw std::runtime_error(strprintf(\"SQLiteDatabase: Failed to enable fullfsync: %s\\n\", sqlite3_errstr(ret)));\n     }\n \n+    if (gArgs.GetBoolArg(\"-unsafesqlitesync\", false)) {\n+        // Use normal synchronous mode for the journal\n+        LogPrintf(\"SQLiteDatabase: WARNING SQLite is configured to not wait for data to be flushed to disk. Data loss and corruption may occur.\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21634#discussion_r609417713",
      "id" : 609417713,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwOTQxNzcxMw==",
      "original_commit_id" : "89a0728d9953f938f1c5a5d5c65c4c2908fd38af",
      "original_line" : 238,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/wallet/sqlite.cpp",
      "position" : null,
      "pull_request_review_id" : 631084176,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21634",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-04-08T16:37:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/609417713",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21634#discussion_r609890267"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21634"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/609890267"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "7140ed33237173004a8d12f5ba5e842b96963f43",
      "created_at" : "2021-04-08T16:37:41Z",
      "diff_hunk" : "@@ -233,6 +233,15 @@ void SQLiteDatabase::Open()\n         throw std::runtime_error(strprintf(\"SQLiteDatabase: Failed to enable fullfsync: %s\\n\", sqlite3_errstr(ret)));\n     }\n \n+    if (gArgs.GetBoolArg(\"-unsafesqlitesync\", false)) {\n+        // Use normal synchronous mode for the journal\n+        LogPrintf(\"SQLiteDatabase: WARNING SQLite is configured to not wait for data to be flushed to disk. Data loss and corruption may occur.\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21634#discussion_r609890267",
      "id" : 609890267,
      "in_reply_to_id" : 609417713,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwOTg5MDI2Nw==",
      "original_commit_id" : "89a0728d9953f938f1c5a5d5c65c4c2908fd38af",
      "original_line" : 238,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/wallet/sqlite.cpp",
      "position" : null,
      "pull_request_review_id" : 631613310,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21634",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-04-08T16:37:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/609890267",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
