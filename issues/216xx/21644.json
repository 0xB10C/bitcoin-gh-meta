{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "This is a follow-up to #16248 and #19191 that  was noticed in #21506. Since #19191, noban is a multi-flag that implies download, so the conditional in `CConnman::Bind()` using a bitwise AND on noban will return false for both the noban status and the download status. If the intent is for this conditional to return false only for noban and not download, then the bitwise AND should be replaced with `NetPermissions::HasFlag()` as proposed here. If OTOH the current behavior is correct, then it would be more explicit to use `HasFlag()` for each case (noban and download) and helpful for #21506.\r\n\r\nThe second commit adds unit test coverage to illustrate and test the noban/download relationship and the `NetPermissions` operations involving them.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21644/comments",
   "created_at" : "2021-04-09T19:48:51Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21644/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/21644",
   "id" : 854811002,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21644/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0NjEyNjkzNjI4",
   "number" : 21644,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/21644.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21644",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/21644.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21644"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "net: use NetPermissions::HasFlag() in CConnman::Bind()",
   "updated_at" : "2021-04-09T19:48:51Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21644",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
      "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jonatack/followers",
      "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jonatack",
      "id" : 2415484,
      "login" : "jonatack",
      "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
      "organizations_url" : "https://api.github.com/users/jonatack/orgs",
      "received_events_url" : "https://api.github.com/users/jonatack/received_events",
      "repos_url" : "https://api.github.com/users/jonatack/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jonatack"
   }
}
