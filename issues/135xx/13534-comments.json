[
   {
      "author_association" : "MEMBER",
      "body" : "Is this the only place in the code where this needs fixing?",
      "created_at" : "2018-06-25T12:20:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13534#issuecomment-399932193",
      "id" : 399932193,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13534",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5OTkzMjE5Mw==",
      "updated_at" : "2018-06-25T12:20:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/399932193",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13534#discussion_r197775550"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13534"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197775550"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You can just remove the assert. This is regtest, so a wrap is \"impossible\" anyway.",
      "commit_id" : "9025145dc68229f21cee0918259af16b7be28831",
      "created_at" : "2018-06-25T12:22:03Z",
      "diff_hunk" : "@@ -41,7 +41,8 @@ static CTxIn MineBlock(const CScript& coinbase_scriptPubKey)\n     auto block = PrepareBlock(coinbase_scriptPubKey);\n \n     while (!CheckProofOfWork(block->GetHash(), block->nBits, Params().GetConsensus())) {\n-        assert(++block->nNonce);\n+        auto nNonce = ++block->nNonce;\n+        assert(nNonce);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13534#discussion_r197775550",
      "id" : 197775550,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5Nzc3NTU1MA==",
      "original_commit_id" : "5df902d992038d50439891738bbdcfa5767ac2eb",
      "original_position" : 6,
      "path" : "src/bench/block_assemble.cpp",
      "position" : null,
      "pull_request_review_id" : 131582296,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13534",
      "updated_at" : "2018-07-06T08:32:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197775550",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13534#discussion_r197778603"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13534"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197778603"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Like this?\r\n\r\n```\r\n     while (!CheckProofOfWork(block->GetHash(), block->nBits, Params().GetConsensus())) {\r\n         ++block->nNonce;\r\n     }\r\n```",
      "commit_id" : "9025145dc68229f21cee0918259af16b7be28831",
      "created_at" : "2018-06-25T12:33:57Z",
      "diff_hunk" : "@@ -41,7 +41,8 @@ static CTxIn MineBlock(const CScript& coinbase_scriptPubKey)\n     auto block = PrepareBlock(coinbase_scriptPubKey);\n \n     while (!CheckProofOfWork(block->GetHash(), block->nBits, Params().GetConsensus())) {\n-        assert(++block->nNonce);\n+        auto nNonce = ++block->nNonce;\n+        assert(nNonce);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13534#discussion_r197778603",
      "id" : 197778603,
      "in_reply_to_id" : 197775550,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5Nzc3ODYwMw==",
      "original_commit_id" : "5df902d992038d50439891738bbdcfa5767ac2eb",
      "original_position" : 6,
      "path" : "src/bench/block_assemble.cpp",
      "position" : null,
      "pull_request_review_id" : 131586209,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13534",
      "updated_at" : "2018-07-06T08:32:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197778603",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13534#discussion_r197780332"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13534"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197780332"
         }
      },
      "author_association" : "MEMBER",
      "body" : "sure",
      "commit_id" : "9025145dc68229f21cee0918259af16b7be28831",
      "created_at" : "2018-06-25T12:40:24Z",
      "diff_hunk" : "@@ -41,7 +41,8 @@ static CTxIn MineBlock(const CScript& coinbase_scriptPubKey)\n     auto block = PrepareBlock(coinbase_scriptPubKey);\n \n     while (!CheckProofOfWork(block->GetHash(), block->nBits, Params().GetConsensus())) {\n-        assert(++block->nNonce);\n+        auto nNonce = ++block->nNonce;\n+        assert(nNonce);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13534#discussion_r197780332",
      "id" : 197780332,
      "in_reply_to_id" : 197775550,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5Nzc4MDMzMg==",
      "original_commit_id" : "5df902d992038d50439891738bbdcfa5767ac2eb",
      "original_position" : 6,
      "path" : "src/bench/block_assemble.cpp",
      "position" : null,
      "pull_request_review_id" : 131588362,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13534",
      "updated_at" : "2018-07-06T08:32:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197780332",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Again, I believe we use this excessively in other parts of the code. What makes you fix this specific instance?",
      "created_at" : "2018-06-25T21:56:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13534#issuecomment-400108748",
      "id" : 400108748,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13534",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMDEwODc0OA==",
      "updated_at" : "2018-06-25T21:56:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/400108748",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke This is the only instance I know of where the `assert(Ã¢ÂÂ¦)` includes a function or expression that has a side effect (or more specifically where the execution would differ between `defined(NDEBUG)` vs. `!defined(NDEBUG)` beyond `assert(...)` obviously being expanded to a noop in the former case). Can you find another example? :-)\r\n\r\nCandidates:\r\n\r\n```\r\ngit grep '[^_]assert(.*);' | \\\r\n    grep -vE '^(build-aux/|src/(crypto/ctaes/|leveldb/|univalue/))'\r\n```\r\n\r\n\r\n\r\n\r\n\r\n",
      "created_at" : "2018-06-26T12:53:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13534#issuecomment-400296837",
      "id" : 400296837,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13534",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMDI5NjgzNw==",
      "updated_at" : "2018-06-26T12:59:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/400296837",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "They sound a bit like side-effects, haven't checked:\r\n\r\n```\r\n$ git grep 'assert(' src/bench/checkblock.cpp src/httprpc.cpp\r\nsrc/bench/checkblock.cpp:        assert(stream.Rewind(sizeof(block_bench::block413567)));\r\nsrc/bench/checkblock.cpp:        assert(stream.Rewind(sizeof(block_bench::block413567)));\r\nsrc/bench/checkblock.cpp:        assert(CheckBlock(block, validationState, chainParams->GetConsensus()));\r\nsrc/httprpc.cpp:    assert(EventBase());\r\n",
      "created_at" : "2018-06-26T13:55:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13534#issuecomment-400317671",
      "id" : 400317671,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13534",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMDMxNzY3MQ==",
      "updated_at" : "2018-06-26T13:55:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/400317671",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke `++block->nNonce` case is special in that `block` is used after the `assert(Ã¢ÂÂ¦)` takes place. I've now included the cases you mentioned and two others. Please re-review :-)",
      "created_at" : "2018-06-26T15:21:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13534#issuecomment-400349700",
      "id" : 400349700,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13534",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMDM0OTcwMA==",
      "updated_at" : "2018-06-26T15:21:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/400349700",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2018-06-29T07:06:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13534#issuecomment-401267720",
      "id" : 401267720,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13534",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMTI2NzcyMA==",
      "updated_at" : "2018-06-29T07:06:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401267720",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13534#discussion_r199613830"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13534"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199613830"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Could reuse `eventBase` on this line. The type `struct event_base*` could be informative, given it makes the assert's meaning clear.",
      "commit_id" : "9025145dc68229f21cee0918259af16b7be28831",
      "created_at" : "2018-07-02T20:37:35Z",
      "diff_hunk" : "@@ -240,7 +240,8 @@ bool StartHTTPRPC()\n     // ifdef can be removed once we switch to better endpoint support and API versioning\n     RegisterHTTPHandler(\"/wallet/\", false, HTTPReq_JSONRPC);\n #endif\n-    assert(EventBase());\n+    auto eventBase = EventBase();\n+    assert(eventBase);\n     httpRPCTimerInterface = MakeUnique<HTTPRPCTimerInterface>(EventBase());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13534#discussion_r199613830",
      "id" : 199613830,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5OTYxMzgzMA==",
      "original_commit_id" : "9047ddbf31eb57200bd819026a19ce406dd285da",
      "original_position" : 7,
      "path" : "src/httprpc.cpp",
      "position" : null,
      "pull_request_review_id" : 133768752,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13534",
      "updated_at" : "2018-07-06T08:32:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199613830",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13534#discussion_r199614236"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13534"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199614236"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The `->nNonce` access has no effect without the assert. I would be in favor of keeping the assert on the following line. Or something like:\r\n\r\n```cpp\r\nwhile (!CheckProofOfWork(block->GetHash(), block->nBits, Params().GetConsensus()) && ++block) {\r\n    assert(block->nNonce);\r\n}\r\n```\r\n",
      "commit_id" : "9025145dc68229f21cee0918259af16b7be28831",
      "created_at" : "2018-07-02T20:39:01Z",
      "diff_hunk" : "@@ -41,7 +41,7 @@ static CTxIn MineBlock(const CScript& coinbase_scriptPubKey)\n     auto block = PrepareBlock(coinbase_scriptPubKey);\n \n     while (!CheckProofOfWork(block->GetHash(), block->nBits, Params().GetConsensus())) {\n-        assert(++block->nNonce);\n+        ++block->nNonce;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13534#discussion_r199614236",
      "id" : 199614236,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5OTYxNDIzNg==",
      "original_commit_id" : "9047ddbf31eb57200bd819026a19ce406dd285da",
      "original_position" : 5,
      "path" : "src/bench/block_assemble.cpp",
      "position" : null,
      "pull_request_review_id" : 133769211,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13534",
      "updated_at" : "2018-07-06T08:32:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/199614236",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2018-07-02T20:39:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13534#issuecomment-401927627",
      "id" : 401927627,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13534",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMTkyNzYyNw==",
      "updated_at" : "2018-07-02T20:39:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401927627",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13534#discussion_r200132589"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13534"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200132589"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I agree. If we assign this to a variable anyway, we should use that.\r\nNote, though, that `EventBase()` has no side effects, it is fully a getter function.",
      "commit_id" : "9025145dc68229f21cee0918259af16b7be28831",
      "created_at" : "2018-07-04T13:49:09Z",
      "diff_hunk" : "@@ -240,7 +240,8 @@ bool StartHTTPRPC()\n     // ifdef can be removed once we switch to better endpoint support and API versioning\n     RegisterHTTPHandler(\"/wallet/\", false, HTTPReq_JSONRPC);\n #endif\n-    assert(EventBase());\n+    auto eventBase = EventBase();\n+    assert(eventBase);\n     httpRPCTimerInterface = MakeUnique<HTTPRPCTimerInterface>(EventBase());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13534#discussion_r200132589",
      "id" : 200132589,
      "in_reply_to_id" : 199613830,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMDEzMjU4OQ==",
      "original_commit_id" : "9047ddbf31eb57200bd819026a19ce406dd285da",
      "original_position" : 7,
      "path" : "src/httprpc.cpp",
      "position" : null,
      "pull_request_review_id" : 134387652,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13534",
      "updated_at" : "2018-07-06T08:32:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200132589",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@Empact @laanwj @promag Thanks for reviewing. Updated. Please re-review :-)",
      "created_at" : "2018-07-06T08:33:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13534#issuecomment-402966499",
      "id" : 402966499,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13534",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMjk2NjQ5OQ==",
      "updated_at" : "2018-07-06T08:33:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/402966499",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13534#discussion_r200617737"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13534"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200617737"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This will never fail on account of `->nNonce` being in the `while` condition.",
      "commit_id" : "9025145dc68229f21cee0918259af16b7be28831",
      "created_at" : "2018-07-06T10:47:20Z",
      "diff_hunk" : "@@ -40,8 +40,8 @@ static CTxIn MineBlock(const CScript& coinbase_scriptPubKey)\n {\n     auto block = PrepareBlock(coinbase_scriptPubKey);\n \n-    while (!CheckProofOfWork(block->GetHash(), block->nBits, Params().GetConsensus())) {\n-        assert(++block->nNonce);\n+    while (!CheckProofOfWork(block->GetHash(), block->nBits, Params().GetConsensus()) && ++block->nNonce) {\n+        assert(block->nNonce);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13534#discussion_r200617737",
      "id" : 200617737,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMDYxNzczNw==",
      "original_commit_id" : "9025145dc68229f21cee0918259af16b7be28831",
      "original_position" : 7,
      "path" : "src/bench/block_assemble.cpp",
      "position" : 7,
      "pull_request_review_id" : 134969492,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13534",
      "updated_at" : "2018-07-06T10:47:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200617737",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@Empact Good point. Feedback addressed. Please re-review :-)",
      "created_at" : "2018-07-06T16:41:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13534#issuecomment-403086396",
      "id" : 403086396,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13534",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMzA4NjM5Ng==",
      "updated_at" : "2018-07-06T16:41:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/403086396",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   }
]
