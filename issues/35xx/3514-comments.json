[
   {
      "body" : "Needs rebase after #3516",
      "created_at" : "2014-01-13T17:16:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-32189832",
      "id" : 32189832,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-01-13T17:16:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32189832",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Will rebase tonight.",
      "created_at" : "2014-01-13T17:17:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-32189923",
      "id" : 32189923,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-01-13T17:17:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32189923",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Did a sync from scratch using this branch (plus #3517) on mainnet, a significant part of which under valgrind. Seems to work fine, though sometimes long chains of accumulated orphans are connected, resulting in cs_main being locked for a long time. I'll try to fix that independently.",
      "created_at" : "2014-01-18T20:49:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-32692633",
      "id" : 32692633,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-01-18T20:49:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32692633",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Rebase after logging changes.",
      "created_at" : "2014-01-27T21:36:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-33425618",
      "id" : 33425618,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-01-27T21:36:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/33425618",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "ACK\r\n",
      "created_at" : "2014-01-29T19:52:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-33623127",
      "id" : 33623127,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-01-29T19:52:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/33623127",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "I did some testing with block syncs, no problems found, worked fine for me.",
      "created_at" : "2014-01-30T13:22:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-33686852",
      "id" : 33686852,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-01-30T13:22:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/33686852",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "There is one potential problem here, namely that the many orphans can result in very long chains (I've seen up to ~400)  of blocks being connected within a single cs_main lock, essentially making the program look frozen. This can be solved by pushing some locks down, but may need some discussion first.\r\n\r\nI could easily submit the limit-orphans commit as a separate pull request though, as I suppose that can be seen as a memory usage bug fix.",
      "created_at" : "2014-01-30T13:26:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-33687117",
      "id" : 33687117,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-01-30T13:26:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/33687117",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/f59d8f0b644d49324cabd19c58cf2262d49e1392 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-02-08T16:31:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-34548315",
      "id" : 34548315,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-02-08T16:31:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/34548315",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "Regarding slowing down the download of the small blocks - how about factoring in the block size and incrementally changing how many peers are used as the block sizes get larger?",
      "created_at" : "2014-02-23T01:06:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-35820557",
      "id" : 35820557,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-02-23T01:06:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/35820557",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3514#discussion_r9973890"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3514"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/9973890"
         }
      },
      "body" : "Why was this here?",
      "commit_id" : "f59d8f0b644d49324cabd19c58cf2262d49e1392",
      "created_at" : "2014-02-23T01:08:33Z",
      "diff_hunk" : "@@ -2021,7 +2105,6 @@ bool AddToBlockIndex(CBlock& block, CValidationState& state, const CDiskBlockPos\n          pindexNew->nSequenceId = nBlockSequenceId++;\n     }\n     assert(pindexNew);\n-    mapAlreadyAskedFor.erase(CInv(MSG_BLOCK, hash));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#discussion_r9973890",
      "id" : 9973890,
      "original_commit_id" : "f59d8f0b644d49324cabd19c58cf2262d49e1392",
      "original_position" : 122,
      "path" : "src/main.cpp",
      "position" : 122,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3514",
      "updated_at" : "2014-02-23T01:08:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/9973890",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "Looks good. I shall test it now!",
      "created_at" : "2014-02-23T01:13:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-35820672",
      "id" : 35820672,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-02-23T01:13:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/35820672",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "Regarding limiting the number of orphans held in memory - how is this done? Are nodes going to be downloading blocks and then discarding them? If so, this is going to create a bandwidth overhead among nodes...",
      "created_at" : "2014-02-23T01:18:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-35820744",
      "id" : 35820744,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-02-23T01:18:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/35820744",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "I've been testing this a few days now. The stuck block detection doesn't seem to be working:-\r\n\r\n2014-02-26 22:24:01 Requesting block 00000000000000014e06412631ff67305cde77c6631dc58a2ce35308558cee05 from 216.99.101.192:8333\r\n2014-02-26 22:28:31 ResendWalletTransactions()\r\n2014-02-26 22:54:16 socket recv error 110\r\n2014-02-26 22:54:17 receive version message: /Satoshi:0.8.6/: version 70001, blocks=287993, us=70.42.240.30:57711, them=207.255.42.202:8333, peer=207.255.42.202:8333\r\n2014-02-26 22:54:17 Added time data, samples 10, offset +0 (+0 minutes)\r\n2014-02-26 22:56:34 socket recv error 110\r\n2014-02-26 22:57:26 connect() to 173.79.229.22:8333 failed after select(): Connection refused\r\n2014-02-26 22:57:28 socket recv error 110\r\n2014-02-26 22:58:03 socket recv error 110\r\n\r\nalmost an 30 minutes went by with no download happening, and it didn't seem to notice.",
      "created_at" : "2014-02-26T23:29:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-36191367",
      "id" : 36191367,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-02-26T23:29:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36191367",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3514#discussion_r10105319"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3514"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/10105319"
         }
      },
      "body" : "Magic number... why so high? In the later stages of block download I'd have thought a number close to 1 would be appropriate.",
      "commit_id" : "f59d8f0b644d49324cabd19c58cf2262d49e1392",
      "created_at" : "2014-02-26T23:31:13Z",
      "diff_hunk" : "@@ -59,6 +59,11 @@\n static const unsigned int LOCKTIME_THRESHOLD = 500000000; // Tue Nov  5 00:53:20 1985 UTC\n /** Maximum number of script-checking threads allowed */\n static const int MAX_SCRIPTCHECK_THREADS = 16;\n+/** Number of blocks that can be requested at any given time from a single peer. */\n+static const int MAX_BLOCKS_IN_TRANSIT_PER_PEER = 128;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#discussion_r10105319",
      "id" : 10105319,
      "original_commit_id" : "f59d8f0b644d49324cabd19c58cf2262d49e1392",
      "original_position" : 5,
      "path" : "src/main.h",
      "position" : 5,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3514",
      "updated_at" : "2014-02-26T23:31:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/10105319",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3514#discussion_r10163903"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3514"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/10163903"
         }
      },
      "body" : "Because blocks used to be tracked using the (weak) mapAlreadyAskedFor mechanism, but this patch introduces a better way, that retains information about whom it was asked from.",
      "commit_id" : "f59d8f0b644d49324cabd19c58cf2262d49e1392",
      "created_at" : "2014-02-28T13:40:31Z",
      "diff_hunk" : "@@ -2021,7 +2105,6 @@ bool AddToBlockIndex(CBlock& block, CValidationState& state, const CDiskBlockPos\n          pindexNew->nSequenceId = nBlockSequenceId++;\n     }\n     assert(pindexNew);\n-    mapAlreadyAskedFor.erase(CInv(MSG_BLOCK, hash));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#discussion_r10163903",
      "id" : 10163903,
      "original_commit_id" : "f59d8f0b644d49324cabd19c58cf2262d49e1392",
      "original_position" : 122,
      "path" : "src/main.cpp",
      "position" : 122,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3514",
      "updated_at" : "2014-02-28T13:40:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/10163903",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "So far upon testing this code, I've not yet seen it downloading blocks from more than one node. There's not even any code to send a getblocks to more than one node from what I can tell. If a node is deemed to be unresponsive it's forcefully disconnected. How come this is ok, and yet my pull request to disconnect nodes sending blocks my nodes already had was considered not ok?",
      "created_at" : "2014-03-01T20:37:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-36435818",
      "id" : 36435818,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-03-01T20:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36435818",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "This does not do parallel block download yet, as that requires\nheaders-first sync. This is a step towards that, though.\n\nAnd disconnecting unresponsive peers is fine - it's the only way to not\nwaste their bandwidth if we don't need/want requested blocks anymore.\n\nWhat is not fine, is disconecting peers because they're the second ones to\nrespond to a block that we requested twice. We should simply not request\nthe same block twice in the first place. That is what this pull request is\nsupposed to do. If you still see already have block messages with this\npatch, there is possibly a bug in it that will need to be addressed.",
      "created_at" : "2014-03-01T20:44:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-36435987",
      "id" : 36435987,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-03-01T20:44:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36435987",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3514#discussion_r10192843"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3514"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/10192843"
         }
      },
      "body" : "That would be a further optimization, yes.",
      "commit_id" : "f59d8f0b644d49324cabd19c58cf2262d49e1392",
      "created_at" : "2014-03-01T22:26:50Z",
      "diff_hunk" : "@@ -59,6 +59,11 @@\n static const unsigned int LOCKTIME_THRESHOLD = 500000000; // Tue Nov  5 00:53:20 1985 UTC\n /** Maximum number of script-checking threads allowed */\n static const int MAX_SCRIPTCHECK_THREADS = 16;\n+/** Number of blocks that can be requested at any given time from a single peer. */\n+static const int MAX_BLOCKS_IN_TRANSIT_PER_PEER = 128;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#discussion_r10192843",
      "id" : 10192843,
      "original_commit_id" : "f59d8f0b644d49324cabd19c58cf2262d49e1392",
      "original_position" : 5,
      "path" : "src/main.h",
      "position" : 5,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3514",
      "updated_at" : "2014-03-01T22:26:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/10192843",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa I deleted my previous comment about \"already have\" messages - none seen with this patch so far! But... a misbehaving node could still send random blocks if it wanted to, so at some point in the future I suspect we'll want to set that sort of behaviour as misbehaviour - maybe even as part of this pull request...?",
      "created_at" : "2014-03-02T00:27:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-36441709",
      "id" : 36441709,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-03-02T00:27:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36441709",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "@rebroad That's a good question. The problem is that the current code actually does broadcast blocks sometimes without inv, namely newly mined blocks which are certain not be exist anywhere else.\r\n",
      "created_at" : "2014-03-02T00:44:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-36442056",
      "id" : 36442056,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-03-02T00:44:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36442056",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "why would it broadcast a block without broadcasting the inv first?\r\n\r\nAs an aside note, I notice the block download got stuck today, and wasn't able to recover - it was still downloading blocks that were being advertised (i.e. the latest block mined), but the initial block download stayed stuck. The only thing I changed from your code was to set MAX_BLOCKS_IN_TRANSIT_PER_PEER = 8. Extract from debug.log:-\r\n\r\n2014-03-02 07:10:23 Requesting block 000000000000000076d568e1d868eb0104e91c7f8da233e709e81956e90a187f node=1\r\n2014-03-02 07:10:23 received block 0000000000000000722bf157e46ebfcff7a8ac5c615b0b5136118bfec42dc7b4 node=1\r\n2014-03-02 07:10:25 UpdateTip: new best=0000000000000000722bf157e46ebfcff7a8ac5c615b0b5136118bfec42dc7b4  height=288528  log2_work=76.974879  tx=33949706  date=2014-03-02 02:14:30 progress=0.998705\r\n2014-03-02 07:10:25 ProcessBlock: ACCEPTED\r\n2014-03-02 07:10:25 Requesting block 0000000000000000e6c6d8ed65fc679b9d400e9db6610e134bf3c93fb60cf55b node=1\r\n2014-03-02 07:10:25 received block 0000000000000000d868831695d6f199a9d7bb63c8895000cae8e64ee7757f2f node=1\r\n2014-03-02 07:10:28 UpdateTip: new best=0000000000000000d868831695d6f199a9d7bb63c8895000cae8e64ee7757f2f  height=288529  log2_work=76.975038  tx=33950348  date=2014-03-02 02:27:10 progress=0.998760\r\n2014-03-02 07:10:28 ProcessBlock: ACCEPTED\r\n2014-03-02 07:10:28 Requesting block 00000000000000010e84d9c360538f2b92ff61fadbe9af55d955b9981d5b61f0 node=1\r\n2014-03-02 07:10:29 received block 00000000000000001c623a27ce203457efeb5fbb99a114117b60a9c1cd678d29 node=1\r\n2014-03-02 07:10:30 UpdateTip: new best=00000000000000001c623a27ce203457efeb5fbb99a114117b60a9c1cd678d29  height=288530  log2_work=76.975198  tx=33950737  date=2014-03-02 02:38:29 progress=0.998810\r\n2014-03-02 07:10:30 ProcessBlock: ACCEPTED\r\n2014-03-02 07:10:30 Requesting block 0000000000000000a06f7d883d41b4700da6172a90cdef1cd6c873e15b2bff47 node=1\r\n2014-03-02 07:10:31 received block 00000000000000000665a4ac03c67709faa12377e1583b2bd06cae97904e55b5 node=1\r\n2014-03-02 07:10:33 UpdateTip: new best=00000000000000000665a4ac03c67709faa12377e1583b2bd06cae97904e55b5  height=288531  log2_work=76.975357  tx=33951421  date=2014-03-02 02:51:48 progress=0.998868\r\n2014-03-02 07:10:33 ProcessBlock: ACCEPTED\r\n2014-03-02 07:10:33 Requesting block 0000000000000001011823af0d2ad9ff618c80184a9c86211927ebdae3ee4619 node=1\r\n2014-03-02 07:10:40 received block 00000000000000010bb6062c490d0958dbb9fcaa9cc76a3c86e38a0c3bf8b6b4 node=1\r\n2014-03-02 07:10:44 connection to 59.183.158.144:8333 timeout\r\n2014-03-02 07:10:44 UpdateTip: new best=00000000000000010bb6062c490d0958dbb9fcaa9cc76a3c86e38a0c3bf8b6b4  height=288532  log2_work=76.975516  tx=33952187  date=2014-03-02 03:11:06 progress=0.998951\r\n2014-03-02 07:10:44 ProcessBlock: ACCEPTED\r\n2014-03-02 07:10:44 Requesting block 0000000000000000b023eb9e7f8d18761bb87843bc250580753e56b860d0d638 node=1\r\n2014-03-02 07:10:44 received block 0000000000000000d526ff049f9fc941569affc86d5c5a990fbcb7eb357452bb node=1\r\n2014-03-02 07:10:45 UpdateTip: new best=0000000000000000d526ff049f9fc941569affc86d5c5a990fbcb7eb357452bb  height=288533  log2_work=76.975675  tx=33952443  date=2014-03-02 03:25:19 progress=0.999014\r\n2014-03-02 07:10:45 ProcessBlock: ACCEPTED\r\n2014-03-02 07:10:45 Requesting block 0000000000000000f4358f7e3b36a094391e44b85c1977456b7115d1b72f3425 node=1\r\n2014-03-02 07:10:49 received block 000000000000000017a5c3809cc4a95bc9cb27f4c53320770a17dd773699e163 node=1\r\n2014-03-02 07:10:52 UpdateTip: new best=000000000000000017a5c3809cc4a95bc9cb27f4c53320770a17dd773699e163  height=288534  log2_work=76.975834  tx=33953152  date=2014-03-02 03:42:33 progress=0.999088\r\n2014-03-02 07:10:52 ProcessBlock: ACCEPTED\r\n2014-03-02 07:10:52 Requesting block 0000000000000000d35a30740f0b87c2d8d00e3a32ee22aa3ad75c9ddb51ca1c node=1\r\n2014-03-02 07:11:05 received block 000000000000000076d568e1d868eb0104e91c7f8da233e709e81956e90a187f node=1\r\n2014-03-02 07:11:09 UpdateTip: new best=000000000000000076d568e1d868eb0104e91c7f8da233e709e81956e90a187f  height=288535  log2_work=76.975993  tx=33953932  date=2014-03-02 04:06:54 progress=0.999194\r\n2014-03-02 07:11:09 ProcessBlock: ACCEPTED\r\n2014-03-02 07:11:09 Requesting block 00000000000000010187686d2ef056d8a50f1a9000b9fd64e484745016071407 node=1\r\n2014-03-02 07:12:07 got inv: block 00000000000000010b2fd9460ddc6a2d85105f6cb10564667e6dbd15e4639062 new node=5\r\n2014-03-02 07:12:07 Requesting block 00000000000000010b2fd9460ddc6a2d85105f6cb10564667e6dbd15e4639062 node=5\r\n2014-03-02 07:12:08 received block 00000000000000010b2fd9460ddc6a2d85105f6cb10564667e6dbd15e4639062 node=5\r\n2014-03-02 07:12:08 ProcessBlock: ORPHAN BLOCK 1, prev=000000000000000074953313ca30236fafe09ebd7b990f69e31778cf54c33de6\r\n2014-03-02 07:12:08 sending getblocks. node=5\r\n2014-03-02 07:12:08 got inv: block 0000000000000000e6c6d8ed65fc679b9d400e9db6610e134bf3c93fb60cf55b new node=5\r\n2014-03-02 07:12:08 got inv: block 00000000000000010e84d9c360538f2b92ff61fadbe9af55d955b9981d5b61f0 new node=5\r\n2014-03-02 07:12:08 got inv: block 0000000000000000a06f7d883d41b4700da6172a90cdef1cd6c873e15b2bff47 new node=5\r\n2014-03-02 07:12:08 got inv: block 0000000000000001011823af0d2ad9ff618c80184a9c86211927ebdae3ee4619 new node=5\r\n2014-03-02 07:12:08 got inv: block 0000000000000000b023eb9e7f8d18761bb87843bc250580753e56b860d0d638 new node=5\r\n2014-03-02 07:12:08 got inv: block 0000000000000000f4358f7e3b36a094391e44b85c1977456b7115d1b72f3425 new node=5\r\n2014-03-02 07:12:08 got inv: block 0000000000000000d35a30740f0b87c2d8d00e3a32ee22aa3ad75c9ddb51ca1c new node=5\r\n2014-03-02 07:12:08 got inv: block 00000000000000010187686d2ef056d8a50f1a9000b9fd64e484745016071407 new node=5\r\n2014-03-02 07:12:08 got inv: block 000000000000000075dbfb26e4a5f105c16593a7f8fd6493b9d957ff23d7baa9 new node=5\r\n2014-03-02 07:12:08 got inv: block 00000000000000007ad549f56f8e9ed8205c298cdb64194d7bc62dbc41c6ee51 new node=5\r\n2014-03-02 07:12:08 got inv: block 00000000000000009d06bdd5f363a3cc9c5455f2e9a929ef38659460713ba663 new node=5\r\n2014-03-02 07:12:08 got inv: block 0000000000000000e01de960d920b0456464ee0daa93b671dda7e035d2119435 new node=5\r\n2014-03-02 07:12:08 got inv: block 0000000000000000cbf380437df8a84f397e503026af06b01bfdad430309ede2 new node=5\r\n2014-03-02 07:12:08 got inv: block 000000000000000081ac4b7fc179b658068d6b8cfafd8756740b0d2d6c0b40e6 new node=5\r\n2014-03-02 07:12:08 got inv: block 0000000000000000c72627cbf268b530e15823b614bc55f2899d8656c710d227 new node=5\r\n2014-03-02 07:12:08 got inv: block 0000000000000000c0d3b8d8781cc29f34d44eadeda45712347c5464e62c3efc new node=5\r\n2014-03-02 07:12:08 got inv: block 000000000000000073cd1346274e14fc176410c20aa30dac188f9f39da94f3dd new node=5\r\n2014-03-02 07:12:08 got inv: block 0000000000000000c2fd56cceb51c4edd89ca4226f281d0450f7228018bd7c1c new node=5\r\n2014-03-02 07:12:08 got inv: block 00000000000000011cf090448fe1865789bab8bde38e571d58bdb3d0d326d94b new node=5\r\n2014-03-02 07:12:08 got inv: block 000000000000000030f49da7d517e1ca81ddfe57029a95404ebe3a987546e0cb new node=5\r\n2014-03-02 07:12:10 got inv: block 00000000000000010b2fd9460ddc6a2d85105f6cb10564667e6dbd15e4639062 have node=7\r\n2014-03-02 07:12:10 sending getblocks. node=7\r\n2014-03-02 07:12:10 got inv: block 0000000000000000e6c6d8ed65fc679b9d400e9db6610e134bf3c93fb60cf55b new node=7\r\n2014-03-02 07:12:10 got inv: block 00000000000000010e84d9c360538f2b92ff61fadbe9af55d955b9981d5b61f0 new node=7\r\n2014-03-02 07:12:10 got inv: block 0000000000000000a06f7d883d41b4700da6172a90cdef1cd6c873e15b2bff47 new node=7\r\n2014-03-02 07:12:10 got inv: block 0000000000000001011823af0d2ad9ff618c80184a9c86211927ebdae3ee4619 new node=7\r\n2014-03-02 07:12:10 got inv: block 0000000000000000b023eb9e7f8d18761bb87843bc250580753e56b860d0d638 new node=7\r\n2014-03-02 07:12:10 got inv: block 0000000000000000f4358f7e3b36a094391e44b85c1977456b7115d1b72f3425 new node=7\r\n2014-03-02 07:12:10 got inv: block 0000000000000000d35a30740f0b87c2d8d00e3a32ee22aa3ad75c9ddb51ca1c new node=7\r\n2014-03-02 07:12:10 got inv: block 00000000000000010187686d2ef056d8a50f1a9000b9fd64e484745016071407 new node=7\r\n2014-03-02 07:12:10 got inv: block 000000000000000075dbfb26e4a5f105c16593a7f8fd6493b9d957ff23d7baa9 new node=7\r\n2014-03-02 07:12:10 got inv: block 00000000000000007ad549f56f8e9ed8205c298cdb64194d7bc62dbc41c6ee51 new node=7\r\n2014-03-02 07:12:10 got inv: block 00000000000000009d06bdd5f363a3cc9c5455f2e9a929ef38659460713ba663 new node=7\r\n2014-03-02 07:12:10 got inv: block 0000000000000000e01de960d920b0456464ee0daa93b671dda7e035d2119435 new node=7\r\n2014-03-02 07:12:10 got inv: block 0000000000000000cbf380437df8a84f397e503026af06b01bfdad430309ede2 new node=7\r\n2014-03-02 07:12:10 got inv: block 000000000000000081ac4b7fc179b658068d6b8cfafd8756740b0d2d6c0b40e6 new node=7\r\n2014-03-02 07:12:10 got inv: block 0000000000000000c72627cbf268b530e15823b614bc55f2899d8656c710d227 new node=7\r\n2014-03-02 07:12:10 got inv: block 0000000000000000c0d3b8d8781cc29f34d44eadeda45712347c5464e62c3efc new node=7\r\n2014-03-02 07:12:10 got inv: block 000000000000000073cd1346274e14fc176410c20aa30dac188f9f39da94f3dd new node=7\r\n2014-03-02 07:12:10 got inv: block 0000000000000000c2fd56cceb51c4edd89ca4226f281d0450f7228018bd7c1c new node=7\r\n2014-03-02 07:12:10 got inv: block 00000000000000011cf090448fe1865789bab8bde38e571d58bdb3d0d326d94b new node=7\r\n2014-03-02 07:12:10 got inv: block 000000000000000030f49da7d517e1ca81ddfe57029a95404ebe3a987546e0cb new node=7\r\n2014-03-02 07:12:12 got inv: block 00000000000000010b2fd9460ddc6a2d85105f6cb10564667e6dbd15e4639062 have node=8\r\n2014-03-02 07:12:12 sending getblocks. node=8\r\n2014-03-02 07:12:13 got inv: block 0000000000000000e6c6d8ed65fc679b9d400e9db6610e134bf3c93fb60cf55b new node=8\r\n2014-03-02 07:12:13 got inv: block 00000000000000010e84d9c360538f2b92ff61fadbe9af55d955b9981d5b61f0 new node=8\r\n2014-03-02 07:12:13 got inv: block 0000000000000000a06f7d883d41b4700da6172a90cdef1cd6c873e15b2bff47 new node=8\r\n2014-03-02 07:12:13 got inv: block 0000000000000001011823af0d2ad9ff618c80184a9c86211927ebdae3ee4619 new node=8\r\n2014-03-02 07:12:13 got inv: block 0000000000000000b023eb9e7f8d18761bb87843bc250580753e56b860d0d638 new node=8\r\n2014-03-02 07:12:13 got inv: block 0000000000000000f4358f7e3b36a094391e44b85c1977456b7115d1b72f3425 new node=8\r\n2014-03-02 07:12:13 got inv: block 0000000000000000d35a30740f0b87c2d8d00e3a32ee22aa3ad75c9ddb51ca1c new node=8\r\n2014-03-02 07:12:13 got inv: block 00000000000000010187686d2ef056d8a50f1a9000b9fd64e484745016071407 new node=8\r\n2014-03-02 07:12:13 got inv: block 000000000000000075dbfb26e4a5f105c16593a7f8fd6493b9d957ff23d7baa9 new node=8\r\n2014-03-02 07:12:13 got inv: block 00000000000000007ad549f56f8e9ed8205c298cdb64194d7bc62dbc41c6ee51 new node=8\r\n2014-03-02 07:12:13 got inv: block 00000000000000009d06bdd5f363a3cc9c5455f2e9a929ef38659460713ba663 new node=8\r\n2014-03-02 07:12:13 got inv: block 0000000000000000e01de960d920b0456464ee0daa93b671dda7e035d2119435 new node=8\r\n2014-03-02 07:12:13 got inv: block 0000000000000000cbf380437df8a84f397e503026af06b01bfdad430309ede2 new node=8\r\n2014-03-02 07:12:13 got inv: block 000000000000000081ac4b7fc179b658068d6b8cfafd8756740b0d2d6c0b40e6 new node=8\r\n2014-03-02 07:12:13 got inv: block 0000000000000000c72627cbf268b530e15823b614bc55f2899d8656c710d227 new node=8\r\n2014-03-02 07:12:13 got inv: block 0000000000000000c0d3b8d8781cc29f34d44eadeda45712347c5464e62c3efc new node=8\r\n2014-03-02 07:12:13 got inv: block 000000000000000073cd1346274e14fc176410c20aa30dac188f9f39da94f3dd new node=8\r\n2014-03-02 07:12:13 got inv: block 0000000000000000c2fd56cceb51c4edd89ca4226f281d0450f7228018bd7c1c new node=8\r\n2014-03-02 07:12:13 got inv: block 00000000000000011cf090448fe1865789bab8bde38e571d58bdb3d0d326d94b new node=8\r\n2014-03-02 07:12:13 got inv: block 000000000000000030f49da7d517e1ca81ddfe57029a95404ebe3a987546e0cb new node=8\r\n\r\n",
      "created_at" : "2014-03-02T07:41:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-36448412",
      "id" : 36448412,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-03-02T07:49:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36448412",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "@sipa Re misbehaviour, it could just be for nodes sending unsolicited blocks that the node already has. Perhaps +30.",
      "created_at" : "2014-03-02T09:09:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-36449673",
      "id" : 36449673,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-03-02T09:09:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36449673",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "The stuck download detection seems like it might not be working:-\r\n\r\n2014-03-07 23:45:58 Requesting block 0000000000000000894f2753c273e3e14d00404125614d6392a1e3c12ed01e74 node=1\r\n2014-03-07 23:50:22 Flushed 9957 addresses to peers.dat  116ms\r\n2014-03-07 23:51:15 received block 0000000000000000c6e20dca0c12c22a2ca80b7743d21ddc25857c54e9641849 node=1\r\n2014-03-07 23:51:22 UpdateTip: new best=0000000000000000c6e20dca0c12c22a2ca80b7743d21ddc25857c54e9641849  height=288979  log2_work=77.044953  tx=34176595  date=2014-03-05 03:34:25 progress=0.982770\r\n2014-03-07 23:51:22 ProcessBlock: ACCEPTED\r\n2014-03-07 23:51:22 Requesting block 0000000000000000e3b4dc136b587abb5dd6b6d2ae9d8660b4aa7735e6747a55 node=1\r\n2014-03-07 23:51:22 sending getblocks. node=1\r\n2014-03-07 23:52:09 received block 000000000000000073fdfab39ccb4c923a0360174131195012962ee7c0cee873 node=1\r\n2014-03-07 23:52:12 UpdateTip: new best=000000000000000073fdfab39ccb4c923a0360174131195012962ee7c0cee873  height=288980  log2_work=77.045105  tx=34176977  date=2014-03-05 03:43:28 progress=0.982805\r\n2014-03-07 23:52:12 ProcessBlock: ACCEPTED\r\n2014-03-07 23:52:12 Requesting block 000000000000000095a7b4a4e1342875f4c802658517557b5b7030220268402a node=1\r\n2014-03-07 23:52:17 received block 000000000000000103e81e417e48fce6c339d4c5b7d17cb01cdd25e9b0a2d1c7 node=1\r\n2014-03-07 23:52:18 UpdateTip: new best=000000000000000103e81e417e48fce6c339d4c5b7d17cb01cdd25e9b0a2d1c7  height=288981  log2_work=77.045256  tx=34177187  date=2014-03-05 03:51:55 progress=0.982839\r\n2014-03-07 23:52:18 ProcessBlock: ACCEPTED\r\n2014-03-07 23:52:18 Requesting block 00000000000000003af8503b4714e86c578811ad291f3ff34fbbf10060f81e7a node=1\r\n2014-03-07 23:52:24 received block 00000000000000008424768d0cd87d4e511d7ce24db95bc9b7131ff9ee771144 node=1\r\n2014-03-07 23:52:25 UpdateTip: new best=00000000000000008424768d0cd87d4e511d7ce24db95bc9b7131ff9ee771144  height=288982  log2_work=77.045408  tx=34177340  date=2014-03-05 03:51:06 progress=0.982836\r\n2014-03-07 23:52:25 ProcessBlock: ACCEPTED\r\n2014-03-07 23:52:25 Requesting block 000000000000000107d7a3d5738f7b6e4f8569b5e206ba9ca36de3ef711eb6f7 node=1\r\n2014-03-07 23:53:00 received block 00000000000000008ab2a6e0dc5cf86324cdabe2d241ef9b79d5c0d4901dcae6 node=1\r\n2014-03-07 23:53:04 UpdateTip: new best=00000000000000008ab2a6e0dc5cf86324cdabe2d241ef9b79d5c0d4901dcae6  height=288983  log2_work=77.04556  tx=34177834  date=2014-03-05 03:59:52 progress=0.982870\r\n2014-03-07 23:53:04 ProcessBlock: ACCEPTED\r\n2014-03-07 23:53:04 Requesting block 000000000000000091a9bb8a1fff9cbf64535afc8b059f9b15d4fee9c27338e5 node=1\r\n2014-03-07 23:53:06 received block 00000000000000001837f5520a157965f1dd24e605c7a9053e7d6fdd73cbb6c7 node=1\r\n2014-03-07 23:53:07 UpdateTip: new best=00000000000000001837f5520a157965f1dd24e605c7a9053e7d6fdd73cbb6c7  height=288984  log2_work=77.045711  tx=34177917  date=2014-03-05 04:03:06 progress=0.982884\r\n2014-03-07 23:53:07 ProcessBlock: ACCEPTED\r\n2014-03-07 23:53:07 Requesting block 000000000000000090ab2a45ec486122f6f961db9c0c2562f0a70cc3e3e6725a node=1\r\n2014-03-07 23:58:02 Requesting block 0000000000000000e9dcd59721cfbd22eaf5a880dc77b4226f60fd718819d265 node=3\r\n2014-03-07 23:58:20 received block 0000000000000000e9dcd59721cfbd22eaf5a880dc77b4226f60fd718819d265 node=3\r\n2014-03-07 23:58:20 ProcessBlock: ORPHAN BLOCK 3, prev=0000000000000000bc481cbb2218614e5e29292e3b8984e2f52535d2e75261b9\r\n2014-03-07 23:58:20 sending getblocks. node=3\r\n2014-03-07 23:59:09 ResendWalletTransactions()\r\n2014-03-08 00:01:38 Requesting block 0000000000000000411db5f8fa3c83e9cbc05109e8242c5355d54ab42868b653 node=3\r\n2014-03-08 00:02:29 received block 0000000000000000411db5f8fa3c83e9cbc05109e8242c5355d54ab42868b653 node=3\r\n2014-03-08 00:02:29 ProcessBlock: ORPHAN BLOCK 4, prev=0000000000000000e9dcd59721cfbd22eaf5a880dc77b4226f60fd718819d265\r\n2014-03-08 00:05:22 Flushed 9975 addresses to peers.dat  110ms\r\n2014-03-08 00:09:30 Requesting block 0000000000000000f46250e5dc1e3227ea1e2f6d6f6a87cc5b7fc774350a1c52 node=3\r\n2014-03-08 00:09:44 received block 0000000000000000f46250e5dc1e3227ea1e2f6d6f6a87cc5b7fc774350a1c52 node=3\r\n2014-03-08 00:09:44 ProcessBlock: ORPHAN BLOCK 5, prev=0000000000000000411db5f8fa3c83e9cbc05109e8242c5355d54ab42868b653\r\n",
      "created_at" : "2014-03-08T00:15:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-37081770",
      "id" : 37081770,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-03-08T00:15:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37081770",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "I think this has been pulled prematurely. It's still got problems as I mentioned above. For one, it doesn't resume download if the OS is suspended and resumed:-\r\n\r\n2014-03-30 03:31:33 received block 00000000000000003bd2ef9d25abb5cc7938d94249f2739c8bbddac3412e33ce node=10\r\n2014-03-30 03:31:33 ProcessBlock: ORPHAN BLOCK 134, prev=0000000000000000624e18c44506822f43527dd7a0eb788b13724a6a45e7b984\r\n2014-03-30 03:31:33 sending getblocks. node=10\r\n2014-03-30 03:31:34 Requesting block 000000000000000075b68138283e567a0de027b3f4ddf1ab52be66cad35adb80 node=10\r\n2014-03-30 03:45:29 ResendWalletTransactions()\r\n2014-03-30 03:45:30 Flushed 14623 addresses to peers.dat  793ms\r\n2014-03-30 03:58:29 keypool reserve 52\r\n2014-03-30 03:58:29 keypool keep 52\r\n2014-03-30 04:00:30 Flushed 14623 addresses to peers.dat  248ms\r\n2014-03-30 04:06:46 Requesting shutdown\r\n2014-03-30 04:06:47 Running Shutdown in thread\r\n2014-03-30 04:06:47 net thread interrupt\r\n2014-03-30 04:06:47 msghand thread interrupt\r\n2014-03-30 04:06:47 opencon thread interrupt\r\n2014-03-30 04:06:47 dumpaddr thread stop\r\n2014-03-30 04:06:47 addcon thread interrupt\r\n2014-03-30 04:06:47 Shutdown : In progress...\r\n2014-03-30 04:06:47 StopNode()\r\n2014-03-30 04:06:47 Flushed 14623 addresses to peers.dat  199ms\r\n2014-03-30 04:06:47 Shutdown : done\r\n2014-03-30 04:06:47 Shutdown finished\r\n2014-03-30 04:06:47 Shutdown result: 1\r\n2014-03-30 04:06:47 Stopping thread\r\n2014-03-30 04:06:47 Stopped thread\r\n",
      "created_at" : "2014-03-30T04:08:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-39017091",
      "id" : 39017091,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-03-30T04:08:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39017091",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "@rebroad can you post new problems and bug reports in new issues? If you just dump them into existing, closed issues they will probably get lost.\r\n\r\n",
      "created_at" : "2014-03-30T07:47:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-39019879",
      "id" : 39019879,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-03-30T07:47:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39019879",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "And IMO, going toward headers-first / parallel block download is the single most important point in continued development of Bitcoin Core right now.\r\n\r\nAs this is pull is an important step in that direction, this was prioritized to be merged as soon as possible after 0.9.0 was released.\r\n\r\nIf a little temporary inconvenience while the kinks are worked out is too much for you, I suggest staying with 0.9 for now. Thanks for helping test though.\r\n",
      "created_at" : "2014-03-30T10:32:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-39022308",
      "id" : 39022308,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-03-30T10:33:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39022308",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "The stuck download detection here is just a very simple prototype. It only uses some hardcoded constants as thresholds. The purpose is turning it into a detection for one peer being slower than the other, once actual parallel downloading is there.\r\n\r\n@rebroad  Is this a regression introduced by this pullreq, or a pre-existing problem that you expected to be fixed by this but wasn't?",
      "created_at" : "2014-03-30T15:01:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-39027526",
      "id" : 39027526,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-03-30T15:01:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39027526",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa it's a regression.",
      "created_at" : "2014-03-31T17:27:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-39116197",
      "id" : 39116197,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-03-31T17:27:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39116197",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "I suspended my PC with bitcoin running a few nights and it had no problem recovering connections when re-awakened.\r\n\r\n@rebroad Do you perhaps have a dynamic IP, that changes if you computer was suspended for a while? If so Bitcoin indeed doesn't cope with it too well (it will AFAIK still advertise the old address so you won't get incoming connections). But that's not a regression or new issue.\r\n",
      "created_at" : "2014-04-04T07:27:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-39538408",
      "id" : 39538408,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-04-04T07:27:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39538408",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj yes, my IP address changes, but I don't accept incoming connections either. The getting stuck after a suspend didn't happen before I applied this pullreq AFAIK.",
      "created_at" : "2014-04-06T03:29:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3514#issuecomment-39657511",
      "id" : 39657511,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3514",
      "updated_at" : "2014-04-06T03:29:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39657511",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   }
]
