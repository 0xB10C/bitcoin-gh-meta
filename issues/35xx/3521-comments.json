[
   {
      "body" : "Thanks for having a shot at this.\r\n\r\nI agree with the UI part. However the core part should be more generic. The core doesn't need to know about UI-only data structures such as CReceiveRequestEntry.\r\n\r\nMy idea was to offer a interface for storing general-purpose data on destinations in the wallet. See https://github.com/bitcoin/bitcoin/pull/3281 and store payment requests and bitcoin URIs in there.\r\n\r\nHowever, it is nearly impossible to get changes to the core wallet code reviewed (and you need very good tests/testplan), and I had tons of other things to do, this needs to be re-thought post-0.9.\r\n",
      "created_at" : "2014-01-13T07:07:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#issuecomment-32148871",
      "id" : 32148871,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3521",
      "updated_at" : "2014-01-13T07:10:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32148871",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "How about using Boost.Serialization, serializing the SendCoinsRecipient as xml/string and storing this in the wallet. Could this work / Is a good idea?\r\n",
      "created_at" : "2014-01-13T13:54:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#issuecomment-32170700",
      "id" : 32170700,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3521",
      "updated_at" : "2014-01-13T13:54:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32170700",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2814559?v=3",
         "events_url" : "https://api.github.com/users/cozz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cozz/followers",
         "following_url" : "https://api.github.com/users/cozz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cozz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cozz",
         "id" : 2814559,
         "login" : "cozz",
         "organizations_url" : "https://api.github.com/users/cozz/orgs",
         "received_events_url" : "https://api.github.com/users/cozz/received_events",
         "repos_url" : "https://api.github.com/users/cozz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cozz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cozz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cozz"
      }
   },
   {
      "body" : "I'd rather not import another serialization format.\r\n\r\nWe can use the bitcoin serialization format (used for most stuff in the wallet) or google protobuf (as used for payment requests).\r\n\r\nThe important part is that the serialization happens on the src/qt side, and not in the core, as to not burden the core with knowledge it doesn't need to know about.\r\n",
      "created_at" : "2014-01-13T14:03:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#issuecomment-32171382",
      "id" : 32171382,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3521",
      "updated_at" : "2014-01-13T14:04:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32171382",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Ah yes, having 3 serialization formats makes no sense.\r\n\r\nSo even if I implement this in on top of #3281 , there is no chance of getting \"storing the requests permanently\" into 0.9?",
      "created_at" : "2014-01-13T14:28:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#issuecomment-32173250",
      "id" : 32173250,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3521",
      "updated_at" : "2014-01-13T14:28:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32173250",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2814559?v=3",
         "events_url" : "https://api.github.com/users/cozz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cozz/followers",
         "following_url" : "https://api.github.com/users/cozz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cozz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cozz",
         "id" : 2814559,
         "login" : "cozz",
         "organizations_url" : "https://api.github.com/users/cozz/orgs",
         "received_events_url" : "https://api.github.com/users/cozz/received_events",
         "repos_url" : "https://api.github.com/users/cozz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cozz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cozz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cozz"
      }
   },
   {
      "body" : "It's most likely if you keep the core changes as small and non-invasive as possible. Basing on #3281 is a good idea I think as it only adds a minimal amount of code.\r\n\r\nI can't guarantee anything though. I'll just merge GUI changes, but core changes need more extensive scrutiny.\r\n",
      "created_at" : "2014-01-13T14:40:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#issuecomment-32174266",
      "id" : 32174266,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3521",
      "updated_at" : "2014-01-13T14:40:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32174266",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Ok thanks, I will take a look at this. Though I cant promise anything at this point.\r\n\r\nSo close for now and maybe reopen on top of #3281...\r\n",
      "created_at" : "2014-01-13T14:51:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#issuecomment-32175255",
      "id" : 32175255,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3521",
      "updated_at" : "2014-01-13T14:51:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32175255",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2814559?v=3",
         "events_url" : "https://api.github.com/users/cozz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cozz/followers",
         "following_url" : "https://api.github.com/users/cozz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cozz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cozz",
         "id" : 2814559,
         "login" : "cozz",
         "organizations_url" : "https://api.github.com/users/cozz/orgs",
         "received_events_url" : "https://api.github.com/users/cozz/received_events",
         "repos_url" : "https://api.github.com/users/cozz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cozz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cozz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cozz"
      }
   },
   {
      "body" : "Ok, in any case it'd be very welcome!\r\n",
      "created_at" : "2014-01-13T15:36:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#issuecomment-32179635",
      "id" : 32179635,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3521",
      "updated_at" : "2014-01-13T15:36:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32179635",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Now based on #3281 \r\n\r\nWhen loading from wallet the sorting of the table is different than before. But I would want to add sorting in general to the table. So lets leave this sorting-problem for another pull.",
      "created_at" : "2014-01-14T04:43:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#issuecomment-32238433",
      "id" : 32238433,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3521",
      "updated_at" : "2014-01-14T04:43:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32238433",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2814559?v=3",
         "events_url" : "https://api.github.com/users/cozz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cozz/followers",
         "following_url" : "https://api.github.com/users/cozz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cozz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cozz",
         "id" : 2814559,
         "login" : "cozz",
         "organizations_url" : "https://api.github.com/users/cozz/orgs",
         "received_events_url" : "https://api.github.com/users/cozz/received_events",
         "repos_url" : "https://api.github.com/users/cozz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cozz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cozz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cozz"
      }
   },
   {
      "body" : "Implementation looks good, I plan to test this in the coming week.\r\n",
      "created_at" : "2014-01-14T11:36:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#issuecomment-32257659",
      "id" : 32257659,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3521",
      "updated_at" : "2014-01-14T11:36:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32257659",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Locking: Don't forget that the DestData functions on CWallet (just like the other address book manipulation functions) require a lock on cs_wallet before calling, as they don't acquire the lock themselves.\r\n",
      "created_at" : "2014-01-14T11:38:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#issuecomment-32257781",
      "id" : 32257781,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3521",
      "updated_at" : "2014-01-14T15:06:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32257781",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Sounds good. Added the lock.",
      "created_at" : "2014-01-14T16:19:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#issuecomment-32279416",
      "id" : 32279416,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3521",
      "updated_at" : "2014-01-14T16:19:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32279416",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2814559?v=3",
         "events_url" : "https://api.github.com/users/cozz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cozz/followers",
         "following_url" : "https://api.github.com/users/cozz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cozz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cozz",
         "id" : 2814559,
         "login" : "cozz",
         "organizations_url" : "https://api.github.com/users/cozz/orgs",
         "received_events_url" : "https://api.github.com/users/cozz/received_events",
         "repos_url" : "https://api.github.com/users/cozz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cozz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cozz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cozz"
      }
   },
   {
      "body" : "Indeed, deleting multiple rows at once seems to be broken. It deletes a different subset than asked (only visible after a restart).\r\n\r\nApart from that it works great. Changing the ordering is not a big issue.\r\n",
      "created_at" : "2014-01-17T09:05:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#issuecomment-32589495",
      "id" : 32589495,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3521",
      "updated_at" : "2014-01-17T09:05:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32589495",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Yes, I did not realize you are supposed to delete multiple rows there... Now fixed.\r\n@emmix Many thanks for pointing this out.\r\n\r\nI also added a third commit \"Add sorting feature\". Default is by date desc, fixing the ordering issue.",
      "created_at" : "2014-01-19T17:32:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#issuecomment-32713947",
      "id" : 32713947,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3521",
      "updated_at" : "2014-01-19T17:32:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32713947",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2814559?v=3",
         "events_url" : "https://api.github.com/users/cozz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cozz/followers",
         "following_url" : "https://api.github.com/users/cozz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cozz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cozz",
         "id" : 2814559,
         "login" : "cozz",
         "organizations_url" : "https://api.github.com/users/cozz/orgs",
         "received_events_url" : "https://api.github.com/users/cozz/received_events",
         "repos_url" : "https://api.github.com/users/cozz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cozz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cozz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cozz"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/4d901023b732efb492d89cebd8555c689ab7663e for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-01-19T17:41:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#issuecomment-32714194",
      "id" : 32714194,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3521",
      "updated_at" : "2014-01-19T17:41:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32714194",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "I have some questions/suggestions. What do you think about them?\r\n\r\n1) display (no amount) instead of 0.00, similar to (no label) (no message)\r\n\r\n2) rename table headline \"Requested payments\" => \"History\"\r\n\r\n3) Change description from\r\n     \"Use this form to request payments.\"\r\n     to\r\n     \"Use this form to create bitcoin addresses and URIs\"\r\n     I dont like the term request payment. Someone may think you are actually requesting something\r\n     from the network, but you are just creating a request. \r\n\r\n4) Rename button \"Request payment\" to \"Create Address/URI\" or \"Create payment information\"\r\n     (Could also say \"generate\" instead of create)\r\n\r\n5) Move this button to the left aligned with the textfields, otherwise the mouse ways are long.\r\n     Put Clear button right to this button or even remove Clear button, with only 3 fields there, the\r\n     Clear button is not so important.\r\n\r\n6) Write a sentence above the 2 fields amount and message:\r\n     \"Amount and message are useful when using bitcoin URIs (bitcoin:1abc...)\r\n       They appear in someones client when clicking the URI\"\r\n     Otherwise people may be confused and think they always have to specify the amount now, to receive coins.\r\n\r\n7) What is the intention with the message field? Shouldnt this appear in sendcoinsdialog, when I click an URI. Is this field even used anywhere currently? Should I implement this? If I understand this correctly the message is ignored when clicking on a simple URI.\r\n\r\n8) Emphasize all fields being optional a little better:\r\n     \"All fields are optional!\" or\r\n     \"All fields are OPTIONAL\"\r\n     or even write next to every label (optional)\r\n\r\n9) Draw a border around the upper form elements.\r\n\r\n10) How about instead of the checkbox \"Reuse an existing address\" make a combo box \"Address:\"\r\n       default is \"Generate new bitcoin address (recommended)\" and then fill the combo with all addresses ordered by label, address? Combo box could be placed below \"Label\" above message and amount.",
      "created_at" : "2014-01-20T07:42:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#issuecomment-32739436",
      "id" : 32739436,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3521",
      "updated_at" : "2014-01-20T07:42:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32739436",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2814559?v=3",
         "events_url" : "https://api.github.com/users/cozz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cozz/followers",
         "following_url" : "https://api.github.com/users/cozz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cozz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cozz",
         "id" : 2814559,
         "login" : "cozz",
         "organizations_url" : "https://api.github.com/users/cozz/orgs",
         "received_events_url" : "https://api.github.com/users/cozz/received_events",
         "repos_url" : "https://api.github.com/users/cozz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cozz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cozz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cozz"
      }
   },
   {
      "body" : "1) ok\r\n\r\n2) History may be too general, don't forget there is transaction history too\r\n\r\n3/4) But eventually this form will be used to create payment requests (BIP 0070). It doesn't do that yet, which may be confusing, sure...\r\nMaybe a better word would be \"invoice\"?\r\n\r\n5) Aligning the 'action' button to the right and the clear button to the left is consistent with the 'send' tab. Don't change this individually.\r\n\r\n6) Fine with me\r\n\r\n7) The message is a standard field that gets embedded in the bitcoin: URI. It is a message for the recipient of the \r\n\"invoice\". Our client doesn't use it currently, but the idea is that it gets saved with the transaction at the sender (it does not get sent over the network).\r\nMaybe hide/remove it for now?\r\n\r\n8) Good idea. I like \"All fields are OPTIONAL\". Don't write it next to every label, I tried that and it's ugly (also tried using * and put the message below, but it looks strange if it applies to all fields).\r\n\r\n9) Fine with me\r\n\r\n10) The number of addresses in the wallet can be huge, please don't put them in a combo box. We want to go away from the idea of addresses being something you have easily graspable, limited quantity of.  I'm not even sure we should have this option at all.\r\n",
      "created_at" : "2014-01-20T08:21:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#issuecomment-32741144",
      "id" : 32741144,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3521",
      "updated_at" : "2014-01-20T11:48:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32741144",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Please make a new issue for those changes. This pull request should be ready for testing/merging right? No need to hold it up.\r\n",
      "created_at" : "2014-01-20T08:27:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#issuecomment-32741376",
      "id" : 32741376,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3521",
      "updated_at" : "2014-01-20T08:27:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32741376",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3521#discussion_r9000490"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3521"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/9000490"
         }
      },
      "body" : "Any need to handle or any chance to see invalid addresses here?",
      "commit_id" : "4d901023b732efb492d89cebd8555c689ab7663e",
      "created_at" : "2014-01-20T10:12:27Z",
      "diff_hunk" : "@@ -554,3 +554,27 @@ void WalletModel::listLockedCoins(std::vector<COutPoint>& vOutpts)\n     LOCK(wallet->cs_wallet);\n     wallet->ListLockedCoins(vOutpts);\n }\n+\n+void WalletModel::loadReceiveRequests(std::vector<std::string>& vReceiveRequests)\n+{\n+    LOCK(wallet->cs_wallet);\n+    BOOST_FOREACH(const PAIRTYPE(CTxDestination, CAddressBookData)& item, wallet->mapAddressBook)\n+        BOOST_FOREACH(const PAIRTYPE(std::string, std::string)& item2, item.second.destdata)\n+            if (item2.first.size() > 2 && item2.first.substr(0,2) == \"rr\") // receive request\n+                vReceiveRequests.push_back(item2.second);\n+}\n+\n+bool WalletModel::saveReceiveRequest(const std::string &sAddress, const int64_t nId, const std::string &sRequest)\n+{\n+    CTxDestination dest = CBitcoinAddress(sAddress).Get();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#discussion_r9000490",
      "id" : 9000490,
      "original_commit_id" : "4d901023b732efb492d89cebd8555c689ab7663e",
      "original_position" : 16,
      "path" : "src/qt/walletmodel.cpp",
      "position" : 16,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3521",
      "updated_at" : "2014-01-20T10:12:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/9000490",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3521#discussion_r9000501"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3521"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/9000501"
         }
      },
      "body" : "Minor personal nit: missing spaces",
      "commit_id" : "4d901023b732efb492d89cebd8555c689ab7663e",
      "created_at" : "2014-01-20T10:13:14Z",
      "diff_hunk" : "@@ -13,10 +13,44 @@\n \n class CWallet;\n \n-struct RecentRequestEntry\n+class RecentRequestEntry\n {\n+public:\n+    RecentRequestEntry() : nVersion(RecentRequestEntry::CURRENT_VERSION), id(0) { }\n+\n+    static const int CURRENT_VERSION=1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#discussion_r9000501",
      "id" : 9000501,
      "original_commit_id" : "4d901023b732efb492d89cebd8555c689ab7663e",
      "original_position" : 10,
      "path" : "src/qt/recentrequeststablemodel.h",
      "position" : 10,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3521",
      "updated_at" : "2014-01-20T10:13:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/9000501",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3521#discussion_r9000524"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3521"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/9000524"
         }
      },
      "body" : "Minor personal nit: space after right",
      "commit_id" : "4d901023b732efb492d89cebd8555c689ab7663e",
      "created_at" : "2014-01-20T10:14:28Z",
      "diff_hunk" : "@@ -13,10 +13,44 @@\n \n class CWallet;\n \n-struct RecentRequestEntry\n+class RecentRequestEntry\n {\n+public:\n+    RecentRequestEntry() : nVersion(RecentRequestEntry::CURRENT_VERSION), id(0) { }\n+\n+    static const int CURRENT_VERSION=1;\n+    int nVersion;\n+    int64_t id;\n     QDateTime date;\n     SendCoinsRecipient recipient;\n+\n+    IMPLEMENT_SERIALIZE\n+    (\n+        RecentRequestEntry* pthis = const_cast<RecentRequestEntry*>(this);\n+\n+        unsigned int nDate = date.toTime_t();\n+\n+        READWRITE(pthis->nVersion);\n+        nVersion = pthis->nVersion;\n+        READWRITE(id);\n+        READWRITE(nDate);\n+        READWRITE(recipient);\n+\n+        if (fRead)\n+            pthis->date = QDateTime::fromTime_t(nDate);\n+    )\n+};\n+\n+class RecentRequestEntryLessThan\n+{\n+public:\n+    RecentRequestEntryLessThan(int nColumn, Qt::SortOrder fOrder):\n+        column(nColumn), order(fOrder) {}\n+    bool operator()(RecentRequestEntry &left, RecentRequestEntry &right ) const;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#discussion_r9000524",
      "id" : 9000524,
      "original_commit_id" : "4d901023b732efb492d89cebd8555c689ab7663e",
      "original_position" : 38,
      "path" : "src/qt/recentrequeststablemodel.h",
      "position" : 38,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3521",
      "updated_at" : "2014-01-20T10:14:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/9000524",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3521#discussion_r9002464"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3521"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/9002464"
         }
      },
      "body" : "I don't think so: a payment request is always generated with one of our own addresses, which are correct by definition.\r\n\r\nEdit: though I suppose it wouldn't hurt to check to prevent storing information on CTXNoDestination\r\n",
      "commit_id" : "4d901023b732efb492d89cebd8555c689ab7663e",
      "created_at" : "2014-01-20T11:48:01Z",
      "diff_hunk" : "@@ -554,3 +554,27 @@ void WalletModel::listLockedCoins(std::vector<COutPoint>& vOutpts)\n     LOCK(wallet->cs_wallet);\n     wallet->ListLockedCoins(vOutpts);\n }\n+\n+void WalletModel::loadReceiveRequests(std::vector<std::string>& vReceiveRequests)\n+{\n+    LOCK(wallet->cs_wallet);\n+    BOOST_FOREACH(const PAIRTYPE(CTxDestination, CAddressBookData)& item, wallet->mapAddressBook)\n+        BOOST_FOREACH(const PAIRTYPE(std::string, std::string)& item2, item.second.destdata)\n+            if (item2.first.size() > 2 && item2.first.substr(0,2) == \"rr\") // receive request\n+                vReceiveRequests.push_back(item2.second);\n+}\n+\n+bool WalletModel::saveReceiveRequest(const std::string &sAddress, const int64_t nId, const std::string &sRequest)\n+{\n+    CTxDestination dest = CBitcoinAddress(sAddress).Get();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#discussion_r9002464",
      "id" : 9002464,
      "original_commit_id" : "4d901023b732efb492d89cebd8555c689ab7663e",
      "original_position" : 16,
      "path" : "src/qt/walletmodel.cpp",
      "position" : 16,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3521",
      "updated_at" : "2014-01-20T11:53:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/9002464",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj @Diapolo I do prevent storing to CNoDestination, but in wallet.cpp, CWallet::AddDestData. I hope this is ok.\r\n\r\n@laanwj Thanks for your feedback, I will open a new pull for the other changes. Yes this one is ready for testing. I did not follow any testplan, just randomly sorted, added, deleted rows, then restart to check, if everything gets restored correctly. Works for me so far.\r\n\r\n@Diapolo Unless there is any other update to this pull, I will put your nits in a future pull request.",
      "created_at" : "2014-01-20T16:51:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3521#issuecomment-32776452",
      "id" : 32776452,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3521",
      "updated_at" : "2014-01-20T16:51:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32776452",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2814559?v=3",
         "events_url" : "https://api.github.com/users/cozz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cozz/followers",
         "following_url" : "https://api.github.com/users/cozz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cozz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cozz",
         "id" : 2814559,
         "login" : "cozz",
         "organizations_url" : "https://api.github.com/users/cozz/orgs",
         "received_events_url" : "https://api.github.com/users/cozz/received_events",
         "repos_url" : "https://api.github.com/users/cozz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cozz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cozz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cozz"
      }
   }
]
