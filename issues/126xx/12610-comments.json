[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12610#discussion_r172555271"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172555271"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The first item in the menu is now created in the UI file, while new ones are created programatically. Can you make them all programmatically or maybe find a way to clone elements? Can be done in a future PR too.",
      "commit_id" : "98cce65601e7da3d551cf2b8b5aaed1e4636427f",
      "created_at" : "2018-03-06T15:34:05Z",
      "diff_hunk" : "@@ -529,12 +538,22 @@ void BitcoinGUI::setClientModel(ClientModel *_clientModel)\n }\n \n #ifdef ENABLE_WALLET\n-bool BitcoinGUI::addWallet(const QString& name, WalletModel *walletModel)\n+bool BitcoinGUI::addWallet(WalletModel *walletModel)\n {\n     if(!walletFrame)\n         return false;\n+    const QString name = walletModel->getWalletName();\n     setWalletActionsEnabled(true);\n-    return walletFrame->addWallet(name, walletModel);\n+    m_wallet_selector->addItem(name);\n+    if (m_wallet_selector->count() == 2) {\n+        m_wallet_selector_label = new QLabel();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12610#discussion_r172555271",
      "id" : 172555271,
      "original_commit_id" : "98cce65601e7da3d551cf2b8b5aaed1e4636427f",
      "original_position" : 73,
      "path" : "src/qt/bitcoingui.cpp",
      "position" : 73,
      "pull_request_review_id" : 101591205,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12610",
      "updated_at" : "2018-03-06T16:11:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172555271",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12610#discussion_r172558101"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172558101"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why is this a method on WalletModel? Otherwise you could use `m_wallet_models->count()`. Maybe we need a `WalletsModel` class to hold on to a series of wallets? ",
      "commit_id" : "98cce65601e7da3d551cf2b8b5aaed1e4636427f",
      "created_at" : "2018-03-06T15:41:36Z",
      "diff_hunk" : "@@ -743,3 +744,18 @@ int WalletModel::getDefaultConfirmTarget() const\n {\n     return nTxConfirmTarget;\n }\n+\n+QString WalletModel::getWalletName() const\n+{\n+    LOCK(wallet->cs_wallet);\n+    QString walletName = QString::fromStdString(wallet->GetName());\n+    if (walletName.endsWith(\".dat\")) {\n+        walletName.truncate(walletName.size() - 4);\n+    }\n+    return walletName;\n+}\n+\n+bool WalletModel::isMultiwallet()\n+{\n+    return gArgs.GetArgs(\"-wallet\").size() > 1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12610#discussion_r172558101",
      "id" : 172558101,
      "original_commit_id" : "98cce65601e7da3d551cf2b8b5aaed1e4636427f",
      "original_position" : 29,
      "path" : "src/qt/walletmodel.cpp",
      "position" : 29,
      "pull_request_review_id" : 101591205,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12610",
      "updated_at" : "2018-03-06T16:11:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172558101",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12610#discussion_r172565764"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172565764"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Seems to need a line break above:\r\n<img width=\"362\" alt=\"wallet\" src=\"https://user-images.githubusercontent.com/10217/37042990-94fbbe50-212d-11e8-89f5-0ebc1abba96e.png\">\r\n",
      "commit_id" : "98cce65601e7da3d551cf2b8b5aaed1e4636427f",
      "created_at" : "2018-03-06T16:00:46Z",
      "diff_hunk" : "@@ -982,12 +1001,15 @@ void BitcoinGUI::showEvent(QShowEvent *event)\n }\n \n #ifdef ENABLE_WALLET\n-void BitcoinGUI::incomingTransaction(const QString& date, int unit, const CAmount& amount, const QString& type, const QString& address, const QString& label)\n+void BitcoinGUI::incomingTransaction(const QString& date, int unit, const CAmount& amount, const QString& type, const QString& address, const QString& label, const QString& walletName)\n {\n     // On new transaction, make an info balloon\n     QString msg = tr(\"Date: %1\\n\").arg(date) +\n-                  tr(\"Amount: %1\\n\").arg(BitcoinUnits::formatWithUnit(unit, amount, true)) +\n-                  tr(\"Type: %1\\n\").arg(type);\n+                  tr(\"Amount: %1\\n\").arg(BitcoinUnits::formatWithUnit(unit, amount, true));\n+    if (WalletModel::isMultiwallet() && !walletName.isEmpty())  {\n+        msg += tr(\"Wallet: %1\\n\").arg(walletName);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12610#discussion_r172565764",
      "id" : 172565764,
      "original_commit_id" : "98cce65601e7da3d551cf2b8b5aaed1e4636427f",
      "original_position" : 97,
      "path" : "src/qt/bitcoingui.cpp",
      "position" : 97,
      "pull_request_review_id" : 101591205,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12610",
      "updated_at" : "2018-03-06T16:11:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172565764",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This is strictly an inferior design to #11383, which already has ACKs and is ready for merging as-is.\r\n\r\nThe minor other improvements can be done on top of that.",
      "created_at" : "2018-03-06T18:53:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12610#issuecomment-370887923",
      "id" : 370887923,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12610",
      "updated_at" : "2018-03-06T18:53:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/370887923",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@luke-jr it's not strictly better; this PR has a cleaner separation of model and view. I can't speak to the other differences.",
      "created_at" : "2018-03-06T22:16:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12610#issuecomment-370948864",
      "id" : 370948864,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12610",
      "updated_at" : "2018-03-06T22:16:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/370948864",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
