[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Any relation with #12257, which adds an `-avoidpartialspends` option to coin selection, or is that basically orthogonal?",
      "created_at" : "2018-03-05T21:12:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12605#issuecomment-370567428",
      "id" : 370567428,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12605",
      "updated_at" : "2018-03-05T21:12:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/370567428",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yeah that should be orthogonal I think.",
      "created_at" : "2018-03-05T21:31:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12605#issuecomment-370573064",
      "id" : 370573064,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12605",
      "updated_at" : "2018-03-05T21:31:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/370573064",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/4360349?v=4",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I've done some review on #10637 and one thing that made the diff confusing (to me at least) is that there was a fair amount of legacy code moved around, which isn't obvious from a first glance. There's a lot of weird stuff in the legacy code that I don't think would pass code review today. After #10637 is approved, I think it's a good idea to do an overall cleanup/refactor of what exists at the same time as (or maybe in a PR just prior to) the removal of the exact match algorithm, with the intent of making it easier to get later changes merged.",
      "created_at" : "2018-03-11T08:25:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12605#issuecomment-372097929",
      "id" : 372097929,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12605",
      "updated_at" : "2018-03-11T08:25:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372097929",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/2734?v=4",
         "events_url" : "https://api.github.com/users/eklitzke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eklitzke/followers",
         "following_url" : "https://api.github.com/users/eklitzke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eklitzke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eklitzke",
         "id" : 2734,
         "login" : "eklitzke",
         "organizations_url" : "https://api.github.com/users/eklitzke/orgs",
         "received_events_url" : "https://api.github.com/users/eklitzke/received_events",
         "repos_url" : "https://api.github.com/users/eklitzke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eklitzke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eklitzke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@morcos should this issue replace #7664? See also #6569 on the related topic of change address privacy.",
      "created_at" : "2018-03-16T15:13:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12605#issuecomment-373744207",
      "id" : 373744207,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12605",
      "updated_at" : "2018-03-16T18:50:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373744207",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm going to very much disagree with the high-level direction here. The thing about coin selection, is that you are just managing a bunch of trade-offs and without knowing future spending patterns (and their fee rates) you're shooting in the dark.\r\n\r\nThe idea of aggressively consolidating (by using small inputs) is generally not a good one for both privacy and fees (for example, it makes it harder to use exact-change later), and really is conflating two different problems (there should instead be a `consolidate` command, that cleans up your utxo with a super low fee transaction).\r\n\r\nI kind of believe that you can't really get far in coin selection unless you add a \"future spend cost\" argument, that lets it know how much you're expecting to pay in the future. For consumer wallets this could even just be the average fee (for the conf target they're using) for the last month. \r\n\r\nBut honestly, coin selection is a very hard problem. I really strongly think the sane way forward for core is by making coin-selection have a well defined interface and a sort of plugin architecture. One size will never fit all, and the best way to allow things to move forward would be to allow people to experiment and work with it easily.\r\n\r\nFor anyone interested in coin selection, I'd like to shill https://www.coinsayer.com/  which uses a lot of techniques not very applicable to core ( like running several constraint solvers and models), but I think the API itself is quite interesting (as it's quite general and powerful, supporting even generating conflicts for things like bip125) and better models the problem than previously done. Also there's a demo server  (freeapi) running, which everyone is free to hammer as hard as the want if you want to test specific scenarios or try measure the uplift. ",
      "created_at" : "2018-03-16T15:41:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12605#issuecomment-373753641",
      "id" : 373753641,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12605",
      "updated_at" : "2018-03-16T15:42:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373753641",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@RHavar: Since the previous coin selection algorithm was highly consolidatory, we want to switch to a less strict rule set in a few steps that take a large leap in one go. That's why we've decided to fallback to the old algorithm first, and to slacken its behavior in small steps.\r\n\r\nI would agree though, that the old selection style is consolidating too aggressively, which (per gutfeeling) is probably increasing overall user costs and reducing privacy.",
      "created_at" : "2018-03-19T18:12:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12605#issuecomment-374312270",
      "id" : 374312270,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12605",
      "updated_at" : "2018-03-19T18:12:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374312270",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/Xekyo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Xekyo/followers",
         "following_url" : "https://api.github.com/users/Xekyo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Xekyo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Xekyo",
         "id" : 4060799,
         "login" : "Xekyo",
         "organizations_url" : "https://api.github.com/users/Xekyo/orgs",
         "received_events_url" : "https://api.github.com/users/Xekyo/received_events",
         "repos_url" : "https://api.github.com/users/Xekyo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Xekyo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Xekyo"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Isn't #10637 already going to be highly consolidatory? At least when that kicks in, users are getting a substantial privacy and fee saving.\r\n\r\nI personally don't really see a point in having the \"with change fallback\" also consolidatory (in fact, it seems a lot worse). If anything the \"with change fallback\"'s primary objective should be to maximize the chance that the primary \"no change\" selection is able to be successful in the next run. \r\n\r\n",
      "created_at" : "2018-03-19T18:28:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12605#issuecomment-374317488",
      "id" : 374317488,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12605",
      "updated_at" : "2018-03-19T18:28:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374317488",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   }
]
