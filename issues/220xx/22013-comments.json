[
   {
      "author_association" : "MEMBER",
      "body" : "utACK fe3d17d\r\n\r\n`IsFullOutboundConn()` indeed seems the right replacement for `IsOutboundOrBlockRelayConn()`, given their respective definitions:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/eb4df9a628bdcdd1333c7fa4fb23c73df9642902/src/net.h#L468-L485",
      "created_at" : "2021-05-21T13:37:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22013#issuecomment-845956468",
      "id" : 845956468,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22013",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0NTk1NjQ2OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-21T13:37:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/845956468",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Oh good catch.\r\n\r\nConcept ACK",
      "created_at" : "2021-05-21T19:57:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22013#issuecomment-846220688",
      "id" : 846220688,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22013",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0NjIyMDY4OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-21T19:57:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/846220688",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK fe3d17df04decc4e856121eb311636977d60f80f, this impacts the very common case where we stop/start a node, persisting anchors & have a non-empty addrman (although, to be clear, wouldn't be particularly problematic in the common cases where the addrman has valid addresses)\r\n\r\nI tried to figure out if I could write a functional test to cover this code path, but seems like a no go- I can add outbound-block-relay only connections & then shut down the node to persist them to anchors, but they can't reconnect before hitting `ThreadDNSAddressSeed` on startup unless we do something more invasive to the test framework, which doesn't seem worth it. ",
      "created_at" : "2021-05-21T23:22:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22013#issuecomment-846307024",
      "id" : 846307024,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22013",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0NjMwNzAyNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-21T23:24:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/846307024",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This is not the first bug in p2p bootstrap behaviour (#19795, #15434), so in due time having a functional test for this would be nice.",
      "created_at" : "2021-05-22T12:07:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22013#issuecomment-846398960",
      "id" : 846398960,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22013",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0NjM5ODk2MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-22T12:07:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/846398960",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
