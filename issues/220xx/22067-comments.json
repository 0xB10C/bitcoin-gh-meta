[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639712155"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639712155"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I believe you can omit `--descriptors` when this check is present, @achow101?",
      "commit_id" : "69b071e5dbd165eaa63092914a79e592f3a48d4b",
      "created_at" : "2021-05-26T13:13:00Z",
      "diff_hunk" : "@@ -0,0 +1,145 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2019-2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test a basic M-of-N multisig setup between multiple people using descriptor wallets and PSBTs, as well as a signing flow.\n+\n+This is meant to be documentation as much as functional tests, so it is kept as simple and readable as possible.\n+\"\"\"\n+\n+from test_framework.address import base58_to_byte\n+from test_framework.descriptors import descsum_create\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_approx,\n+    assert_equal,\n+)\n+\n+\n+class WalletMultisigDescriptorPSBTTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 3\n+        self.setup_clean_chain = True\n+        self.wallet_names = []\n+        self.extra_args = [[\"-keypool=100\"]] * self.num_nodes\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+        self.skip_if_no_sqlite()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639712155",
      "id" : 639712155,
      "line" : 28,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzOTcxMjE1NQ==",
      "original_commit_id" : "4069660cac1c50f2b6f066223e95cc5e6d68a3dc",
      "original_line" : 28,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/wallet_multisig_descriptor_psbt.py",
      "position" : 28,
      "pull_request_review_id" : 669000786,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-26T13:29:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639712155",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639712512"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639712512"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: 2021",
      "commit_id" : "69b071e5dbd165eaa63092914a79e592f3a48d4b",
      "created_at" : "2021-05-26T13:13:22Z",
      "diff_hunk" : "@@ -0,0 +1,145 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2019-2020 The Bitcoin Core developers",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639712512",
      "id" : 639712512,
      "line" : 2,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzOTcxMjUxMg==",
      "original_commit_id" : "4069660cac1c50f2b6f066223e95cc5e6d68a3dc",
      "original_line" : 2,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "test/functional/wallet_multisig_descriptor_psbt.py",
      "position" : 2,
      "pull_request_review_id" : 669000786,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-26T13:29:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639712512",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639720462"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639720462"
         }
      },
      "author_association" : "MEMBER",
      "body" : "\"is to create a new descriptor wallet. Avoid reusing this wallet for any other purpose.\"\r\n\r\nCould add a hint here on how to extract the xpub. Using `listdescriptors` and maybe pick the one from `pkh`, since you're least likely to accidentally reuse that (legacy addresses).",
      "commit_id" : "69b071e5dbd165eaa63092914a79e592f3a48d4b",
      "created_at" : "2021-05-26T13:22:32Z",
      "diff_hunk" : "@@ -131,6 +131,27 @@ Key order does not matter for `sortedmulti()`. `sortedmulti()` behaves in the sa\n as `multi()` does but the keys are reordered in the resulting script such that they\n are lexicographically ordered as described in BIP67.\n \n+#### Basic multisig example\n+\n+For a good example of a basic M-of-N multisig between multiple participants using descriptor\n+wallets and PSBTs, as well as a signing flow, see [this functional test](/test/functional/wallet_multisig_descriptor_psbt.py).\n+The basic steps are:\n+\n+  1. Every participant generates an xpub. The most straightforward way is to create a new wallet",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639720462",
      "id" : 639720462,
      "line" : 140,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzOTcyMDQ2Mg==",
      "original_commit_id" : "4069660cac1c50f2b6f066223e95cc5e6d68a3dc",
      "original_line" : 140,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "doc/descriptors.md",
      "position" : 10,
      "pull_request_review_id" : 669000786,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-26T13:29:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639720462",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639721497"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639721497"
         }
      },
      "author_association" : "MEMBER",
      "body" : "So they have to make a fresh watch-only wallet first.",
      "commit_id" : "69b071e5dbd165eaa63092914a79e592f3a48d4b",
      "created_at" : "2021-05-26T13:23:43Z",
      "diff_hunk" : "@@ -131,6 +131,27 @@ Key order does not matter for `sortedmulti()`. `sortedmulti()` behaves in the sa\n as `multi()` does but the keys are reordered in the resulting script such that they\n are lexicographically ordered as described in BIP67.\n \n+#### Basic multisig example\n+\n+For a good example of a basic M-of-N multisig between multiple participants using descriptor\n+wallets and PSBTs, as well as a signing flow, see [this functional test](/test/functional/wallet_multisig_descriptor_psbt.py).\n+The basic steps are:\n+\n+  1. Every participant generates an xpub. The most straightforward way is to create a new wallet\n+  2. The multisig is created by importing the following descriptors: `wsh(sortedmulti(<M>,xpubA/<0,1>/*,xpubB/<0,1>/*,â¦,xpubN/<0,1>/*))`",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639721497",
      "id" : 639721497,
      "line" : 141,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzOTcyMTQ5Nw==",
      "original_commit_id" : "4069660cac1c50f2b6f066223e95cc5e6d68a3dc",
      "original_line" : 141,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "doc/descriptors.md",
      "position" : 11,
      "pull_request_review_id" : 669000786,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-26T13:29:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639721497",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639721973"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639721973"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`every participant checks that it gets the same addresses)` maybe move to step 3",
      "commit_id" : "69b071e5dbd165eaa63092914a79e592f3a48d4b",
      "created_at" : "2021-05-26T13:24:18Z",
      "diff_hunk" : "@@ -131,6 +131,27 @@ Key order does not matter for `sortedmulti()`. `sortedmulti()` behaves in the sa\n as `multi()` does but the keys are reordered in the resulting script such that they\n are lexicographically ordered as described in BIP67.\n \n+#### Basic multisig example\n+\n+For a good example of a basic M-of-N multisig between multiple participants using descriptor\n+wallets and PSBTs, as well as a signing flow, see [this functional test](/test/functional/wallet_multisig_descriptor_psbt.py).\n+The basic steps are:\n+\n+  1. Every participant generates an xpub. The most straightforward way is to create a new wallet\n+  2. The multisig is created by importing the following descriptors: `wsh(sortedmulti(<M>,xpubA/<0,1>/*,xpubB/<0,1>/*,â¦,xpubN/<0,1>/*))`\n+    (one descriptor w/ `0` for receiving addresses and another w/ `1` for change). The resulting\n+    wallet is watch-only and every participant does this\n+  3. A receiving address is generated for the multisig\n+  4. Funds are sent to the resulting address (every participant checks that it gets the same addresses)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639721973",
      "id" : 639721973,
      "line" : 145,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzOTcyMTk3Mw==",
      "original_commit_id" : "4069660cac1c50f2b6f066223e95cc5e6d68a3dc",
      "original_line" : 145,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "doc/descriptors.md",
      "position" : 15,
      "pull_request_review_id" : 669000786,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-26T13:29:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639721973",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639722630"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639722630"
         }
      },
      "author_association" : "MEMBER",
      "body" : "(much easier in the GUI)",
      "commit_id" : "69b071e5dbd165eaa63092914a79e592f3a48d4b",
      "created_at" : "2021-05-26T13:25:01Z",
      "diff_hunk" : "@@ -131,6 +131,27 @@ Key order does not matter for `sortedmulti()`. `sortedmulti()` behaves in the sa\n as `multi()` does but the keys are reordered in the resulting script such that they\n are lexicographically ordered as described in BIP67.\n \n+#### Basic multisig example\n+\n+For a good example of a basic M-of-N multisig between multiple participants using descriptor\n+wallets and PSBTs, as well as a signing flow, see [this functional test](/test/functional/wallet_multisig_descriptor_psbt.py).\n+The basic steps are:\n+\n+  1. Every participant generates an xpub. The most straightforward way is to create a new wallet\n+  2. The multisig is created by importing the following descriptors: `wsh(sortedmulti(<M>,xpubA/<0,1>/*,xpubB/<0,1>/*,â¦,xpubN/<0,1>/*))`\n+    (one descriptor w/ `0` for receiving addresses and another w/ `1` for change). The resulting\n+    wallet is watch-only and every participant does this\n+  3. A receiving address is generated for the multisig\n+  4. Funds are sent to the resulting address (every participant checks that it gets the same addresses)\n+  5. A sending transaction is created using `walletcreatefundedpsbt` (anyone can initiate this)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639722630",
      "id" : 639722630,
      "line" : 146,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzOTcyMjYzMA==",
      "original_commit_id" : "4069660cac1c50f2b6f066223e95cc5e6d68a3dc",
      "original_line" : 146,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "doc/descriptors.md",
      "position" : 16,
      "pull_request_review_id" : 669000786,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-26T13:29:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639722630",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639723123"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639723123"
         }
      },
      "author_association" : "MEMBER",
      "body" : "(or load psbt in the GUI, which takes care of 7 too)",
      "commit_id" : "69b071e5dbd165eaa63092914a79e592f3a48d4b",
      "created_at" : "2021-05-26T13:25:32Z",
      "diff_hunk" : "@@ -131,6 +131,27 @@ Key order does not matter for `sortedmulti()`. `sortedmulti()` behaves in the sa\n as `multi()` does but the keys are reordered in the resulting script such that they\n are lexicographically ordered as described in BIP67.\n \n+#### Basic multisig example\n+\n+For a good example of a basic M-of-N multisig between multiple participants using descriptor\n+wallets and PSBTs, as well as a signing flow, see [this functional test](/test/functional/wallet_multisig_descriptor_psbt.py).\n+The basic steps are:\n+\n+  1. Every participant generates an xpub. The most straightforward way is to create a new wallet\n+  2. The multisig is created by importing the following descriptors: `wsh(sortedmulti(<M>,xpubA/<0,1>/*,xpubB/<0,1>/*,â¦,xpubN/<0,1>/*))`\n+    (one descriptor w/ `0` for receiving addresses and another w/ `1` for change). The resulting\n+    wallet is watch-only and every participant does this\n+  3. A receiving address is generated for the multisig\n+  4. Funds are sent to the resulting address (every participant checks that it gets the same addresses)\n+  5. A sending transaction is created using `walletcreatefundedpsbt` (anyone can initiate this)\n+  6. At least `M` users check the PSBT with `decodepsbt` and (if OK) signs it with `walletprocesspsbt`",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639723123",
      "id" : 639723123,
      "line" : 147,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzOTcyMzEyMw==",
      "original_commit_id" : "4069660cac1c50f2b6f066223e95cc5e6d68a3dc",
      "original_line" : 147,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "doc/descriptors.md",
      "position" : 17,
      "pull_request_review_id" : 669000786,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-26T13:29:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639723123",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the thorough review and suggestions @Sjors ! I've addressed all your feedback in my latest push.\r\n\r\n> This documentation and example also help illustrate where things could be made easier, e.g.:\r\n> \r\n> * having a wallet with just a seed, but no descriptors, and a way to ask it for an xpub\r\n\r\nI see the benefit of this - I found it tricky to extract a wallet's xpubs in bitcoin core (didn't find a way to do this w/ the GUI, the only way I know is w/ the rpc command `listdescritptors` as documented/tested here, but that means users will need to use the console for this). While most other wallets seem to make this easily accessible\r\n\r\n> * and RPC call (or wallet-tool command) to create a multisig descriptor given a bunch xpubs\r\n\r\nInteresting idea - I guess this would take care of step 2 in one easy command? Is the reason you suggest this to push forward \"standardization\" of multisigs similar to the approach outlined here?\r\n",
      "created_at" : "2021-05-26T14:45:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22067#issuecomment-848831321",
      "id" : 848831321,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22067",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0ODgzMTMyMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-26T14:45:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/848831321",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639800354"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639800354"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Just for my understanding, what are the practical drawbacks/risks of someone re-using this wallet for other purposes? To me it's not obvious why I shouldn't have a \"signer\" wallet that signs for a few multisigs and also has some of its own funds",
      "commit_id" : "932de9b3cb7baf128a506dda3c3ec5a88e07b6ca",
      "created_at" : "2021-05-26T14:47:23Z",
      "diff_hunk" : "@@ -131,6 +131,27 @@ Key order does not matter for `sortedmulti()`. `sortedmulti()` behaves in the sa\n as `multi()` does but the keys are reordered in the resulting script such that they\n are lexicographically ordered as described in BIP67.\n \n+#### Basic multisig example\n+\n+For a good example of a basic M-of-N multisig between multiple participants using descriptor\n+wallets and PSBTs, as well as a signing flow, see [this functional test](/test/functional/wallet_multisig_descriptor_psbt.py).\n+The basic steps are:\n+\n+  1. Every participant generates an xpub. The most straightforward way is to create a new wallet",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639800354",
      "id" : 639800354,
      "in_reply_to_id" : 639720462,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzOTgwMDM1NA==",
      "original_commit_id" : "4069660cac1c50f2b6f066223e95cc5e6d68a3dc",
      "original_line" : 140,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "doc/descriptors.md",
      "position" : null,
      "pull_request_review_id" : 669120730,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-26T14:47:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639800354",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639821031"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639821031"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's bad for your privacy if (and only if) you share that xpub with co-signers. They'll be able to guess the single-signature wallet derivation and see your transactions. If the M-of-N is just you then it doesn't matter.",
      "commit_id" : "932de9b3cb7baf128a506dda3c3ec5a88e07b6ca",
      "created_at" : "2021-05-26T15:08:51Z",
      "diff_hunk" : "@@ -131,6 +131,27 @@ Key order does not matter for `sortedmulti()`. `sortedmulti()` behaves in the sa\n as `multi()` does but the keys are reordered in the resulting script such that they\n are lexicographically ordered as described in BIP67.\n \n+#### Basic multisig example\n+\n+For a good example of a basic M-of-N multisig between multiple participants using descriptor\n+wallets and PSBTs, as well as a signing flow, see [this functional test](/test/functional/wallet_multisig_descriptor_psbt.py).\n+The basic steps are:\n+\n+  1. Every participant generates an xpub. The most straightforward way is to create a new wallet",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639821031",
      "id" : 639821031,
      "in_reply_to_id" : 639720462,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzOTgyMTAzMQ==",
      "original_commit_id" : "4069660cac1c50f2b6f066223e95cc5e6d68a3dc",
      "original_line" : 140,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "doc/descriptors.md",
      "position" : null,
      "pull_request_review_id" : 669148783,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-26T15:09:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639821031",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639823159"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639823159"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah OK got it - thanks!",
      "commit_id" : "932de9b3cb7baf128a506dda3c3ec5a88e07b6ca",
      "created_at" : "2021-05-26T15:11:12Z",
      "diff_hunk" : "@@ -131,6 +131,27 @@ Key order does not matter for `sortedmulti()`. `sortedmulti()` behaves in the sa\n as `multi()` does but the keys are reordered in the resulting script such that they\n are lexicographically ordered as described in BIP67.\n \n+#### Basic multisig example\n+\n+For a good example of a basic M-of-N multisig between multiple participants using descriptor\n+wallets and PSBTs, as well as a signing flow, see [this functional test](/test/functional/wallet_multisig_descriptor_psbt.py).\n+The basic steps are:\n+\n+  1. Every participant generates an xpub. The most straightforward way is to create a new wallet",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639823159",
      "id" : 639823159,
      "in_reply_to_id" : 639720462,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzOTgyMzE1OQ==",
      "original_commit_id" : "4069660cac1c50f2b6f066223e95cc5e6d68a3dc",
      "original_line" : 140,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "doc/descriptors.md",
      "position" : null,
      "pull_request_review_id" : 669151689,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-26T15:11:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639823159",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Eventually it would be nice if step (1) and (2) are trivial to do with RPC or standalone tools. And then hopefully also easy to add GUI support for them. E.g. a screen where you can share your xpub, copy-paste xpubs from your co-signers, set the threshold, etc. Standardisation is another issue.",
      "created_at" : "2021-05-26T15:11:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22067#issuecomment-848853056",
      "id" : 848853056,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22067",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0ODg1MzA1Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-26T15:11:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/848853056",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639827069"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639827069"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If you have a wallet with just signers, this may not matter, but generally, if you have one wallet with multiple unrelated funds/descriptors imported, its balances will be the sum of all, with no way to separate them out. That may not be what you want.",
      "commit_id" : "932de9b3cb7baf128a506dda3c3ec5a88e07b6ca",
      "created_at" : "2021-05-26T15:15:21Z",
      "diff_hunk" : "@@ -131,6 +131,27 @@ Key order does not matter for `sortedmulti()`. `sortedmulti()` behaves in the sa\n as `multi()` does but the keys are reordered in the resulting script such that they\n are lexicographically ordered as described in BIP67.\n \n+#### Basic multisig example\n+\n+For a good example of a basic M-of-N multisig between multiple participants using descriptor\n+wallets and PSBTs, as well as a signing flow, see [this functional test](/test/functional/wallet_multisig_descriptor_psbt.py).\n+The basic steps are:\n+\n+  1. Every participant generates an xpub. The most straightforward way is to create a new wallet",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22067#discussion_r639827069",
      "id" : 639827069,
      "in_reply_to_id" : 639720462,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzOTgyNzA2OQ==",
      "original_commit_id" : "4069660cac1c50f2b6f066223e95cc5e6d68a3dc",
      "original_line" : 140,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "doc/descriptors.md",
      "position" : null,
      "pull_request_review_id" : 669156919,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22067",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-26T15:15:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639827069",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
