[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153224963"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153224963"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Instead of moving them to a separate file, you could add convenience wrappers to the `test_node` class? Thus, it would not be required to pass in host and port all the time.",
      "commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "created_at" : "2017-11-27T15:17:33Z",
      "diff_hunk" : "@@ -0,0 +1,23 @@\n+import http.client\n+\n+\n+#allows simple http get calls\n+def http_get_call(host, port, path, response_object = 0):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153224963",
      "id" : 153224963,
      "original_commit_id" : "5ee1c95b4ac29d3202b72255ade8a347a012cb1e",
      "original_position" : 5,
      "path" : "test/functional/test_framework/rest.py",
      "position" : 5,
      "pull_request_review_id" : 79199700,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770",
      "updated_at" : "2017-11-27T15:22:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153224963",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153231641"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153231641"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Unrelated change, please revert.",
      "commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "created_at" : "2017-11-27T15:38:44Z",
      "diff_hunk" : "@@ -2,7 +2,6 @@\n // Copyright (c) 2009-2016 The Bitcoin Core developers\n // Distributed under the MIT software license, see the accompanying\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153231641",
      "id" : 153231641,
      "original_commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "original_position" : 4,
      "path" : "src/rest.cpp",
      "position" : 4,
      "pull_request_review_id" : 79207623,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770",
      "updated_at" : "2017-11-27T16:00:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153231641",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153231700"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153231700"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Unrelated change, please revert.",
      "commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "created_at" : "2017-11-27T15:38:55Z",
      "diff_hunk" : "@@ -283,6 +283,7 @@ static bool rest_chaininfo(HTTPRequest* req, const std::string& strURIPart)\n     case RF_JSON: {\n         JSONRPCRequest jsonRequest;\n         jsonRequest.params = UniValue(UniValue::VARR);\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153231700",
      "id" : 153231700,
      "original_commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "original_position" : 20,
      "path" : "src/rest.cpp",
      "position" : 20,
      "pull_request_review_id" : 79207623,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770",
      "updated_at" : "2017-11-27T16:00:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153231700",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153232663"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153232663"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Remove empty line.",
      "commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "created_at" : "2017-11-27T15:41:56Z",
      "diff_hunk" : "@@ -570,6 +571,55 @@ static bool rest_getutxos(HTTPRequest* req, const std::string& strURIPart)\n     }\n }\n \n+// A bit of a hack - dependency on a function defined in rpc/mining.cpp\n+UniValue estimatesmartfee(const JSONRPCRequest& request);\n+\n+static bool rest_getfee(HTTPRequest* req, const std::string& strURIPart) {\n+    if (!CheckWarmup(req))\n+        return false;\n+    std::string param;\n+    const RetFormat rf = ParseDataFormat(param, strURIPart);\n+\n+    std::vector<std::string> path;\n+    boost::split(path, param, boost::is_any_of(\"/\"));\n+    path.erase(path.begin());\n+\n+    if (path.size() != 2)\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Path must be /rest/fee/<MODE>/<TARGET>.json\");\n+\n+    // check estimation mode is valid\n+    auto modestr = path[0];\n+    std::transform(modestr.cbegin(), modestr.cend(), modestr.begin(), toupper);\n+    FeeEstimateMode mode;\n+    if (!FeeModeFromString(modestr, mode)){\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"<MODE> must be one of <unset|economical|conservative>\");\n+    };\n+\n+\n+    switch (rf) {\n+    case RF_JSON: {\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153232663",
      "id" : 153232663,
      "original_commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "original_position" : 55,
      "path" : "src/rest.cpp",
      "position" : 55,
      "pull_request_review_id" : 79207623,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770",
      "updated_at" : "2017-11-27T16:00:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153232663",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153232814"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153232814"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Remove empty line.",
      "commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "created_at" : "2017-11-27T15:42:20Z",
      "diff_hunk" : "@@ -570,6 +571,55 @@ static bool rest_getutxos(HTTPRequest* req, const std::string& strURIPart)\n     }\n }\n \n+// A bit of a hack - dependency on a function defined in rpc/mining.cpp\n+UniValue estimatesmartfee(const JSONRPCRequest& request);\n+\n+static bool rest_getfee(HTTPRequest* req, const std::string& strURIPart) {\n+    if (!CheckWarmup(req))\n+        return false;\n+    std::string param;\n+    const RetFormat rf = ParseDataFormat(param, strURIPart);\n+\n+    std::vector<std::string> path;\n+    boost::split(path, param, boost::is_any_of(\"/\"));\n+    path.erase(path.begin());\n+\n+    if (path.size() != 2)\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Path must be /rest/fee/<MODE>/<TARGET>.json\");\n+\n+    // check estimation mode is valid\n+    auto modestr = path[0];\n+    std::transform(modestr.cbegin(), modestr.cend(), modestr.begin(), toupper);\n+    FeeEstimateMode mode;\n+    if (!FeeModeFromString(modestr, mode)){\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"<MODE> must be one of <unset|economical|conservative>\");\n+    };\n+\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153232814",
      "id" : 153232814,
      "original_commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "original_position" : 52,
      "path" : "src/rest.cpp",
      "position" : 52,
      "pull_request_review_id" : 79207623,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770",
      "updated_at" : "2017-11-27T16:00:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153232814",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153235268"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153235268"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sounds weird to \"redirect\" to RPC handler (redo the mode parse etc). Maybe factor out what is needed from there?\r\n\r\nMaybe just call `::feeEstimator.estimateSmartFee()` here? ",
      "commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "created_at" : "2017-11-27T15:49:37Z",
      "diff_hunk" : "@@ -570,6 +571,55 @@ static bool rest_getutxos(HTTPRequest* req, const std::string& strURIPart)\n     }\n }\n \n+// A bit of a hack - dependency on a function defined in rpc/mining.cpp\n+UniValue estimatesmartfee(const JSONRPCRequest& request);\n+\n+static bool rest_getfee(HTTPRequest* req, const std::string& strURIPart) {\n+    if (!CheckWarmup(req))\n+        return false;\n+    std::string param;\n+    const RetFormat rf = ParseDataFormat(param, strURIPart);\n+\n+    std::vector<std::string> path;\n+    boost::split(path, param, boost::is_any_of(\"/\"));\n+    path.erase(path.begin());\n+\n+    if (path.size() != 2)\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Path must be /rest/fee/<MODE>/<TARGET>.json\");\n+\n+    // check estimation mode is valid\n+    auto modestr = path[0];\n+    std::transform(modestr.cbegin(), modestr.cend(), modestr.begin(), toupper);\n+    FeeEstimateMode mode;\n+    if (!FeeModeFromString(modestr, mode)){\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"<MODE> must be one of <unset|economical|conservative>\");\n+    };\n+\n+\n+    switch (rf) {\n+    case RF_JSON: {\n+\n+        JSONRPCRequest jsonRequest;\n+        UniValue conf_target(std::stoi(path[1]));\n+        UniValue mode(modestr);\n+        UniValue params(UniValue::VARR);\n+        params.push_back(conf_target);\n+        params.push_back(mode);\n+        jsonRequest.params = params;\n+\n+        UniValue estimatedfee;\n+        estimatedfee = estimatesmartfee(jsonRequest);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153235268",
      "id" : 153235268,
      "original_commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "original_position" : 65,
      "path" : "src/rest.cpp",
      "position" : 65,
      "pull_request_review_id" : 79207623,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770",
      "updated_at" : "2017-11-27T16:00:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153235268",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153235453"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153235453"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Remove 2nd empty line.",
      "commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "created_at" : "2017-11-27T15:50:10Z",
      "diff_hunk" : "@@ -98,6 +98,13 @@ Only supports JSON as output format.\n Returns transactions in the TX mempool.\n Only supports JSON as output format.\n \n+#### Fees\n+`GET /rest/fee/<MODE>/<TARGET>.json`\n+\n+Returns proper fee estimated by bitcoind. `<MODE>` should be one of `<unset|conservative|economical>`.\n+`<TARGET>` is the desired confirmation time (in block height).\n+\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153235453",
      "id" : 153235453,
      "original_commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "original_position" : 10,
      "path" : "doc/REST-interface.md",
      "position" : 10,
      "pull_request_review_id" : 79207623,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770",
      "updated_at" : "2017-11-27T16:00:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153235453",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153235662"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153235662"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Missing `{}`.",
      "commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "created_at" : "2017-11-27T15:50:44Z",
      "diff_hunk" : "@@ -570,6 +571,55 @@ static bool rest_getutxos(HTTPRequest* req, const std::string& strURIPart)\n     }\n }\n \n+// A bit of a hack - dependency on a function defined in rpc/mining.cpp\n+UniValue estimatesmartfee(const JSONRPCRequest& request);\n+\n+static bool rest_getfee(HTTPRequest* req, const std::string& strURIPart) {\n+    if (!CheckWarmup(req))\n+        return false;\n+    std::string param;\n+    const RetFormat rf = ParseDataFormat(param, strURIPart);\n+\n+    std::vector<std::string> path;\n+    boost::split(path, param, boost::is_any_of(\"/\"));\n+    path.erase(path.begin());\n+\n+    if (path.size() != 2)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153235662",
      "id" : 153235662,
      "original_commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "original_position" : 41,
      "path" : "src/rest.cpp",
      "position" : 41,
      "pull_request_review_id" : 79207623,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770",
      "updated_at" : "2017-11-27T16:00:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153235662",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153235703"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153235703"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Missing `{}`.",
      "commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "created_at" : "2017-11-27T15:50:52Z",
      "diff_hunk" : "@@ -570,6 +571,55 @@ static bool rest_getutxos(HTTPRequest* req, const std::string& strURIPart)\n     }\n }\n \n+// A bit of a hack - dependency on a function defined in rpc/mining.cpp\n+UniValue estimatesmartfee(const JSONRPCRequest& request);\n+\n+static bool rest_getfee(HTTPRequest* req, const std::string& strURIPart) {\n+    if (!CheckWarmup(req))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153235703",
      "id" : 153235703,
      "original_commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "original_position" : 32,
      "path" : "src/rest.cpp",
      "position" : 32,
      "pull_request_review_id" : 79207623,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770",
      "updated_at" : "2017-11-27T16:00:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153235703",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153237112"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153237112"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`Returns proper fee estimated by bitcoind`, this is `bitcoind`. Ã°ÂÂÂ ",
      "commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "created_at" : "2017-11-27T15:54:55Z",
      "diff_hunk" : "@@ -98,6 +98,13 @@ Only supports JSON as output format.\n Returns transactions in the TX mempool.\n Only supports JSON as output format.\n \n+#### Fees\n+`GET /rest/fee/<MODE>/<TARGET>.json`\n+\n+Returns proper fee estimated by bitcoind. `<MODE>` should be one of `<unset|conservative|economical>`.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153237112",
      "id" : 153237112,
      "original_commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "original_position" : 7,
      "path" : "doc/REST-interface.md",
      "position" : 7,
      "pull_request_review_id" : 79207623,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770",
      "updated_at" : "2017-11-27T16:00:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153237112",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Thanks for reviewing.\r\nI will update according to the review soon.\r\n> Maybe too much for REST?\r\n\r\nRationale for this PR is that some light client(or other services) wants to use information about block or mempool for estimating fee. This is pretty close to the motivation of `getutxo` in terms of it places some trust on the full node. core's fee estimation logic is likely to update to a more sophisticated scheme in the near future so many clients may want to use core's logic directly.\r\n> At least the the URI could be improved. This looks weird:\r\n\r\nYou are right. Can I use `&foo=bar` style query parameter here? I didn't because other endpoint didn't. in that case, what about\r\n`/rest/fee.json?target=<TARGET>&mode=<MODE>` and make `mode` optional? Though I'm not sure how easy this is to implement. \r\n\r\nOtherwise all I can think is enabling to omit `<MODE>` . and query in the form like\r\n`/rest/fee/5.json`",
      "created_at" : "2017-11-27T18:35:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11770#issuecomment-347280308",
      "id" : 347280308,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11770",
      "updated_at" : "2017-11-27T18:41:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/347280308",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/10084960?v=4",
         "events_url" : "https://api.github.com/users/joemphilips/events{/privacy}",
         "followers_url" : "https://api.github.com/users/joemphilips/followers",
         "following_url" : "https://api.github.com/users/joemphilips/following{/other_user}",
         "gists_url" : "https://api.github.com/users/joemphilips/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/joemphilips",
         "id" : 10084960,
         "login" : "joemphilips",
         "organizations_url" : "https://api.github.com/users/joemphilips/orgs",
         "received_events_url" : "https://api.github.com/users/joemphilips/received_events",
         "repos_url" : "https://api.github.com/users/joemphilips/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/joemphilips/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/joemphilips/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/joemphilips"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "My vote goes to `GET /rest/fee?target=<TARGET>&mode=<MODE>`, with query parameters and without extension. IMO all endpoints should return JSON, unless `Accept: ` headers requests other format.",
      "created_at" : "2017-11-27T19:03:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11770#issuecomment-347289770",
      "id" : 347289770,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11770",
      "updated_at" : "2017-11-27T19:03:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/347289770",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153306858"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153306858"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think it's not worth passing through the RPC call `estimatesmartfee`.\r\nBetter directly use `feeEstimator.estimateFee(nBlocks);`.",
      "commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "created_at" : "2017-11-27T20:02:33Z",
      "diff_hunk" : "@@ -570,6 +571,55 @@ static bool rest_getutxos(HTTPRequest* req, const std::string& strURIPart)\n     }\n }\n \n+// A bit of a hack - dependency on a function defined in rpc/mining.cpp\n+UniValue estimatesmartfee(const JSONRPCRequest& request);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153306858",
      "id" : 153306858,
      "original_commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "original_position" : 29,
      "path" : "src/rest.cpp",
      "position" : 29,
      "pull_request_review_id" : 79293853,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770",
      "updated_at" : "2017-11-27T20:02:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153306858",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\nPlease no query string.\r\nThe in this PR proposed URL scheme seems correct and in align with other calls: https://github.com/bitcoin/bitcoin/blob/master/doc/REST-interface.md#query-utxo-set",
      "created_at" : "2017-11-27T20:05:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11770#issuecomment-347310311",
      "id" : 347310311,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11770",
      "updated_at" : "2017-11-27T20:05:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/347310311",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153368012"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153368012"
         }
      },
      "author_association" : "NONE",
      "body" : "nit. why not:\r\n```python\r\n\"/rest/fee/unset/{}.json\".format((i+1)//2)\r\n```\r\n",
      "commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "created_at" : "2017-11-28T00:54:44Z",
      "diff_hunk" : "@@ -117,7 +120,13 @@ def check_estimates(node, fees_seen, max_invalid, print_estimates = True):\n         if e >= 0:\n             valid_estimate = True\n             if i >= 13:  # for n>=14 estimatesmartfee(n/2) should be at least as high as estimatefee(n)\n-                assert(node.estimatesmartfee((i+1)//2)[\"feerate\"] > float(e) - delta)\n+                rpcfeerate = node.estimatesmartfee((i+1)//2)[\"feerate\"]\n+                assert(rpcfeerate > float(e) - delta)\n+\n+                json_string = http_get_call(url.hostname, url.port, '/rest/fee/' + 'unset/' + \"{}\".format((i+1)//2) + '.json')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11770#discussion_r153368012",
      "id" : 153368012,
      "original_commit_id" : "e485e5f86447a2d4af833882362f80cc8d65a2b9",
      "original_position" : 25,
      "path" : "test/functional/smartfees.py",
      "position" : 25,
      "pull_request_review_id" : 79362520,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11770",
      "updated_at" : "2017-11-28T00:55:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/153368012",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   }
]
