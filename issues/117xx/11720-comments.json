[
   {
      "author_association" : "MEMBER",
      "body" : "+1 for iOS support for compiling bitcoind (not Qt as you mentioned).\r\nCan also contribute... have iOS experience.\r\n\r\nI haven't tried. But I would expect something like this is a starting point (haven't tested):\r\n```\r\n  export CFLAGS=\"-arch armv7s -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS.sdk -miphoneos-version-min=7.0\"\r\n  export LDFLAGS=\"-arch armv7s -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS.sdk\"\r\n  ./configure  --without-gui --with-incompatible-bdb --host=\"armv7s-apple-darwin\"",
      "created_at" : "2017-11-18T19:11:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11720#issuecomment-345464027",
      "id" : 345464027,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11720",
      "updated_at" : "2017-11-18T19:11:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345464027",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "The problem with iOS is the app can't run in the background unless it's a specific type of app. It has to be either GPS or a Music app to be allowed to run in the background and Apple check this while verifying the app for the App Store.\r\n\r\n> 2.5.4 Multitasking apps may only use background services for their intended purposes: VoIP, audio playback, location, task completion, local notifications, etc. If your app uses location background mode, include a reminder that doing so may dramatically decrease battery life.\r\n\r\nThis would mean the wallet would only be able to sync when the app is open.",
      "created_at" : "2017-11-18T19:19:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11720#issuecomment-345464509",
      "id" : 345464509,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11720",
      "updated_at" : "2017-11-18T19:19:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345464509",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/4031207?v=4",
         "events_url" : "https://api.github.com/users/3ullShark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/3ullShark/followers",
         "following_url" : "https://api.github.com/users/3ullShark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/3ullShark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/3ullShark",
         "id" : 4031207,
         "login" : "3ullShark",
         "organizations_url" : "https://api.github.com/users/3ullShark/orgs",
         "received_events_url" : "https://api.github.com/users/3ullShark/received_events",
         "repos_url" : "https://api.github.com/users/3ullShark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/3ullShark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/3ullShark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/3ullShark"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jonasschnelli thanks, I'll try that.\r\n\r\n@3ullShark App Store rules come and go and can even be lobbied for (although this one has been around for a long time). Syncing in the foreground is a pretty bad user experience. Despite that rule, it does seem like a use case as described [here](https://developer.apple.com/library/content/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/BackgroundExecution/BackgroundExecution.html).\r\n\r\nThere might be two workarounds:\r\n\r\n1. tell users to build from source and install using Xcode (this is safer too, obviously not n00b friendly, but I'd use that)\r\n2. leverage [Cloudkit](https://developer.apple.com/documentation/cloudkit) \r\n\r\nFor (2), the blockchain would be stored in Cloudkit, e.g. one block per [CKAsset](https://developer.apple.com/documentation/cloudkit/ckasset). The app would subscribe to these blocks, receives push notifications and downloads each block in the background (which you can make conditional on wifi, etc). Most of that is handled at the OS level, meaning the app just need to wake up to handle each push notification.  Processing can be done after each download or when the app is in the foreground.\r\n\r\nSee also this [explainer)(https://medium.com/@guilhermerambo/synchronizing-data-with-cloudkit-94c6246a3fda).  It might still run afoul of that App Store rule; I'm not sure how to interpret it.  It also requires significantly more complex interaction with bitcoind than the RPC currently allows. And using the P2P network when in the foreground vs. using Apple's servers when in the background might have all sorts of security trade-offs.\r\n\r\nAll that is for iOs app developers to worry about though; we can just make the compiler work.",
      "created_at" : "2017-11-18T21:08:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11720#issuecomment-345471302",
      "id" : 345471302,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11720",
      "updated_at" : "2017-11-18T21:11:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345471302",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@Sjors It's been awhile since I've done any iOS development but from what I remember, the SDK is quite picky and can still suspend the app if it detects that the app is not doing something that should make it run in the background. \r\n\r\nFor example, you would have to trick the system, by having a music track play silently on a loop. Not sure if that's still the case though.\r\n\r\n",
      "created_at" : "2017-11-18T23:20:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11720#issuecomment-345478804",
      "id" : 345478804,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11720",
      "updated_at" : "2017-11-18T23:20:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345478804",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/4031207?v=4",
         "events_url" : "https://api.github.com/users/3ullShark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/3ullShark/followers",
         "following_url" : "https://api.github.com/users/3ullShark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/3ullShark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/3ullShark",
         "id" : 4031207,
         "login" : "3ullShark",
         "organizations_url" : "https://api.github.com/users/3ullShark/orgs",
         "received_events_url" : "https://api.github.com/users/3ullShark/received_events",
         "repos_url" : "https://api.github.com/users/3ullShark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/3ullShark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/3ullShark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/3ullShark"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I guess there are no plans to deploy through an App Store. It's utterly insecure and with auto-update, you partially hand over the private keys to apple.\r\n\r\nWithout planing to go for the app store, you can do all sorts of things like running in the background (VOIP app permissions) and the use of \"private\" APIs.\r\n\r\nAFAIK since a couple of years, self-compile and install is now possible without paying the 99$/year.\r\n\r\nAlso, there is the enterprise OTA deployment (though it would be illegal by Apples evil TOC to deploy it to the wide mass over that).",
      "created_at" : "2017-11-19T06:13:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11720#issuecomment-345494897",
      "id" : 345494897,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11720",
      "updated_at" : "2017-11-19T06:13:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345494897",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jonasschnelli I tried your commands, but no luck:\r\n\r\n```\r\nchecking for armv7s-apple-darwin-g++... no\r\nchecking for armv7s-apple-darwin-c++... no\r\nchecking for armv7s-apple-darwin-gpp... no\r\nchecking for armv7s-apple-darwin-aCC... no\r\nchecking for armv7s-apple-darwin-CC... no\r\nchecking for armv7s-apple-darwin-cxx... no\r\nchecking for armv7s-apple-darwin-cc++... no\r\nchecking for armv7s-apple-darwin-cl.exe... no\r\nchecking for armv7s-apple-darwin-FCC... no\r\nchecking for armv7s-apple-darwin-KCC... no\r\nchecking for armv7s-apple-darwin-RCC... no\r\nchecking for armv7s-apple-darwin-xlC_r... no\r\nchecking for armv7s-apple-darwin-xlC... no\r\n```\r\n\r\nThe `/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS.sdk` directory exists on my system.\r\n\r\n[config.log](https://github.com/bitcoin/bitcoin/files/1485425/config.log)  (slightly edited for privacy)\r\n\r\nI would probably also want to bump to armv8 / arm64 (?) and iOs 11.\r\n\r\n\r\n> I guess there are no plans to deploy through an App Store. It's utterly insecure and with auto-update, you partially hand over the private keys to apple.\r\n\r\nNot by Core for those reasons. Others might, but it's up to them to figure out the App Store rules and security vs. usability trade-offs. All other things equal (which is non-trivial) it should be more secure than any existing bitcoin app for iOs.\r\n\r\nSomething tells me Apple would find a Gitian like process useful as well once they start getting too many subpoenas to send custom app updates to specific users. The least the App Store software updater should do is check the hash of the binary against a widely published commitment for that version. That way, everyone in the world gets the same update and special code for individual users would be easier to detect. \r\n\r\nRegarding enterprise OTA: that's what CoG did with [Pheeva](https://www.coindesk.com/coc-ios-bitcoin-wallet-apple/) in 2014. Arguably an even worse trust problem and I agree Apple might not like it.",
      "created_at" : "2017-11-19T09:46:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11720#issuecomment-345504273",
      "id" : 345504273,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11720",
      "updated_at" : "2017-11-19T10:03:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345504273",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@Sjors:\r\nI can \"start\" compiling with \r\n```\r\nCFLAGS=\"-arch armv7s -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS.sdk -miphoneos-version-min=7.0\" LDFLAGS=\"-arch armv7s -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS.sdk\" ./configure  --without-gui --disable-wallet --with-incompatible-bdb --host=\"armv7s-apple-darwin\r\n```\r\n\r\nBut it misses dependencies.\r\nWhat you first would have to achieve is to add iOS to the depends compile system (ask @theuni for help).",
      "created_at" : "2017-11-19T23:10:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11720#issuecomment-345558207",
      "id" : 345558207,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11720",
      "updated_at" : "2017-11-19T23:10:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345558207",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "> Building a full fledged iOs app is out of scope here, so it would just be the RPC client.\r\n\r\nDon't you mean \"RPC server\"? The RPC *client* would be the native app, at least if you want to follow the same route that ABcore for android took (which seems very sensible to me).",
      "created_at" : "2017-12-07T11:29:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11720#issuecomment-349940807",
      "id" : 349940807,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11720",
      "updated_at" : "2017-12-07T11:29:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/349940807",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@laanwj thanks, I updated the description to clarify that.",
      "created_at" : "2017-12-07T11:30:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11720#issuecomment-349941088",
      "id" : 349941088,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11720",
      "updated_at" : "2017-12-07T11:30:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/349941088",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@practicalswift any thoughts on this?",
      "created_at" : "2018-02-24T15:34:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11720#issuecomment-368236413",
      "id" : 368236413,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11720",
      "updated_at" : "2018-02-24T15:34:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/368236413",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
