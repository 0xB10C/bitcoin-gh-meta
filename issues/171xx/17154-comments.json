[
   {
      "author_association" : "MEMBER",
      "body" : "Slightly tend to NACK. What is this needed for?\r\n\r\nEffectively, a gui user will send the transaction twice (spending different coins), losing all their funds.",
      "created_at" : "2019-10-15T19:25:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-542366872",
      "id" : 542366872,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjM2Njg3Mg==",
      "updated_at" : "2019-10-15T19:25:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542366872",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke \r\n> Slightly tend to NACK. What is this needed for?\r\n\r\nCurrently the function returns a bool, which is always `true`, but the callers have logic that depends on the return value.\r\n\r\n`CommitTransaction()` did previously return `true`/`false` based on success. That was removed in #9302 so that the `send___` RPC methods would return the txid even if the transaction failed to broadcast. That's useful because the transaction will still exist in the wallet, so the RPC user would want to know about it. The fix should have been to have the call sites ignore the return value of `CommitTransaction()`, but instead the PR changed the function itself to not return success/failure, meaning that as a side effect `WalletModel::sendCoins()` is no longer informed if transaction broadcast fails. From reading the PR, it looks to me like that change was unintentional.\r\n\r\nI could change this PR to maintain the current behaviour (not return success to `WalletModel::sendCoins()`). Do you think that's preferable?",
      "created_at" : "2019-10-15T19:47:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-542375108",
      "id" : 542375108,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjM3NTEwOA==",
      "updated_at" : "2019-10-15T19:47:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542375108",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> From reading the PR, it looks to me like that change was unintentional.\r\n\r\nI am pretty sure it was intentional. At least that was my understanding, see https://github.com/bitcoin/bitcoin/pull/9302#issuecomment-266284389\r\n\r\nTo sum up, the wallet is only allowed to do one of the following:\r\n* Create a tx, sign it and add it to the wallet, so that it can be rebroadcast immediately or later, then `return true`\r\n* Create a tx, sign it and throw it away for some reason, then `return false`\r\n\r\nA wallet is not allowed to create a tx, sign it and add it to the wallet, so that it will be rebroadcast later, but `return false`. <-- This is what you pull request is doing.",
      "created_at" : "2019-10-15T20:45:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-542396757",
      "id" : 542396757,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjM5Njc1Nw==",
      "updated_at" : "2019-10-15T20:45:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542396757",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16966](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16966.html) (ui: make send a wizard by Sjors)\n* [#15921](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15921.html) (validation: Tidy up ValidationState interface by jnewbery)\n* [#14582](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14582.html) (wallet: try -avoidpartialspends mode and use its result if fees do not change by kallewoof)\n* [#9381](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/9381.html) (Remove CWalletTx merging logic from AddToWallet by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-10-15T20:47:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-542397716",
      "id" : 542397716,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjM5NzcxNg==",
      "updated_at" : "2019-10-16T18:02:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542397716",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "In that case, `CommitTransaction` should not return anything, and all the dead code in `if (!CommitTransaction())` blocks should be removed.",
      "created_at" : "2019-10-15T20:59:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-542402331",
      "id" : 542402331,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjQwMjMzMQ==",
      "updated_at" : "2019-10-15T20:59:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542402331",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fine with me",
      "created_at" : "2019-10-15T22:04:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-542424765",
      "id" : 542424765,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjQyNDc2NQ==",
      "updated_at" : "2019-10-15T22:04:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542424765",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This PR now just changes `CommitTransaction` to return `void`, and deletes all dead code.\r\n\r\nAlso rebased on master.",
      "created_at" : "2019-10-16T15:19:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-542753869",
      "id" : 542753869,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0Mjc1Mzg2OQ==",
      "updated_at" : "2019-10-16T15:19:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542753869",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r335553407"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335553407"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n    void CommitTransaction(CTransactionRef tx, mapValue_t mapValue, std::vector<std::pair<std::string, std::string>> orderForm, CValidationState& state);\r\n```\r\n\r\n:eyes: ",
      "commit_id" : "1f490c9a5f8767477f6ffe382b4a0578dbac5e3e",
      "created_at" : "2019-10-16T15:36:53Z",
      "diff_hunk" : "@@ -1147,7 +1147,18 @@ class CWallet final : public FillableSigningProvider, private interfaces::Chain:\n      */\n     bool CreateTransaction(interfaces::Chain::Lock& locked_chain, const std::vector<CRecipient>& vecSend, CTransactionRef& tx, CAmount& nFeeRet, int& nChangePosInOut,\n                            std::string& strFailReason, const CCoinControl& coin_control, bool sign = true);\n-    bool CommitTransaction(CTransactionRef tx, mapValue_t mapValue, std::vector<std::pair<std::string, std::string>> orderForm, CValidationState& state);\n+    /**\n+     * Submit the transaction to the node's mempool and then relay to peers.\n+     * Should be called after CreateTransaction unless you want to abort\n+     * broadcasting the transaction.\n+     *\n+     * @param tx[in,out] The transaction to be broadcast.\n+     * @param mapValue[in] key-values to be set on the transaction.\n+     * @param orderForm[in] BIP 70 / BIP 21 order form details to be set on the transaction.\n+     * @param reserveKey[in,out] keypool key used for change\n+     * @param state[in,out] CValidationState object returning information about whether the transaction was accepted\n+     */\n+void CommitTransaction(CTransactionRef tx, mapValue_t mapValue, std::vector<std::pair<std::string, std::string>> orderForm, CValidationState& state);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r335553407",
      "id" : 335553407,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNTU1MzQwNw==",
      "original_commit_id" : "d3e6e19d58d9d92016382d195d7a2f99e2978ed7",
      "original_position" : 16,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 302676727,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154",
      "updated_at" : "2019-10-16T20:47:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335553407",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r335567982"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335567982"
         }
      },
      "author_association" : "MEMBER",
      "body" : "fixed",
      "commit_id" : "1f490c9a5f8767477f6ffe382b4a0578dbac5e3e",
      "created_at" : "2019-10-16T16:03:09Z",
      "diff_hunk" : "@@ -1147,7 +1147,18 @@ class CWallet final : public FillableSigningProvider, private interfaces::Chain:\n      */\n     bool CreateTransaction(interfaces::Chain::Lock& locked_chain, const std::vector<CRecipient>& vecSend, CTransactionRef& tx, CAmount& nFeeRet, int& nChangePosInOut,\n                            std::string& strFailReason, const CCoinControl& coin_control, bool sign = true);\n-    bool CommitTransaction(CTransactionRef tx, mapValue_t mapValue, std::vector<std::pair<std::string, std::string>> orderForm, CValidationState& state);\n+    /**\n+     * Submit the transaction to the node's mempool and then relay to peers.\n+     * Should be called after CreateTransaction unless you want to abort\n+     * broadcasting the transaction.\n+     *\n+     * @param tx[in,out] The transaction to be broadcast.\n+     * @param mapValue[in] key-values to be set on the transaction.\n+     * @param orderForm[in] BIP 70 / BIP 21 order form details to be set on the transaction.\n+     * @param reserveKey[in,out] keypool key used for change\n+     * @param state[in,out] CValidationState object returning information about whether the transaction was accepted\n+     */\n+void CommitTransaction(CTransactionRef tx, mapValue_t mapValue, std::vector<std::pair<std::string, std::string>> orderForm, CValidationState& state);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r335567982",
      "id" : 335567982,
      "in_reply_to_id" : 335553407,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNTU2Nzk4Mg==",
      "original_commit_id" : "d3e6e19d58d9d92016382d195d7a2f99e2978ed7",
      "original_position" : 16,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 302695682,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154",
      "updated_at" : "2019-10-16T20:47:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335567982",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r335694008"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335694008"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`reserveKey` is not an argument for this function.",
      "commit_id" : "1f490c9a5f8767477f6ffe382b4a0578dbac5e3e",
      "created_at" : "2019-10-16T20:31:30Z",
      "diff_hunk" : "@@ -1147,6 +1147,17 @@ class CWallet final : public FillableSigningProvider, private interfaces::Chain:\n      */\n     bool CreateTransaction(interfaces::Chain::Lock& locked_chain, const std::vector<CRecipient>& vecSend, CTransactionRef& tx, CAmount& nFeeRet, int& nChangePosInOut,\n                            std::string& strFailReason, const CCoinControl& coin_control, bool sign = true);\n+    /**\n+     * Submit the transaction to the node's mempool and then relay to peers.\n+     * Should be called after CreateTransaction unless you want to abort\n+     * broadcasting the transaction.\n+     *\n+     * @param tx[in,out] The transaction to be broadcast.\n+     * @param mapValue[in] key-values to be set on the transaction.\n+     * @param orderForm[in] BIP 70 / BIP 21 order form details to be set on the transaction.\n+     * @param reserveKey[in,out] keypool key used for change",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r335694008",
      "id" : 335694008,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNTY5NDAwOA==",
      "original_commit_id" : "20200a038cefa8e31013dffabf74226529b65723",
      "original_position" : 12,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 302857496,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154",
      "updated_at" : "2019-10-16T20:47:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335694008",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r335701059"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335701059"
         }
      },
      "author_association" : "MEMBER",
      "body" : "fixed",
      "commit_id" : "5021b8a7fb4de518155146de6cac231e91e874f8",
      "created_at" : "2019-10-16T20:47:56Z",
      "diff_hunk" : "@@ -1147,6 +1147,17 @@ class CWallet final : public FillableSigningProvider, private interfaces::Chain:\n      */\n     bool CreateTransaction(interfaces::Chain::Lock& locked_chain, const std::vector<CRecipient>& vecSend, CTransactionRef& tx, CAmount& nFeeRet, int& nChangePosInOut,\n                            std::string& strFailReason, const CCoinControl& coin_control, bool sign = true);\n+    /**\n+     * Submit the transaction to the node's mempool and then relay to peers.\n+     * Should be called after CreateTransaction unless you want to abort\n+     * broadcasting the transaction.\n+     *\n+     * @param tx[in,out] The transaction to be broadcast.\n+     * @param mapValue[in] key-values to be set on the transaction.\n+     * @param orderForm[in] BIP 70 / BIP 21 order form details to be set on the transaction.\n+     * @param reserveKey[in,out] keypool key used for change",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r335701059",
      "id" : 335701059,
      "in_reply_to_id" : 335694008,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNTcwMTA1OQ==",
      "original_commit_id" : "20200a038cefa8e31013dffabf74226529b65723",
      "original_position" : 12,
      "path" : "src/wallet/wallet.h",
      "position" : 13,
      "pull_request_review_id" : 302866806,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154",
      "updated_at" : "2019-10-16T20:47:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335701059",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Addressed @achow101 's review comment (thanks!)",
      "created_at" : "2019-10-16T20:48:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-542885044",
      "id" : 542885044,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0Mjg4NTA0NA==",
      "updated_at" : "2019-10-16T20:48:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542885044",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 1f490c9a5f8767477f6ffe382b4a0578dbac5e3e",
      "created_at" : "2019-10-16T21:19:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-542896187",
      "id" : 542896187,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0Mjg5NjE4Nw==",
      "updated_at" : "2019-10-16T21:19:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542896187",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2019-10-17T13:12:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-543168024",
      "id" : 543168024,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzE2ODAyNA==",
      "updated_at" : "2019-10-17T13:12:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543168024",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
