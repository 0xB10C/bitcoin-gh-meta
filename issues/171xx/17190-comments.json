[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe say more about the concrete use case? This seems similar to bash expanding `abc{d,e}` to `abcd abce`, but bash commands are written by people, while I'd expect descriptor strings to be mostly produced and consumed by software, so on the surface it's not clear who would benefit from this feature.\r\n\r\nAlso it's not clear why the syntax wouldn't be `xpub...{0,1}/*` instead of `xpub...{0/*,1/*}` or if expansions into more than 2 descriptors should be allowed, or if first and second descriptors should always be interpreted as nonchange and change descriptors, respectively.",
      "created_at" : "2019-10-18T16:54:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17190#issuecomment-543834253",
      "id" : 543834253,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17190",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzgzNDI1Mw==",
      "updated_at" : "2019-10-18T16:58:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543834253",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "My first question is the same: how is this useful? I can imagine that someone might want to include both an xpub.../0/* and an xpub.../1/* into the same wallet, but I expect you'd want one of them to be public and the other to be change. That makes it hard to merge them, as the changeness information would be in another layer?",
      "created_at" : "2019-10-18T17:20:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17190#issuecomment-543845642",
      "id" : 543845642,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17190",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0Mzg0NTY0Mg==",
      "updated_at" : "2019-10-18T17:20:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543845642",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The specific use cases that was mentioned was for the construction of multisig wallets. The idea was that it would be easier in terms of UI/UX for users to be able to just import one descriptor that specified both the receive and change addresses to be used.\r\n\r\nPerhaps @ghost43 can provide some more insight here.\r\n\r\n> That makes it hard to merge them, as the changeness information would be in another layer?\r\n\r\nI agree that changeness should be another layer. I think they were going to just assume that the `0` path is receive, and `1` is change.\r\n\r\n> Also it's not clear why the syntax wouldn't be `xpub...{0,1}/*` instead of `xpub...{0/*,1/*}`\r\n\r\nI agree that that would be a better syntax. Didn't think of it earlier.\r\n\r\n> or if expansions into more than 2 descriptors should be allowed,\r\n\r\nMy initial thinking was to allow expansion into more than 2. So this could be used for things like multiple BIP 44 accounts in `scantxoutset`.\r\n\r\n> or if first and second descriptors should always be interpreted as nonchange and change descriptors, respectively.\r\n\r\nI'm not sure about how to represent changeness, and I'm not sure that it should be represented in the descriptor layer.\r\n\r\n",
      "created_at" : "2019-10-18T17:59:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17190#issuecomment-543862832",
      "id" : 543862832,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17190",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0Mzg2MjgzMg==",
      "updated_at" : "2019-10-18T18:02:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543862832",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I agree that changeness should be another layer. I think they were going to just assume that the 0 path is receive, and 1 is change.\r\n\r\nHmm, what do you expect the semantics to be? Do you literally treat the \"xpub...{0,1}/*\" descriptor as a list of two descriptors, which the layer above needs to deal with? Or do you treat it as a single descriptor which expands to a merging of those two descriptors (e.g. by expanding even indices i as index i/2 of the first one, and odd ones i as index (i-1)/2 of the second one)?\r\n\r\nIf you treat them as two descriptors, arguably you're not extending the descriptor syntax, but instead building a language on top that describes lists of descriptors - something that perhaps won't (or even shouldn't) work in all places descriptors are accepted.\r\n\r\nIf you treat them as a single merged descriptor, the layer above can't see which ones are from 0/* and which ones are from 1/*, and shouldn't treat them non-homogeneously.",
      "created_at" : "2019-10-18T18:17:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17190#issuecomment-543869992",
      "id" : 543869992,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17190",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0Mzg2OTk5Mg==",
      "updated_at" : "2019-10-18T18:17:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543869992",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I would expect it to be treated as two descriptors.",
      "created_at" : "2019-10-18T18:23:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17190#issuecomment-543872887",
      "id" : 543872887,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17190",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0Mzg3Mjg4Nw==",
      "updated_at" : "2019-10-18T18:23:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543872887",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> The specific use cases that was mentioned was for the construction of multisig wallets. \r\n\r\nThat isn't really a use case description. Is the pair of descriptors handcrafted by a user, copied and pasted somewhere, saved in a text file, transmitted over a wire protocol? I know I have a problem not hating json as much as I'm supposed to, but just for example, what would be the drawbacks of a verbose format like:\r\n\r\n```json\r\n{\r\n  \"payment_descriptor\": \"xpub...0/*\",\r\n  \"change_descriptor\": \"xpub...1/*\"\r\n}\r\n```",
      "created_at" : "2019-10-18T18:49:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17190#issuecomment-543885039",
      "id" : 543885039,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17190",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0Mzg4NTAzOQ==",
      "updated_at" : "2019-10-18T18:49:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543885039",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "See https://github.com/spesmilo/electrum/issues/5694#issuecomment-543544564 and also https://github.com/spesmilo/electrum/issues/5715 (specifically \"point 1\")\r\n\r\nBasically the actual thing that we would need is a way to represent a cosigner; so at the very least the following:\r\n- master fingerprint\r\n- derivation prefix\r\n- xpub\r\n\r\nAll of which you can already do using script descriptor `KEY` expression.\r\nIt would be really nice however if the `KEY` expression could also contain the derivation suffixes to be used as well. Specifically for Electrum's current HD wallets it would be a `m/0/i` (receive), `m/1/j` (change) hierarchy. To do this you however currently need two `KEY` expressions.\r\nI think basically all light wallets use this hierarchy atm (m/0/i, m/1/j), this is also what BIP44 uses.\r\n\r\nAs detailed in first link above, currently in Electrum when constructing a multisig wallet, cosigners share xpubs with each other; other contextual information such as number of required signers are selected in the GUI. To be able to construct an output script descriptor that describes a multisig where cosigners have key origin information for example, instead of xpubs, we could show `KEY` expressions to cosigners that they would share each other. The issue is HOW the cosigners are supposed to create the script descriptor.\r\n\r\nFor now, we would want to support at least the above described receive/change hierarchy, but with the current `KEY` expression syntax cosigners would need to be shown and then expected to share two of these. \r\n\r\nI know there are some undesirable properties of sharing these instead of the xpubs as now not the whole thing is checksummed, but the script descriptor needs to be constructed **somehow**. When looking at the output descriptors doc, I feel like this point has been considered completely out of scope so far, but it is a real UX issue.",
      "created_at" : "2019-10-18T22:16:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17190#issuecomment-543977613",
      "id" : 543977613,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17190",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0Mzk3NzYxMw==",
      "updated_at" : "2019-10-18T22:16:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543977613",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/29142493?v=4",
         "events_url" : "https://api.github.com/users/SomberNight/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SomberNight/followers",
         "following_url" : "https://api.github.com/users/SomberNight/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SomberNight/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SomberNight",
         "id" : 29142493,
         "login" : "SomberNight",
         "node_id" : "MDQ6VXNlcjI5MTQyNDkz",
         "organizations_url" : "https://api.github.com/users/SomberNight/orgs",
         "received_events_url" : "https://api.github.com/users/SomberNight/received_events",
         "repos_url" : "https://api.github.com/users/SomberNight/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SomberNight/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SomberNight/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SomberNight"
      }
   }
]
