[
   {
      "body" : "A quick way would be to have a setting for allowed length of unconfirmed transactions in the mempool, and push the cpfp-transaction on an other node.",
      "created_at" : "2017-02-13T13:17:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9752#issuecomment-279389650",
      "id" : 279389650,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9752",
      "updated_at" : "2017-02-13T13:17:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/279389650",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1539860?v=3",
         "events_url" : "https://api.github.com/users/Joukehofman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Joukehofman/followers",
         "following_url" : "https://api.github.com/users/Joukehofman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Joukehofman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Joukehofman",
         "id" : 1539860,
         "login" : "Joukehofman",
         "organizations_url" : "https://api.github.com/users/Joukehofman/orgs",
         "received_events_url" : "https://api.github.com/users/Joukehofman/received_events",
         "repos_url" : "https://api.github.com/users/Joukehofman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Joukehofman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Joukehofman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Joukehofman"
      }
   },
   {
      "body" : "I think https://github.com/bitcoin/bitcoin/pull/9262 addresses that issue (partially?).\r\nThis fix is available in 0.13.2 (as well as in 0.14).\r\nBut #9262 is still disabled by default (`DEFAULT_WALLET_REJECT_LONG_CHAINS = false;`)\r\n\r\n@Joukehofman:\r\nYou could try to upgrade to 0.13.2 and enable `-walletrejectlongchains=true`.",
      "created_at" : "2017-02-13T13:29:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9752#issuecomment-279392151",
      "id" : 279392151,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9752",
      "updated_at" : "2017-02-13T13:29:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/279392151",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Yes `-walletrejectlongchains` sounds like what you want. It will simply reject the proposed transaction, allowing you to try something else.",
      "created_at" : "2017-02-13T13:34:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9752#issuecomment-279393876",
      "id" : 279393876,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9752",
      "updated_at" : "2017-02-13T13:34:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/279393876",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "body" : "It is indeed what I want! Thanks for mentioning @jonasschnelli and fixing it @instagibbs !",
      "created_at" : "2017-02-13T13:38:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9752#issuecomment-279394673",
      "id" : 279394673,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9752",
      "updated_at" : "2017-02-13T13:38:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/279394673",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1539860?v=3",
         "events_url" : "https://api.github.com/users/Joukehofman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Joukehofman/followers",
         "following_url" : "https://api.github.com/users/Joukehofman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Joukehofman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Joukehofman",
         "id" : 1539860,
         "login" : "Joukehofman",
         "organizations_url" : "https://api.github.com/users/Joukehofman/orgs",
         "received_events_url" : "https://api.github.com/users/Joukehofman/received_events",
         "repos_url" : "https://api.github.com/users/Joukehofman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Joukehofman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Joukehofman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Joukehofman"
      }
   },
   {
      "body" : "Your use-case might be an argument for stopping 1 shorter even, to allow for a single CPFP in the mempool(with that one hitting the chain limit). As-is it might not quite work.",
      "created_at" : "2017-02-13T13:44:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9752#issuecomment-279395858",
      "id" : 279395858,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9752",
      "updated_at" : "2017-02-13T13:44:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/279395858",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "body" : "Ah, I thought that was the intention, but you only catch it if mempool doesn't accept the transaction. But, this option, combined with a setting for allowed mempool length would solve my issue in a nice way.",
      "created_at" : "2017-02-13T13:48:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9752#issuecomment-279396695",
      "id" : 279396695,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9752",
      "updated_at" : "2017-02-13T13:48:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/279396695",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1539860?v=3",
         "events_url" : "https://api.github.com/users/Joukehofman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Joukehofman/followers",
         "following_url" : "https://api.github.com/users/Joukehofman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Joukehofman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Joukehofman",
         "id" : 1539860,
         "login" : "Joukehofman",
         "organizations_url" : "https://api.github.com/users/Joukehofman/orgs",
         "received_events_url" : "https://api.github.com/users/Joukehofman/received_events",
         "repos_url" : "https://api.github.com/users/Joukehofman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Joukehofman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Joukehofman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Joukehofman"
      }
   },
   {
      "body" : "Do note that there is no package relay for CPFP, so miners would have had to accepted the transactions into the mempool, but merely considered them too-low of a fee as a package.",
      "created_at" : "2017-02-13T13:53:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9752#issuecomment-279398049",
      "id" : 279398049,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9752",
      "updated_at" : "2017-02-13T13:53:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/279398049",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "body" : "I know. As far as I can tell the transaction are being propagated on the network as they are seen by our other nodes, it's just that the fees of those transactions start to lag behind the moment an uptrend in transactions is started.",
      "created_at" : "2017-02-13T14:02:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9752#issuecomment-279400114",
      "id" : 279400114,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9752",
      "updated_at" : "2017-02-13T14:02:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/279400114",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1539860?v=3",
         "events_url" : "https://api.github.com/users/Joukehofman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Joukehofman/followers",
         "following_url" : "https://api.github.com/users/Joukehofman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Joukehofman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Joukehofman",
         "id" : 1539860,
         "login" : "Joukehofman",
         "organizations_url" : "https://api.github.com/users/Joukehofman/orgs",
         "received_events_url" : "https://api.github.com/users/Joukehofman/received_events",
         "repos_url" : "https://api.github.com/users/Joukehofman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Joukehofman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Joukehofman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Joukehofman"
      }
   },
   {
      "body" : "@Joukehofman Take a look at -limitancestorcount and -limitdescendantcount (run bitcoind with -help --help-debug).  These will limit all chains your node will accept/relay not just your own transactions, but could serve the purpose you want if you set them to limit your chains to 24 and then submit the 25th tx to the network via a different mechanism.\r\n\r\nBut if everyone started doing this, network relay would become a mess, so I do think a better solution could be for the wallet to try to stop one transaction shorter if -walletrejectlongchains is true.\r\n\r\n\r\n",
      "created_at" : "2017-02-13T15:01:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9752#issuecomment-279415824",
      "id" : 279415824,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9752",
      "updated_at" : "2017-02-13T15:01:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/279415824",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "Yea, that also means you have to manually relay the 25th TX. We probably should stop one short by default (or provide an option to do so, somehow I thought we had...)\n\nOn February 13, 2017 4:01:18 PM GMT+01:00, Alex Morcos <notifications@github.com> wrote:\n>@Joukehofman Take a look at -limitancestorcount and\n>-limitdescendantcount (run bitcoind with -help --help-debug).  These\n>will limit all chains your node will accept/relay not just your own\n>transactions, but could serve the purpose you want if you set them to\n>limit your chains to 24 and then submit the 25th tx to the network via\n>a different mechanism.\n>\n>But if everyone started doing this, network relay would become a mess,\n>so I do think a better solution could be for the wallet to try to stop\n>one transaction shorter if -walletrejectlongchains is true.\n>\n>\n>\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/issues/9752#issuecomment-279415824\n",
      "created_at" : "2017-02-13T15:33:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9752#issuecomment-279425876",
      "id" : 279425876,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9752",
      "updated_at" : "2017-02-13T15:33:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/279425876",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   }
]
