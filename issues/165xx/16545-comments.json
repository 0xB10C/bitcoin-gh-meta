[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "FYI @hebasto, this adds error checking for the flags from #16097",
      "created_at" : "2019-08-04T14:14:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#issuecomment-518007182",
      "id" : 518007182,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16545",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxODAwNzE4Mg==",
      "updated_at" : "2019-08-04T14:14:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/518007182",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r310390632"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310390632"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nice to see `ALLOW_NEGATED` flag [again](https://github.com/bitcoin/bitcoin/pull/16097#issuecomment-514627823) ;)",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2019-08-04T14:52:04Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {\n-        NONE = 0x00,\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+        NONE = 0x0, //<! Indicates flag lookup failed.\n+\n+        /* Low level validation flags. In most cases these should be avoided,\n+         * and standard TYPE_* flag combinations below should be preferred. */\n+        ALLOW_ANY      = 0x01, //!< disable validation\n+        ALLOW_NEGATED  = 0x02, //!< allow -nofoo and -nofoo=1",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r310390632",
      "id" : 310390632,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMDM5MDYzMg==",
      "original_commit_id" : "1efb9ee41ab228a73d293603838951af6fb0f59c",
      "original_position" : 15,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 270501537,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310390632",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r310390769"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310390769"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could we drop `ALLOW_NEGATED` for `TYPE_INT` now or in the future?",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2019-08-04T14:54:39Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {\n-        NONE = 0x00,\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+        NONE = 0x0, //<! Indicates flag lookup failed.\n+\n+        /* Low level validation flags. In most cases these should be avoided,\n+         * and standard TYPE_* flag combinations below should be preferred. */\n+        ALLOW_ANY      = 0x01, //!< disable validation\n+        ALLOW_NEGATED  = 0x02, //!< allow -nofoo and -nofoo=1\n+        ALLOW_EMPTY    = 0x04, //!< allow -foo and -foo=\"\"\n+        ALLOW_NONEMPTY = 0x08, //!< allow -foo=bar\n+        ALLOW_INT      = 0x10, //!< allow -foo=123\n+        ALLOW_BOOL     = 0x20, //!< allow -foo=0 and -foo=1\n+\n+        /* Standard value types. */\n+        TYPE_STRING = ALLOW_NONEMPTY,\n+        TYPE_OPTIONAL_STRING = ALLOW_NONEMPTY | ALLOW_NEGATED | ALLOW_EMPTY,\n+        TYPE_INT = ALLOW_INT | ALLOW_NEGATED,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r310390769",
      "id" : 310390769,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMDM5MDc2OQ==",
      "original_commit_id" : "1efb9ee41ab228a73d293603838951af6fb0f59c",
      "original_position" : 24,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 270501668,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310390769",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17482](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17482.html) (util: Disallow network-qualified command line options by ryanofsky)\n* [#16673](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16673.html) (Relog configuration args on debug.log rotation by LarryRuane)\n* [#16115](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16115.html) (On bitcoind startup, write config args to debug.log by LarryRuane)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-08-04T14:59:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#issuecomment-518010518",
      "id" : 518010518,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16545",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxODAxMDUxOA==",
      "updated_at" : "2019-12-20T23:22:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/518010518",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It seems that not providing a new `InterpretNegated()` function has some benefits:\r\n- no need for `key_name` local variables\r\n- diff gets much smaller",
      "created_at" : "2019-08-04T15:21:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#issuecomment-518012293",
      "id" : 518012293,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16545",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxODAxMjI5Mw==",
      "updated_at" : "2019-08-04T15:21:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/518012293",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311316763"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311316763"
         }
      },
      "author_association" : "MEMBER",
      "body" : "00973301f6a1efb6aa2232544a49b080ac0c6c50\r\n\r\nLooks like this should be an assertion?\r\n```c++\r\n        if (flags) assert(flags & require_any);\r\n```",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2019-08-06T23:32:49Z",
      "diff_hunk" : "@@ -260,8 +260,60 @@ class ArgsManagerHelper {\n         }\n         return InterpretBool(found_result.second); // is set, so evaluate\n     }\n+\n+    static inline void CheckFlags(const ArgsManager& am, const std::string& key, unsigned int require_any)\n+    {\n+        unsigned int flags = am.FlagsOfKnownArg(key);\n+        if (flags != ArgsManager::NONE && ((flags & require_any) == 0)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311316763",
      "id" : 311316763,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMTMxNjc2Mw==",
      "original_commit_id" : "00973301f6a1efb6aa2232544a49b080ac0c6c50",
      "original_position" : 8,
      "path" : "src/util/system.cpp",
      "position" : null,
      "pull_request_review_id" : 271666106,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311316763",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311321892"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311321892"
         }
      },
      "author_association" : "MEMBER",
      "body" : "1efb9ee41ab228a73d293603838951af6fb0f59c\r\n\r\nIt would be nice to see a commit elsewhere using these \"types\".",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2019-08-06T23:59:13Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {\n-        NONE = 0x00,\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+        NONE = 0x0, //<! Indicates flag lookup failed.\n+\n+        /* Low level validation flags. In most cases these should be avoided,\n+         * and standard TYPE_* flag combinations below should be preferred. */\n+        ALLOW_ANY      = 0x01, //!< disable validation\n+        ALLOW_NEGATED  = 0x02, //!< allow -nofoo and -nofoo=1\n+        ALLOW_EMPTY    = 0x04, //!< allow -foo and -foo=\"\"\n+        ALLOW_NONEMPTY = 0x08, //!< allow -foo=bar\n+        ALLOW_INT      = 0x10, //!< allow -foo=123\n+        ALLOW_BOOL     = 0x20, //!< allow -foo=0 and -foo=1\n+\n+        /* Standard value types. */\n+        TYPE_STRING = ALLOW_NONEMPTY,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311321892",
      "id" : 311321892,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMTMyMTg5Mg==",
      "original_commit_id" : "1efb9ee41ab228a73d293603838951af6fb0f59c",
      "original_position" : 22,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 271666106,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311321892",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311440418"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311440418"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/16545#discussion_r310390632\r\n\r\n> Nice to see ALLOW_NEGATED flag again ;)\r\n\r\nIt is ok to have this, but like the comment above it says, it should only be used in rare cases, where a negated setting needs to be treated differently than a false/0/empty bool/int/string setting. Normal code for normal options should never have to use ALLOW_NEGATED or IsArgNegated.",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2019-08-07T08:55:14Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {\n-        NONE = 0x00,\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+        NONE = 0x0, //<! Indicates flag lookup failed.\n+\n+        /* Low level validation flags. In most cases these should be avoided,\n+         * and standard TYPE_* flag combinations below should be preferred. */\n+        ALLOW_ANY      = 0x01, //!< disable validation\n+        ALLOW_NEGATED  = 0x02, //!< allow -nofoo and -nofoo=1",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311440418",
      "id" : 311440418,
      "in_reply_to_id" : 310390632,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMTQ0MDQxOA==",
      "original_commit_id" : "1efb9ee41ab228a73d293603838951af6fb0f59c",
      "original_position" : 15,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 271818284,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311440418",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311440447"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311440447"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r310390769\r\n\r\n> Could we drop ALLOW_NEGATED for TYPE_INT now or in the future?\r\n\r\nThis seems like a bad thing to provide as a shortcut. If an option is an integer, treating `-nonumber` exactly the same as `-number=0` provides a simple interface to users consistent with what we've always provided in the past. Treating these the same is also less error prone for developers than treating them differently. It is possible there may be exceptions where treating `-nonumber` differently from `-number=0` would be a good thing, but I'd honestly be surprised to see one, and ALLOW_ flags and IsArgNegated function are available if this is actually desired.\r\n\r\nIn case the reason you're asking about this is because you want range checking for integer options that shouldn't accept 0, I think it'd be better to implement that in a way that disallows both `-nonumber` and `-number=0` settings, not just one of them. This could be added with a TYPE_POSITIVE_INT shortcut, or letting AddArg take validation callbacks or options structs (`IntType{}.MinValue(1).MaxValue(65535)`) in place of flags.",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2019-08-07T08:55:19Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {\n-        NONE = 0x00,\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+        NONE = 0x0, //<! Indicates flag lookup failed.\n+\n+        /* Low level validation flags. In most cases these should be avoided,\n+         * and standard TYPE_* flag combinations below should be preferred. */\n+        ALLOW_ANY      = 0x01, //!< disable validation\n+        ALLOW_NEGATED  = 0x02, //!< allow -nofoo and -nofoo=1\n+        ALLOW_EMPTY    = 0x04, //!< allow -foo and -foo=\"\"\n+        ALLOW_NONEMPTY = 0x08, //!< allow -foo=bar\n+        ALLOW_INT      = 0x10, //!< allow -foo=123\n+        ALLOW_BOOL     = 0x20, //!< allow -foo=0 and -foo=1\n+\n+        /* Standard value types. */\n+        TYPE_STRING = ALLOW_NONEMPTY,\n+        TYPE_OPTIONAL_STRING = ALLOW_NONEMPTY | ALLOW_NEGATED | ALLOW_EMPTY,\n+        TYPE_INT = ALLOW_INT | ALLOW_NEGATED,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311440447",
      "id" : 311440447,
      "in_reply_to_id" : 310390769,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMTQ0MDQ0Nw==",
      "original_commit_id" : "1efb9ee41ab228a73d293603838951af6fb0f59c",
      "original_position" : 24,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 271818284,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311440447",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311440561"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311440561"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311316763\r\n\r\n> Looks like this should be an assertion?\r\n\r\nI know you didn't check the tests yet, but the main reason for this being a logic_error instead of an assert is so the test can require and check this logic so it won't be accidentally broken in the future. The other reason this is a logic_error is to provide clearer feedback to a developer who accidentally sets the wrong flag or calls the wrong GetArg overload, by providing the option names and flags values in error messages.\r\n\r\nI tdo think it makes sense to use assert/abort instead of logic_error in cases where the error is critical (affecting consensus, or data integrity) and it's important to abort unconditionally and not take a risk that a caller may catch the error and handle it inappropriately. But this case is less critical than that.\r\n\r\nAlso this case really can and should be a compile error, not a runtime error. But it will take some more work and scripted-diffs to make that happen.",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2019-08-07T08:55:33Z",
      "diff_hunk" : "@@ -260,8 +260,60 @@ class ArgsManagerHelper {\n         }\n         return InterpretBool(found_result.second); // is set, so evaluate\n     }\n+\n+    static inline void CheckFlags(const ArgsManager& am, const std::string& key, unsigned int require_any)\n+    {\n+        unsigned int flags = am.FlagsOfKnownArg(key);\n+        if (flags != ArgsManager::NONE && ((flags & require_any) == 0)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311440561",
      "id" : 311440561,
      "in_reply_to_id" : 311316763,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMTQ0MDU2MQ==",
      "original_commit_id" : "00973301f6a1efb6aa2232544a49b080ac0c6c50",
      "original_position" : 8,
      "path" : "src/util/system.cpp",
      "position" : null,
      "pull_request_review_id" : 271818284,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311440561",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311440627"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311440627"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311321892\r\n\r\n> It would be nice to see a commit elsewhere using these \"types\".\r\n\r\nThis is a good idea. I can open a draft PR applying these to some wallet flags, since I know hebasto already has good work on node flags like -datadir, -blocksdir, -pid etc that I don't want to interfere with. I do think any PR actually using flags should be merged after this one since changing flag behavior after flags are already in use would be unnecessarily confusing and risky.\r\n",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2019-08-07T08:55:41Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {\n-        NONE = 0x00,\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+        NONE = 0x0, //<! Indicates flag lookup failed.\n+\n+        /* Low level validation flags. In most cases these should be avoided,\n+         * and standard TYPE_* flag combinations below should be preferred. */\n+        ALLOW_ANY      = 0x01, //!< disable validation\n+        ALLOW_NEGATED  = 0x02, //!< allow -nofoo and -nofoo=1\n+        ALLOW_EMPTY    = 0x04, //!< allow -foo and -foo=\"\"\n+        ALLOW_NONEMPTY = 0x08, //!< allow -foo=bar\n+        ALLOW_INT      = 0x10, //!< allow -foo=123\n+        ALLOW_BOOL     = 0x20, //!< allow -foo=0 and -foo=1\n+\n+        /* Standard value types. */\n+        TYPE_STRING = ALLOW_NONEMPTY,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311440627",
      "id" : 311440627,
      "in_reply_to_id" : 311321892,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMTQ0MDYyNw==",
      "original_commit_id" : "1efb9ee41ab228a73d293603838951af6fb0f59c",
      "original_position" : 22,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 271818284,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311440627",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311490205"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311490205"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Actually I did check and ran the tests with my change and I understand the idea of testing the exception, which wouldn't make sense if it was an assertion.\r\n\r\n> Also this case really can and should be a compile error\r\n\r\nAgree.",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2019-08-07T10:53:36Z",
      "diff_hunk" : "@@ -260,8 +260,60 @@ class ArgsManagerHelper {\n         }\n         return InterpretBool(found_result.second); // is set, so evaluate\n     }\n+\n+    static inline void CheckFlags(const ArgsManager& am, const std::string& key, unsigned int require_any)\n+    {\n+        unsigned int flags = am.FlagsOfKnownArg(key);\n+        if (flags != ArgsManager::NONE && ((flags & require_any) == 0)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311490205",
      "id" : 311490205,
      "in_reply_to_id" : 311316763,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMTQ5MDIwNQ==",
      "original_commit_id" : "00973301f6a1efb6aa2232544a49b080ac0c6c50",
      "original_position" : 8,
      "path" : "src/util/system.cpp",
      "position" : null,
      "pull_request_review_id" : 271880915,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311490205",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311490504"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311490504"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe a brief example in the PR description then?",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2019-08-07T10:54:33Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {\n-        NONE = 0x00,\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+        NONE = 0x0, //<! Indicates flag lookup failed.\n+\n+        /* Low level validation flags. In most cases these should be avoided,\n+         * and standard TYPE_* flag combinations below should be preferred. */\n+        ALLOW_ANY      = 0x01, //!< disable validation\n+        ALLOW_NEGATED  = 0x02, //!< allow -nofoo and -nofoo=1\n+        ALLOW_EMPTY    = 0x04, //!< allow -foo and -foo=\"\"\n+        ALLOW_NONEMPTY = 0x08, //!< allow -foo=bar\n+        ALLOW_INT      = 0x10, //!< allow -foo=123\n+        ALLOW_BOOL     = 0x20, //!< allow -foo=0 and -foo=1\n+\n+        /* Standard value types. */\n+        TYPE_STRING = ALLOW_NONEMPTY,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311490504",
      "id" : 311490504,
      "in_reply_to_id" : 311321892,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMTQ5MDUwNA==",
      "original_commit_id" : "1efb9ee41ab228a73d293603838951af6fb0f59c",
      "original_position" : 22,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 271881309,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311490504",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Side note, I find `FlagsOfKnownArg` confusing because it also returns for unknown arguments and it doesn't tell if it's known or not. I'd reword to `GetArgFlags`.",
      "created_at" : "2019-08-07T10:58:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#issuecomment-519048000",
      "id" : 519048000,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16545",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxOTA0ODAwMA==",
      "updated_at" : "2019-08-07T10:58:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519048000",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r312037476"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312037476"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Maybe a brief example in the PR description then?\r\n\r\nAnother really good idea! Will add this.",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2019-08-08T13:34:34Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {\n-        NONE = 0x00,\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+        NONE = 0x0, //<! Indicates flag lookup failed.\n+\n+        /* Low level validation flags. In most cases these should be avoided,\n+         * and standard TYPE_* flag combinations below should be preferred. */\n+        ALLOW_ANY      = 0x01, //!< disable validation\n+        ALLOW_NEGATED  = 0x02, //!< allow -nofoo and -nofoo=1\n+        ALLOW_EMPTY    = 0x04, //!< allow -foo and -foo=\"\"\n+        ALLOW_NONEMPTY = 0x08, //!< allow -foo=bar\n+        ALLOW_INT      = 0x10, //!< allow -foo=123\n+        ALLOW_BOOL     = 0x20, //!< allow -foo=0 and -foo=1\n+\n+        /* Standard value types. */\n+        TYPE_STRING = ALLOW_NONEMPTY,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r312037476",
      "id" : 312037476,
      "in_reply_to_id" : 311321892,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMjAzNzQ3Ng==",
      "original_commit_id" : "1efb9ee41ab228a73d293603838951af6fb0f59c",
      "original_position" : 22,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 272573893,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312037476",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r312707098"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312707098"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> If an option is an integer, treating `-nonumber` exactly the same as `-number=0` provides a simple interface to users...\r\n\r\nSuch practice is a bad habit, IMO.\r\n\r\n> ... consistent with what we've always provided in the past. Treating these the same is also less error prone for developers than treating them differently.\r\n\r\nAgree. It is important.",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2019-08-10T15:48:16Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {\n-        NONE = 0x00,\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+        NONE = 0x0, //<! Indicates flag lookup failed.\n+\n+        /* Low level validation flags. In most cases these should be avoided,\n+         * and standard TYPE_* flag combinations below should be preferred. */\n+        ALLOW_ANY      = 0x01, //!< disable validation\n+        ALLOW_NEGATED  = 0x02, //!< allow -nofoo and -nofoo=1\n+        ALLOW_EMPTY    = 0x04, //!< allow -foo and -foo=\"\"\n+        ALLOW_NONEMPTY = 0x08, //!< allow -foo=bar\n+        ALLOW_INT      = 0x10, //!< allow -foo=123\n+        ALLOW_BOOL     = 0x20, //!< allow -foo=0 and -foo=1\n+\n+        /* Standard value types. */\n+        TYPE_STRING = ALLOW_NONEMPTY,\n+        TYPE_OPTIONAL_STRING = ALLOW_NONEMPTY | ALLOW_NEGATED | ALLOW_EMPTY,\n+        TYPE_INT = ALLOW_INT | ALLOW_NEGATED,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r312707098",
      "id" : 312707098,
      "in_reply_to_id" : 310390769,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMjcwNzA5OA==",
      "original_commit_id" : "1efb9ee41ab228a73d293603838951af6fb0f59c",
      "original_position" : 24,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 273430124,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312707098",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK 01ca54a2411ff8f39fa10974327e882141140739\r\n\r\n@promag \r\n> Side note, I find `FlagsOfKnownArg` confusing because it also returns for unknown arguments and it doesn't tell if it's known or not. I'd reword to `GetArgFlags`.\r\n\r\nFor unknown arguments it returns `ArgsManager::NONE`.\r\n\r\n@ryanofsky \r\n> Both seem good to me, but get `GetArgFlags` does seem a little more standard, so I'll rename if @hebasto also says it's better or just as good.\r\n\r\nNaming is the hardest part of coding ;)\r\nAgree with @promag's suggestion about renaming.",
      "created_at" : "2019-08-10T16:09:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#issuecomment-520160573",
      "id" : 520160573,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16545",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMDE2MDU3Mw==",
      "updated_at" : "2019-08-10T16:09:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/520160573",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r312709327"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312709327"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could the underlying type be specified?\r\n```suggestion\r\n     enum Flags : unsigned int {\r\n```\r\nRef: https://github.com/bitcoin/bitcoin/pull/16097#discussion_r310193132",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2019-08-10T16:56:16Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r312709327",
      "id" : 312709327,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMjcwOTMyNw==",
      "original_commit_id" : "01ca54a2411ff8f39fa10974327e882141140739",
      "original_position" : 3,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 273432467,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312709327",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r313973773"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/313973773"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Could the underlying type be specified?\r\n\r\nDone in 9a1e20eef36b9dfff9de7780b0edd30b8ae92487",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2019-08-14T16:40:33Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r313973773",
      "id" : 313973773,
      "in_reply_to_id" : 312709327,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMzk3Mzc3Mw==",
      "original_commit_id" : "01ca54a2411ff8f39fa10974327e882141140739",
      "original_position" : 3,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 275011908,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/313973773",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, consistent argument error checking is good.",
      "created_at" : "2019-10-23T10:58:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#issuecomment-545388679",
      "id" : 545388679,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16545",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NTM4ODY3OQ==",
      "updated_at" : "2019-10-23T10:59:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/545388679",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-10-28T19:20:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#issuecomment-547105301",
      "id" : 547105301,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16545",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NzEwNTMwMQ==",
      "updated_at" : "2019-10-28T19:20:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/547105301",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r346127792"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/346127792"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Implement missing error checking for ArgsManager flags\" (4b8149b5aae874cffe81423a2d4529c6f5b6e944)\r\n\r\nNote: comment describing this function is in the header file shown below on github",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2019-11-14T05:01:07Z",
      "diff_hunk" : "@@ -350,11 +410,28 @@ Optional<unsigned int> ArgsManager::GetArgFlags(const std::string& name) const\n     return nullopt;\n }\n \n+bool ArgsManager::CheckArgFlags(const std::string& name,\n+    unsigned int require,\n+    unsigned int forbid,\n+    const char* context) const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r346127792",
      "id" : 346127792,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0NjEyNzc5Mg==",
      "original_commit_id" : "4b8149b5aae874cffe81423a2d4529c6f5b6e944",
      "original_position" : 194,
      "path" : "src/util/system.cpp",
      "position" : 194,
      "pull_request_review_id" : 316713766,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/346127792",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-12-19T20:16:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#issuecomment-567646434",
      "id" : 567646434,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16545",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NzY0NjQzNA==",
      "updated_at" : "2019-12-19T20:16:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/567646434",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r360732832"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/360732832"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, comma before `false`?",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2019-12-22T22:30:02Z",
      "diff_hunk" : "@@ -174,8 +175,9 @@ class ArgsManager\n     /**\n      * Get setting value.\n      *\n-     * Result will be null if setting was unset, true if \"-setting\" argument was passed\n-     * false if \"-nosetting\" argument was passed, and a string if a \"-setting=value\"\n+     * Result will be null if setting was unset, true if \"-setting\" argument\n+     * was passed false if \"-nosetting\" argument was passed, and a string,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r360732832",
      "id" : 360732832,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MDczMjgzMg==",
      "original_commit_id" : "67518f7cc61bf59ddfa0fd7c8dbbdec3653b9556",
      "original_position" : 27,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 335673755,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/360732832",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r360736266"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/360736266"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, I've changed this to `Optional<string>`, see https://github.com/promag/bitcoin/commit/71da58bc9437b977e56029bd8d2516bcf61cb823.",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2019-12-22T23:42:50Z",
      "diff_hunk" : "@@ -198,30 +190,98 @@ static util::SettingsValue InterpretOption(std::string& section, std::string& ke\n     }\n     if (key.substr(0, 2) == \"no\") {\n         key.erase(0, 2);\n-        // Double negatives like -nofoo=0 are supported (but discouraged)\n-        if (!InterpretBool(value)) {\n-            LogPrintf(\"Warning: parsed potentially confusing double-negative -%s=%s\\n\", key, value);\n-            return true;\n-        }\n         return false;\n     }\n-    return value;\n+    return true;\n }\n \n /**\n- * Check settings value validity according to flags.\n+ * Interpret settings value and apply ALLOW_* type checking flags.\n  *\n- * TODO: Add more meaningful error checks here in the future\n- * See \"here's how the flags are meant to behave\" in\n- * https://github.com/bitcoin/bitcoin/pull/16097#issuecomment-514627823\n+ * Return an error string and nullopt if an invalid value was provided that\n+ * isn't allowed by the flags, otherwise return the parsed value.\n  */\n-static bool CheckValid(const std::string& key, const util::SettingsValue& val, unsigned int flags, std::string& error)\n+static Optional<util::SettingsValue> InterpretValue(const std::string& key,\n+    const std::string* value,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r360736266",
      "id" : 360736266,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MDczNjI2Ng==",
      "original_commit_id" : "67518f7cc61bf59ddfa0fd7c8dbbdec3653b9556",
      "original_position" : 67,
      "path" : "src/util/system.cpp",
      "position" : 67,
      "pull_request_review_id" : 335673755,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/360736266",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r360736303"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/360736303"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`AddArg` could disallow any other flag when this one is used?",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2019-12-22T23:43:47Z",
      "diff_hunk" : "@@ -132,12 +132,13 @@ struct SectionInfo\n class ArgsManager\n {\n public:\n-    enum Flags {\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+    enum Flags : unsigned int {\n+        ALLOW_ANY = 0x01,    //!< disable validation",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r360736303",
      "id" : 360736303,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MDczNjMwMw==",
      "original_commit_id" : "67518f7cc61bf59ddfa0fd7c8dbbdec3653b9556",
      "original_position" : 11,
      "path" : "src/util/system.h",
      "position" : 15,
      "pull_request_review_id" : 335673755,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/360736303",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r362874240"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362874240"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n     * integer, or boolean depending on ALLOW_{BOOL|INT|STRING} flags if a \"-setting=value\"\r\n```",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2020-01-03T16:34:15Z",
      "diff_hunk" : "@@ -174,8 +175,9 @@ class ArgsManager\n     /**\n      * Get setting value.\n      *\n-     * Result will be null if setting was unset, true if \"-setting\" argument was passed\n-     * false if \"-nosetting\" argument was passed, and a string if a \"-setting=value\"\n+     * Result will be null if setting was unset, true if \"-setting\" argument\n+     * was passed false if \"-nosetting\" argument was passed, and a string,\n+     * integer, or boolean depending on ALLOW_ flags if a \"-setting=value\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r362874240",
      "id" : 362874240,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjg3NDI0MA==",
      "original_commit_id" : "67518f7cc61bf59ddfa0fd7c8dbbdec3653b9556",
      "original_position" : 28,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 338163788,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362874240",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Is @MarcoFalke's [suggestion](https://github.com/bitcoin/bitcoin/pull/17473#discussion_r360386173) still relevant?",
      "created_at" : "2020-01-06T12:04:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#issuecomment-571114833",
      "id" : 571114833,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16545",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3MTExNDgzMw==",
      "updated_at" : "2020-01-06T12:04:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/571114833",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r363509730"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363509730"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/16545#discussion_r360736266\r\n\r\n> nit, I've changed this to `Optional<string>`, see [promag@71da58b](https://github.com/promag/bitcoin/commit/71da58bc9437b977e56029bd8d2516bcf61cb823).\r\n\r\nUsing an optional wrapper instead of a simple const pointer seems a little worse to me (less efficient, more verbose), but I wouldn't object if there's an advantage I'm not seeing.",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2020-01-06T22:17:16Z",
      "diff_hunk" : "@@ -198,30 +190,98 @@ static util::SettingsValue InterpretOption(std::string& section, std::string& ke\n     }\n     if (key.substr(0, 2) == \"no\") {\n         key.erase(0, 2);\n-        // Double negatives like -nofoo=0 are supported (but discouraged)\n-        if (!InterpretBool(value)) {\n-            LogPrintf(\"Warning: parsed potentially confusing double-negative -%s=%s\\n\", key, value);\n-            return true;\n-        }\n         return false;\n     }\n-    return value;\n+    return true;\n }\n \n /**\n- * Check settings value validity according to flags.\n+ * Interpret settings value and apply ALLOW_* type checking flags.\n  *\n- * TODO: Add more meaningful error checks here in the future\n- * See \"here's how the flags are meant to behave\" in\n- * https://github.com/bitcoin/bitcoin/pull/16097#issuecomment-514627823\n+ * Return an error string and nullopt if an invalid value was provided that\n+ * isn't allowed by the flags, otherwise return the parsed value.\n  */\n-static bool CheckValid(const std::string& key, const util::SettingsValue& val, unsigned int flags, std::string& error)\n+static Optional<util::SettingsValue> InterpretValue(const std::string& key,\n+    const std::string* value,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r363509730",
      "id" : 363509730,
      "in_reply_to_id" : 360736266,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzUwOTczMA==",
      "original_commit_id" : "67518f7cc61bf59ddfa0fd7c8dbbdec3653b9556",
      "original_position" : 67,
      "path" : "src/util/system.cpp",
      "position" : 67,
      "pull_request_review_id" : 338929766,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363509730",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r363509851"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363509851"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/16545#discussion_r360736303\r\n\r\n> `AddArg` could disallow any other flag when this one is used?\r\n\r\nThanks, added checks for useless flag combinations in `AddArg` and tests for the checks in `util_CheckBadFlagCombinations`",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2020-01-06T22:17:34Z",
      "diff_hunk" : "@@ -132,12 +132,13 @@ struct SectionInfo\n class ArgsManager\n {\n public:\n-    enum Flags {\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+    enum Flags : unsigned int {\n+        ALLOW_ANY = 0x01,    //!< disable validation",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r363509851",
      "id" : 363509851,
      "in_reply_to_id" : 360736303,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzUwOTg1MQ==",
      "original_commit_id" : "67518f7cc61bf59ddfa0fd7c8dbbdec3653b9556",
      "original_position" : 11,
      "path" : "src/util/system.h",
      "position" : 15,
      "pull_request_review_id" : 338929766,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363509851",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r363509906"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363509906"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/16545#discussion_r360732832\r\n\r\n> nit, comma before `false`?\r\n\r\nThanks, fixed",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2020-01-06T22:17:44Z",
      "diff_hunk" : "@@ -174,8 +175,9 @@ class ArgsManager\n     /**\n      * Get setting value.\n      *\n-     * Result will be null if setting was unset, true if \"-setting\" argument was passed\n-     * false if \"-nosetting\" argument was passed, and a string if a \"-setting=value\"\n+     * Result will be null if setting was unset, true if \"-setting\" argument\n+     * was passed false if \"-nosetting\" argument was passed, and a string,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r363509906",
      "id" : 363509906,
      "in_reply_to_id" : 360732832,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzUwOTkwNg==",
      "original_commit_id" : "67518f7cc61bf59ddfa0fd7c8dbbdec3653b9556",
      "original_position" : 27,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 338929766,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363509906",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r363510017"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363510017"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/16545#discussion_r362874240\r\n\r\nThanks, included suggestion",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2020-01-06T22:18:06Z",
      "diff_hunk" : "@@ -174,8 +175,9 @@ class ArgsManager\n     /**\n      * Get setting value.\n      *\n-     * Result will be null if setting was unset, true if \"-setting\" argument was passed\n-     * false if \"-nosetting\" argument was passed, and a string if a \"-setting=value\"\n+     * Result will be null if setting was unset, true if \"-setting\" argument\n+     * was passed false if \"-nosetting\" argument was passed, and a string,\n+     * integer, or boolean depending on ALLOW_ flags if a \"-setting=value\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r363510017",
      "id" : 363510017,
      "in_reply_to_id" : 362874240,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzUxMDAxNw==",
      "original_commit_id" : "67518f7cc61bf59ddfa0fd7c8dbbdec3653b9556",
      "original_position" : 28,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 338929766,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363510017",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r363943771"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363943771"
         }
      },
      "author_association" : "MEMBER",
      "body" : "assiging  ==> assigning",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2020-01-07T20:48:09Z",
      "diff_hunk" : "@@ -301,6 +302,136 @@ BOOST_FIXTURE_TEST_CASE(util_CheckValue, CheckValueTest)\n     CheckValue(M::ALLOW_ANY, \"-value=1\", Expect{\"1\"}.String(\"1\").Int(1).Bool(true).List({\"1\"}));\n     CheckValue(M::ALLOW_ANY, \"-value=2\", Expect{\"2\"}.String(\"2\").Int(2).Bool(true).List({\"2\"}));\n     CheckValue(M::ALLOW_ANY, \"-value=abc\", Expect{\"abc\"}.String(\"abc\").Int(0).Bool(false).List({\"abc\"}));\n+\n+    CheckValue(M::ALLOW_BOOL, nullptr, Expect{{}}.DefaultBool());\n+    CheckValue(M::ALLOW_BOOL, \"-novalue\", Expect{false}.Bool(false));\n+    CheckValue(M::ALLOW_BOOL, \"-novalue=\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value ''.\"));\n+    CheckValue(M::ALLOW_BOOL, \"-novalue=0\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '0'.\"));\n+    CheckValue(M::ALLOW_BOOL, \"-novalue=1\", Expect{false}.Bool(false));\n+    CheckValue(M::ALLOW_BOOL, \"-novalue=2\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '2'.\"));\n+    CheckValue(M::ALLOW_BOOL, \"-novalue=abc\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value 'abc'.\"));\n+    CheckValue(M::ALLOW_BOOL, \"-value\", Expect{true}.Bool(true));\n+    CheckValue(M::ALLOW_BOOL, \"-value=\", Expect{\"\"}.DefaultBool());\n+    CheckValue(M::ALLOW_BOOL, \"-value=0\", Expect{false}.Bool(false));\n+    CheckValue(M::ALLOW_BOOL, \"-value=1\", Expect{true}.Bool(true));\n+    CheckValue(M::ALLOW_BOOL, \"-value=2\", Expect{{}}.Error(\"Can not set -value value to '2'. It must be set to 0 or 1.\"));\n+    CheckValue(M::ALLOW_BOOL, \"-value=abc\", Expect{{}}.Error(\"Can not set -value value to 'abc'. It must be set to 0 or 1.\"));\n+\n+    CheckValue(M::ALLOW_INT, nullptr, Expect{{}}.DefaultInt().DefaultBool());\n+    CheckValue(M::ALLOW_INT, \"-novalue\", Expect{false}.Int(0).Bool(false));\n+    CheckValue(M::ALLOW_INT, \"-novalue=\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value ''.\"));\n+    CheckValue(M::ALLOW_INT, \"-novalue=0\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '0'.\"));\n+    CheckValue(M::ALLOW_INT, \"-novalue=1\", Expect{false}.Int(0).Bool(false));\n+    CheckValue(M::ALLOW_INT, \"-novalue=2\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '2'.\"));\n+    CheckValue(M::ALLOW_INT, \"-novalue=abc\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value 'abc'.\"));\n+    CheckValue(M::ALLOW_INT, \"-value\", Expect{{}}.Error(\"Can not set -value with no value. It must be set to an integer.\"));\n+    CheckValue(M::ALLOW_INT, \"-value=\", Expect{\"\"}.DefaultInt().DefaultBool());\n+    CheckValue(M::ALLOW_INT, \"-value=0\", Expect{0}.Int(0).Bool(false));\n+    CheckValue(M::ALLOW_INT, \"-value=1\", Expect{1}.Int(1).Bool(true));\n+    CheckValue(M::ALLOW_INT, \"-value=2\", Expect{2}.Int(2).Bool(true));\n+    CheckValue(M::ALLOW_INT, \"-value=abc\", Expect{{}}.Error(\"Can not set -value value to 'abc'. It must be set to an integer.\"));\n+\n+    CheckValue(M::ALLOW_STRING, nullptr, Expect{{}}.DefaultString().DefaultBool());\n+    CheckValue(M::ALLOW_STRING, \"-novalue\", Expect{false}.String(\"\").Bool(false));\n+    CheckValue(M::ALLOW_STRING, \"-novalue=\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value ''.\"));\n+    CheckValue(M::ALLOW_STRING, \"-novalue=0\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '0'.\"));\n+    CheckValue(M::ALLOW_STRING, \"-novalue=1\", Expect{false}.String(\"\").Bool(false));\n+    CheckValue(M::ALLOW_STRING, \"-novalue=2\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '2'.\"));\n+    CheckValue(M::ALLOW_STRING, \"-novalue=abc\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value 'abc'.\"));\n+    CheckValue(M::ALLOW_STRING, \"-value\", Expect{{}}.Error(\"Can not set -value with no value. It must be set to a string.\"));\n+    CheckValue(M::ALLOW_STRING, \"-value=\", Expect{\"\"}.DefaultString().DefaultBool());\n+    CheckValue(M::ALLOW_STRING, \"-value=0\", Expect{\"0\"}.String(\"0\").DefaultBool());\n+    CheckValue(M::ALLOW_STRING, \"-value=1\", Expect{\"1\"}.String(\"1\").DefaultBool());\n+    CheckValue(M::ALLOW_STRING, \"-value=2\", Expect{\"2\"}.String(\"2\").DefaultBool());\n+    CheckValue(M::ALLOW_STRING, \"-value=abc\", Expect{\"abc\"}.String(\"abc\").DefaultBool());\n+\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, nullptr, Expect{{}}.DefaultInt().DefaultBool());\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-novalue\", Expect{false}.Int(0).Bool(false));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-novalue=\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value ''.\"));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-novalue=0\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '0'.\"));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-novalue=1\", Expect{false}.Int(0).Bool(false));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-novalue=2\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '2'.\"));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-novalue=abc\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value 'abc'.\"));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-value\", Expect{true}.Int(1).Bool(true));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-value=\", Expect{\"\"}.DefaultInt().DefaultBool());\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-value=0\", Expect{0}.Int(0).Bool(false));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-value=1\", Expect{1}.Int(1).Bool(true));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-value=2\", Expect{2}.Int(2).Bool(true));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-value=abc\", Expect{{}}.Error(\"Can not set -value value to 'abc'. It must be set to an integer.\"));\n+\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, nullptr, Expect{{}}.DefaultString().DefaultBool());\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-novalue\", Expect{false}.String(\"\").Bool(false));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-novalue=\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value ''.\"));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-novalue=0\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '0'.\"));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-novalue=1\", Expect{false}.String(\"\").Bool(false));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-novalue=2\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '2'.\"));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-novalue=abc\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value 'abc'.\"));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-value\", Expect{true}.DefaultString().Bool(true));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-value=\", Expect{\"\"}.DefaultString().DefaultBool());\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-value=0\", Expect{\"0\"}.String(\"0\").DefaultBool());\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-value=1\", Expect{\"1\"}.String(\"1\").DefaultBool());\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-value=2\", Expect{\"2\"}.String(\"2\").DefaultBool());\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-value=abc\", Expect{\"abc\"}.String(\"abc\").DefaultBool());\n+\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, nullptr, Expect{{}}.List({}));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-novalue\", Expect{false}.List({}));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-novalue=\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value ''.\"));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-novalue=0\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '0'.\"));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-novalue=1\", Expect{false}.List({}));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-novalue=2\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '2'.\"));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-novalue=abc\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value 'abc'.\"));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-value\", Expect{{}}.Error(\"Can not set -value with no value. It must be set to a string.\"));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-value=\", Expect{\"\"}.List({\"\"}));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-value=0\", Expect{\"0\"}.List({\"0\"}));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-value=1\", Expect{\"1\"}.List({\"1\"}));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-value=2\", Expect{\"2\"}.List({\"2\"}));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-value=abc\", Expect{\"abc\"}.List({\"abc\"}));\n+}\n+\n+BOOST_FIXTURE_TEST_CASE(util_CheckBoolStringsNotSpecial, CheckValueTest)\n+{\n+    using M = ArgsManager;\n+\n+    // Check that \"true\" and \"false\" strings are rejected for ALLOW_BOOL\n+    // arguments. We might want to change this behavior in the future and\n+    // interpret strings like \"true\" as true, and strings like \"false\" as false.\n+    // But because it would be confusing to interpret \"true\" as true for\n+    // ALLOW_BOOL arguments but false for ALLOW_ANY arguments (because\n+    // atoi(\"true\")==0), for now it is safer to just disallow strings like\n+    // \"true\" and \"false\" for ALLOW_BOOL arguments as long as there are still\n+    // other boolean arguments interpreted with ALLOW_ANY.\n+    CheckValue(M::ALLOW_BOOL, \"-value=true\", Expect{{}}.Error(\"Can not set -value value to 'true'. It must be set to 0 or 1.\"));\n+    CheckValue(M::ALLOW_BOOL, \"-value=false\", Expect{{}}.Error(\"Can not set -value value to 'false'. It must be set to 0 or 1.\"));\n+\n+    // Similarly, check \"true\" and \"false\" are not treated specially when\n+    // ALLOW_BOOL is combined with ALLOW_INT and ALLOW_STRING. (The only\n+    // difference ALLOW_BOOL makes for int and string arguments is that it\n+    // enables \"-foo\" syntax with no equal sign assiging explicit int or string",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r363943771",
      "id" : 363943771,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzk0Mzc3MQ==",
      "original_commit_id" : "27beca5ffee664360005f74123dad9107769d048",
      "original_position" : 159,
      "path" : "src/test/util_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 339497687,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363943771",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r363968221"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363968221"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/16545#discussion_r363943771\r\n\r\n> assiging ==> assigning\r\n\r\nThanks, fixed",
      "commit_id" : "5bb512aa51ae46350f8527ff7b3817dd719bb455",
      "created_at" : "2020-01-07T21:50:22Z",
      "diff_hunk" : "@@ -301,6 +302,136 @@ BOOST_FIXTURE_TEST_CASE(util_CheckValue, CheckValueTest)\n     CheckValue(M::ALLOW_ANY, \"-value=1\", Expect{\"1\"}.String(\"1\").Int(1).Bool(true).List({\"1\"}));\n     CheckValue(M::ALLOW_ANY, \"-value=2\", Expect{\"2\"}.String(\"2\").Int(2).Bool(true).List({\"2\"}));\n     CheckValue(M::ALLOW_ANY, \"-value=abc\", Expect{\"abc\"}.String(\"abc\").Int(0).Bool(false).List({\"abc\"}));\n+\n+    CheckValue(M::ALLOW_BOOL, nullptr, Expect{{}}.DefaultBool());\n+    CheckValue(M::ALLOW_BOOL, \"-novalue\", Expect{false}.Bool(false));\n+    CheckValue(M::ALLOW_BOOL, \"-novalue=\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value ''.\"));\n+    CheckValue(M::ALLOW_BOOL, \"-novalue=0\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '0'.\"));\n+    CheckValue(M::ALLOW_BOOL, \"-novalue=1\", Expect{false}.Bool(false));\n+    CheckValue(M::ALLOW_BOOL, \"-novalue=2\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '2'.\"));\n+    CheckValue(M::ALLOW_BOOL, \"-novalue=abc\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value 'abc'.\"));\n+    CheckValue(M::ALLOW_BOOL, \"-value\", Expect{true}.Bool(true));\n+    CheckValue(M::ALLOW_BOOL, \"-value=\", Expect{\"\"}.DefaultBool());\n+    CheckValue(M::ALLOW_BOOL, \"-value=0\", Expect{false}.Bool(false));\n+    CheckValue(M::ALLOW_BOOL, \"-value=1\", Expect{true}.Bool(true));\n+    CheckValue(M::ALLOW_BOOL, \"-value=2\", Expect{{}}.Error(\"Can not set -value value to '2'. It must be set to 0 or 1.\"));\n+    CheckValue(M::ALLOW_BOOL, \"-value=abc\", Expect{{}}.Error(\"Can not set -value value to 'abc'. It must be set to 0 or 1.\"));\n+\n+    CheckValue(M::ALLOW_INT, nullptr, Expect{{}}.DefaultInt().DefaultBool());\n+    CheckValue(M::ALLOW_INT, \"-novalue\", Expect{false}.Int(0).Bool(false));\n+    CheckValue(M::ALLOW_INT, \"-novalue=\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value ''.\"));\n+    CheckValue(M::ALLOW_INT, \"-novalue=0\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '0'.\"));\n+    CheckValue(M::ALLOW_INT, \"-novalue=1\", Expect{false}.Int(0).Bool(false));\n+    CheckValue(M::ALLOW_INT, \"-novalue=2\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '2'.\"));\n+    CheckValue(M::ALLOW_INT, \"-novalue=abc\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value 'abc'.\"));\n+    CheckValue(M::ALLOW_INT, \"-value\", Expect{{}}.Error(\"Can not set -value with no value. It must be set to an integer.\"));\n+    CheckValue(M::ALLOW_INT, \"-value=\", Expect{\"\"}.DefaultInt().DefaultBool());\n+    CheckValue(M::ALLOW_INT, \"-value=0\", Expect{0}.Int(0).Bool(false));\n+    CheckValue(M::ALLOW_INT, \"-value=1\", Expect{1}.Int(1).Bool(true));\n+    CheckValue(M::ALLOW_INT, \"-value=2\", Expect{2}.Int(2).Bool(true));\n+    CheckValue(M::ALLOW_INT, \"-value=abc\", Expect{{}}.Error(\"Can not set -value value to 'abc'. It must be set to an integer.\"));\n+\n+    CheckValue(M::ALLOW_STRING, nullptr, Expect{{}}.DefaultString().DefaultBool());\n+    CheckValue(M::ALLOW_STRING, \"-novalue\", Expect{false}.String(\"\").Bool(false));\n+    CheckValue(M::ALLOW_STRING, \"-novalue=\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value ''.\"));\n+    CheckValue(M::ALLOW_STRING, \"-novalue=0\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '0'.\"));\n+    CheckValue(M::ALLOW_STRING, \"-novalue=1\", Expect{false}.String(\"\").Bool(false));\n+    CheckValue(M::ALLOW_STRING, \"-novalue=2\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '2'.\"));\n+    CheckValue(M::ALLOW_STRING, \"-novalue=abc\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value 'abc'.\"));\n+    CheckValue(M::ALLOW_STRING, \"-value\", Expect{{}}.Error(\"Can not set -value with no value. It must be set to a string.\"));\n+    CheckValue(M::ALLOW_STRING, \"-value=\", Expect{\"\"}.DefaultString().DefaultBool());\n+    CheckValue(M::ALLOW_STRING, \"-value=0\", Expect{\"0\"}.String(\"0\").DefaultBool());\n+    CheckValue(M::ALLOW_STRING, \"-value=1\", Expect{\"1\"}.String(\"1\").DefaultBool());\n+    CheckValue(M::ALLOW_STRING, \"-value=2\", Expect{\"2\"}.String(\"2\").DefaultBool());\n+    CheckValue(M::ALLOW_STRING, \"-value=abc\", Expect{\"abc\"}.String(\"abc\").DefaultBool());\n+\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, nullptr, Expect{{}}.DefaultInt().DefaultBool());\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-novalue\", Expect{false}.Int(0).Bool(false));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-novalue=\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value ''.\"));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-novalue=0\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '0'.\"));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-novalue=1\", Expect{false}.Int(0).Bool(false));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-novalue=2\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '2'.\"));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-novalue=abc\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value 'abc'.\"));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-value\", Expect{true}.Int(1).Bool(true));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-value=\", Expect{\"\"}.DefaultInt().DefaultBool());\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-value=0\", Expect{0}.Int(0).Bool(false));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-value=1\", Expect{1}.Int(1).Bool(true));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-value=2\", Expect{2}.Int(2).Bool(true));\n+    CheckValue(M::ALLOW_INT | M::ALLOW_BOOL, \"-value=abc\", Expect{{}}.Error(\"Can not set -value value to 'abc'. It must be set to an integer.\"));\n+\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, nullptr, Expect{{}}.DefaultString().DefaultBool());\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-novalue\", Expect{false}.String(\"\").Bool(false));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-novalue=\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value ''.\"));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-novalue=0\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '0'.\"));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-novalue=1\", Expect{false}.String(\"\").Bool(false));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-novalue=2\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '2'.\"));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-novalue=abc\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value 'abc'.\"));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-value\", Expect{true}.DefaultString().Bool(true));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-value=\", Expect{\"\"}.DefaultString().DefaultBool());\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-value=0\", Expect{\"0\"}.String(\"0\").DefaultBool());\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-value=1\", Expect{\"1\"}.String(\"1\").DefaultBool());\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-value=2\", Expect{\"2\"}.String(\"2\").DefaultBool());\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_BOOL, \"-value=abc\", Expect{\"abc\"}.String(\"abc\").DefaultBool());\n+\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, nullptr, Expect{{}}.List({}));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-novalue\", Expect{false}.List({}));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-novalue=\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value ''.\"));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-novalue=0\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '0'.\"));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-novalue=1\", Expect{false}.List({}));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-novalue=2\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value '2'.\"));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-novalue=abc\", Expect{{}}.Error(\"Can not negate -value at the same time as setting value 'abc'.\"));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-value\", Expect{{}}.Error(\"Can not set -value with no value. It must be set to a string.\"));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-value=\", Expect{\"\"}.List({\"\"}));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-value=0\", Expect{\"0\"}.List({\"0\"}));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-value=1\", Expect{\"1\"}.List({\"1\"}));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-value=2\", Expect{\"2\"}.List({\"2\"}));\n+    CheckValue(M::ALLOW_STRING | M::ALLOW_LIST, \"-value=abc\", Expect{\"abc\"}.List({\"abc\"}));\n+}\n+\n+BOOST_FIXTURE_TEST_CASE(util_CheckBoolStringsNotSpecial, CheckValueTest)\n+{\n+    using M = ArgsManager;\n+\n+    // Check that \"true\" and \"false\" strings are rejected for ALLOW_BOOL\n+    // arguments. We might want to change this behavior in the future and\n+    // interpret strings like \"true\" as true, and strings like \"false\" as false.\n+    // But because it would be confusing to interpret \"true\" as true for\n+    // ALLOW_BOOL arguments but false for ALLOW_ANY arguments (because\n+    // atoi(\"true\")==0), for now it is safer to just disallow strings like\n+    // \"true\" and \"false\" for ALLOW_BOOL arguments as long as there are still\n+    // other boolean arguments interpreted with ALLOW_ANY.\n+    CheckValue(M::ALLOW_BOOL, \"-value=true\", Expect{{}}.Error(\"Can not set -value value to 'true'. It must be set to 0 or 1.\"));\n+    CheckValue(M::ALLOW_BOOL, \"-value=false\", Expect{{}}.Error(\"Can not set -value value to 'false'. It must be set to 0 or 1.\"));\n+\n+    // Similarly, check \"true\" and \"false\" are not treated specially when\n+    // ALLOW_BOOL is combined with ALLOW_INT and ALLOW_STRING. (The only\n+    // difference ALLOW_BOOL makes for int and string arguments is that it\n+    // enables \"-foo\" syntax with no equal sign assiging explicit int or string",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r363968221",
      "id" : 363968221,
      "in_reply_to_id" : 363943771,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzk2ODIyMQ==",
      "original_commit_id" : "27beca5ffee664360005f74123dad9107769d048",
      "original_position" : 159,
      "path" : "src/test/util_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 339529990,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2020-01-07T21:52:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363968221",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "A note for future: it seems worth adding a functional test for \"Warning: parsed potentially confusing double-negative ...\" in the `debug.log`.\r\n\r\nnm - it is already, see #17893 ",
      "created_at" : "2020-01-07T22:28:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#issuecomment-571802700",
      "id" : 571802700,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16545",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3MTgwMjcwMA==",
      "updated_at" : "2020-01-07T23:02:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/571802700",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
