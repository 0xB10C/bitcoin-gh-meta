[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15268](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15268.html) (doc: suggest using timeoutstopsec in systemd file during IBD by d3spwn)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-08-08T12:52:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16569#issuecomment-519505153",
      "id" : 519505153,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16569",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxOTUwNTE1Mw==",
      "updated_at" : "2019-08-08T12:52:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519505153",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Documentation for `TimeoutStopSec=`: https://www.freedesktop.org/software/systemd/man/systemd.service.html#TimeoutStopSec=\r\n\r\nRelevant quotations:\r\n\r\n> ...it configures the time to wait for the service itself to stop. If it doesn't terminate in the specified time, it will be forcibly terminated by `SIGKILL` (see `KillMode=` in systemd.kill(5)).\r\n\r\n> Takes a unit-less value in seconds, or a time span value such as \"5min 20s\". Pass \"`infinity`\" to disable the timeout logic. Defaults to `DefaultTimeoutStopSec=` from the manager configuration file (see systemd-system.conf(5)). \r\n\r\nI believe it's warranted for us to set our own `TimeoutStopSec=` instead of relying on the fallback to `DefaultTimeoutStopSec=` (which has [a default of 90 seconds](https://www.freedesktop.org/software/systemd/man/systemd-system.conf.html#DefaultTimeoutStartSec=)), however, perhaps `infinity` is overkill. I believe 10 minutes is probably enough for most systems where we expect Bitcoin Core to operate healthily on, but that's just my speculation and others can/should chime in.",
      "created_at" : "2019-08-08T15:55:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16569#issuecomment-519578899",
      "id" : 519578899,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16569",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxOTU3ODg5OQ==",
      "updated_at" : "2019-08-08T15:59:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519578899",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I have recently encountered a situation on a system with decent specs (4 cores, 16 GB ram, 15 GB db cache, blocksdir on HDD, datadir on SSD) where the clean shutdown took almost 9 minutes. 10 minutes seems like it would be too close for comfort, especially considering the myriad of lower-end hardware that might run `bitcoind`. I have not attempted to analyse the bounds, but in a situation where the shutdown would hang truly indefinitely manual intervention would be required anyway, I assume, to inspect the error before continuing to use the software.\r\n\r\nIs there a potential scenario in which the timeout of `infinity` would function as a regression compared to the status quo?",
      "created_at" : "2019-08-09T12:10:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16569#issuecomment-519895012",
      "id" : 519895012,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16569",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxOTg5NTAxMg==",
      "updated_at" : "2019-08-09T12:10:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519895012",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37372069?v=4",
         "events_url" : "https://api.github.com/users/setpill/events{/privacy}",
         "followers_url" : "https://api.github.com/users/setpill/followers",
         "following_url" : "https://api.github.com/users/setpill/following{/other_user}",
         "gists_url" : "https://api.github.com/users/setpill/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/setpill",
         "id" : 37372069,
         "login" : "setpill",
         "node_id" : "MDQ6VXNlcjM3MzcyMDY5",
         "organizations_url" : "https://api.github.com/users/setpill/orgs",
         "received_events_url" : "https://api.github.com/users/setpill/received_events",
         "repos_url" : "https://api.github.com/users/setpill/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/setpill/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/setpill/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/setpill"
      }
   }
]
