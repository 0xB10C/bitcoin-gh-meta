[
   {
      "author_association" : "MEMBER",
      "body" : "Seems like an improvement, any idea why this was a char in the first place (or how it came to be)?\r\n\r\n> I don't think this is a vulnerability, but it's just a little messy and unsemantic, and could lead to issues with stored wtxIns not being findable in a map by their hash.\r\n\r\nWait, this metadata is never part of the transaction hash right?",
      "created_at" : "2019-08-08T23:49:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16572#issuecomment-519726859",
      "id" : 519726859,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16572",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxOTcyNjg1OQ==",
      "updated_at" : "2019-08-08T23:49:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519726859",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "It seems like it is just old/crufty. It was previously proposed by @ryanofsky to be removed (dummied out), but that went nowhere. https://github.com/bitcoin/bitcoin/pull/9351\r\n\r\nKeeping the distinction seems OK to me, but the consistency issue should be fixed in any case.\r\n\r\n\r\nThe metadata isn't a part of the transaction hash, but it *could* be a part of the hash (like a siphash, not a crypto hash) of the object itself, e.g., for storing in a map.",
      "created_at" : "2019-08-08T23:56:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16572#issuecomment-519728119",
      "id" : 519728119,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16572",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxOTcyODExOQ==",
      "updated_at" : "2019-08-08T23:56:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519728119",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\nThere's also this which I never got why it was a `char`:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/e5fdda68c6d2313edb74443f0d1e6d2ce2d97f5e/src/wallet/coinselection.cpp#L173\r\n",
      "created_at" : "2019-08-09T02:45:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16572#issuecomment-519756596",
      "id" : 519756596,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16572",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxOTc1NjU5Ng==",
      "updated_at" : "2019-08-09T02:45:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519756596",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Actually there is a reason for that one!\r\n\r\nVec bool is typically compacted, so it's *probably* slower running because of masking.\r\n\r\nMaybe worth profiling to find out!",
      "created_at" : "2019-08-09T03:13:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16572#issuecomment-519761080",
      "id" : 519761080,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16572",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxOTc2MTA4MA==",
      "updated_at" : "2019-08-09T03:13:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519761080",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "From a march 2011 mail from Satoshi to me about how the wallet tracks unspent outputs:\n\n```\nEverything that uses fSpent must be changed to use\nvfSpent instead. Â I reorganised IMPLEMENT_SERIALIZE\na little better, now that it's clear how the pattern is going. \nDebatable whether to use vector<char> or vector<bool>. \nA lot of people hate vector<bool> because it has\nirregularities to trip over.\n```\n\nSo I guess the reason was indeed some worry about the std::vector weirdness (it's special cased to be bitbacked).",
      "created_at" : "2019-08-09T03:24:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16572#issuecomment-519762890",
      "id" : 519762890,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16572",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxOTc2Mjg5MA==",
      "updated_at" : "2019-08-09T03:28:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519762890",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Hm; may be worth it to go ahead and modify these locations to use `vec<char>`...\r\n\r\n```\r\nblockencodings.cpp\r\nmerkleblock.cpp\r\nrest.cpp\r\nscript/interpreter.cpp\r\ntest/pmt_tests.cpp\r\ntxdb.cpp\r\nwallet/coinselection.cpp\r\n```\r\n\r\nWould require some profiling to ensure that there isn't a regression.\r\n\r\nThe only place that is using `vector<bool>` for compactness is the cuckoocache.",
      "created_at" : "2019-08-09T03:35:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16572#issuecomment-519764668",
      "id" : 519764668,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16572",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxOTc2NDY2OA==",
      "updated_at" : "2019-08-09T03:36:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519764668",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   }
]
