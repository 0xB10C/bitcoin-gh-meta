[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r53595600"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/53595600"
         }
      },
      "body" : "Nit: indent.",
      "commit_id" : "f9b6b860a8ea2df7f1258e24b8d2c81335c18b96",
      "created_at" : "2016-02-22T08:16:07Z",
      "diff_hunk" : "@@ -5146,6 +5162,19 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n         }\n     }\n \n+    else if (strCommand == NetMsgType::FEEFILTER)\n+    {\n+        CAmount newFeeFilter = 0;\n+        vRecv >> newFeeFilter;\n+        if (MoneyRange(newFeeFilter)) {\n+            {\n+            LOCK(pfrom->cs_feeFilter);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r53595600",
      "id" : 53595600,
      "original_commit_id" : "452f116990119b6b476cf72fe00f6025b0bbb0a9",
      "original_position" : 124,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542",
      "updated_at" : "2016-02-25T18:36:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/53595600",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Nice Work!\r\nIMO relatively important PR to reduce p2p \"noise\".\r\nConcept ACK. Short code review. ",
      "created_at" : "2016-02-22T08:23:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7542#issuecomment-187065850",
      "id" : 187065850,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7542",
      "updated_at" : "2016-02-22T08:23:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/187065850",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r53735734"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/53735734"
         }
      },
      "body" : "To unlock the thread-lock for the LogPrint at L5174.",
      "commit_id" : "f9b6b860a8ea2df7f1258e24b8d2c81335c18b96",
      "created_at" : "2016-02-23T04:38:23Z",
      "diff_hunk" : "@@ -5146,6 +5162,19 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n         }\n     }\n \n+    else if (strCommand == NetMsgType::FEEFILTER)\n+    {\n+        CAmount newFeeFilter = 0;\n+        vRecv >> newFeeFilter;\n+        if (MoneyRange(newFeeFilter)) {\n+            {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r53735734",
      "id" : 53735734,
      "original_commit_id" : "452f116990119b6b476cf72fe00f6025b0bbb0a9",
      "original_position" : 123,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542",
      "updated_at" : "2016-02-25T18:36:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/53735734",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r53742485"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/53742485"
         }
      },
      "body" : "We want don't want?",
      "commit_id" : "f9b6b860a8ea2df7f1258e24b8d2c81335c18b96",
      "created_at" : "2016-02-23T06:59:17Z",
      "diff_hunk" : "@@ -5629,6 +5658,29 @@ bool SendMessages(CNode* pto)\n         if (!vGetData.empty())\n             pto->PushMessage(NetMsgType::GETDATA, vGetData);\n \n+        //\n+        // Message: feefilter\n+        //\n+        // We want don't want white listed peers to filter txs to us if we have -whitelistforcerelay",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r53742485",
      "id" : 53742485,
      "original_commit_id" : "452f116990119b6b476cf72fe00f6025b0bbb0a9",
      "original_position" : 141,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542",
      "updated_at" : "2016-02-25T18:36:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/53742485",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r53742557"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/53742557"
         }
      },
      "body" : "SPC at the end missing",
      "commit_id" : "f9b6b860a8ea2df7f1258e24b8d2c81335c18b96",
      "created_at" : "2016-02-23T07:00:44Z",
      "diff_hunk" : "@@ -120,6 +124,8 @@ static const bool DEFAULT_ENABLE_REPLACEMENT = true;\n \n /** Maximum number of headers to announce when relaying blocks with headers message.*/\n static const unsigned int MAX_BLOCKS_TO_ANNOUNCE = 8;\n+/** Default for using fee filter*/",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r53742557",
      "id" : 53742557,
      "original_commit_id" : "452f116990119b6b476cf72fe00f6025b0bbb0a9",
      "original_position" : 15,
      "path" : "src/main.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542",
      "updated_at" : "2016-02-25T18:36:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/53742557",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r53742744"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/53742744"
         }
      },
      "body" : "SPC at the end of comment",
      "commit_id" : "f9b6b860a8ea2df7f1258e24b8d2c81335c18b96",
      "created_at" : "2016-02-23T07:03:39Z",
      "diff_hunk" : "@@ -286,4 +286,17 @@ class CBlockPolicyEstimator\n     CFeeRate feeLikely, feeUnlikely;\n     double priLikely, priUnlikely;\n };\n+\n+class FeeFilterRounder\n+{\n+public:\n+    /** Create new FeeFilterRounder*/",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r53742744",
      "id" : 53742744,
      "original_commit_id" : "452f116990119b6b476cf72fe00f6025b0bbb0a9",
      "original_position" : 8,
      "path" : "src/policy/fees.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542",
      "updated_at" : "2016-02-25T18:36:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/53742744",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Any volunteer to write some test cases?\r\n",
      "created_at" : "2016-02-23T07:11:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7542#issuecomment-187577460",
      "id" : 187577460,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7542",
      "updated_at" : "2016-02-23T07:11:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/187577460",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r53743511"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/53743511"
         }
      },
      "body" : "@luke-jr Can you please assign a BIP number?",
      "commit_id" : "f9b6b860a8ea2df7f1258e24b8d2c81335c18b96",
      "created_at" : "2016-02-23T07:16:29Z",
      "diff_hunk" : "@@ -218,7 +218,12 @@ extern const char *REJECT;\n  * @see https://bitcoin.org/en/developer-reference#sendheaders\n  */\n extern const char *SENDHEADERS;\n-\n+/**\n+ * The feefilter message tells the receiving peer not to inv us any txs\n+ * which do not meet the specified min fee rate.\n+ * @since protocol version 70013 as described by BIPXXX",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r53743511",
      "id" : 53743511,
      "original_commit_id" : "452f116990119b6b476cf72fe00f6025b0bbb0a9",
      "original_position" : 8,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542",
      "updated_at" : "2016-02-25T18:36:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/53743511",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "What will we do when we sent `feefilter` to the peer and the peer sends us zero fee `inv`s?\r\n\r\nIn the DIP draft, you wrote:\r\n\r\n> Upon receipt of a \"feefilter\" message, the node will be permitted, but not required, to filter transaction invs for transactions that fall below the feerate provided in the feefilter message interpreted as satoshis per kilobyte.\r\n\r\nIs this what we want? Why should a protocol 70013 peer relay such `inv`s to us?\r\n",
      "created_at" : "2016-02-23T07:18:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7542#issuecomment-187578336",
      "id" : 187578336,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7542",
      "updated_at" : "2016-02-23T07:22:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/187578336",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r54075956"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/54075956"
         }
      },
      "body" : "I remember adding the clang-format script some time ago. Something like `git diff -U0 HEAD~1.. | ./contrib/devtools/clang-format-diff.py -p1 -i -v` should do all of this.",
      "commit_id" : "f9b6b860a8ea2df7f1258e24b8d2c81335c18b96",
      "created_at" : "2016-02-25T10:31:09Z",
      "diff_hunk" : "@@ -5146,6 +5162,19 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n         }\n     }\n \n+    else if (strCommand == NetMsgType::FEEFILTER)\n+    {\n+        CAmount newFeeFilter = 0;\n+        vRecv >> newFeeFilter;\n+        if (MoneyRange(newFeeFilter)) {\n+            {\n+            LOCK(pfrom->cs_feeFilter);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r54075956",
      "id" : 54075956,
      "original_commit_id" : "452f116990119b6b476cf72fe00f6025b0bbb0a9",
      "original_position" : 124,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542",
      "updated_at" : "2016-02-25T18:36:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/54075956",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r54083627"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/54083627"
         }
      },
      "body" : "@morcos needs to request this.",
      "commit_id" : "f9b6b860a8ea2df7f1258e24b8d2c81335c18b96",
      "created_at" : "2016-02-25T11:42:18Z",
      "diff_hunk" : "@@ -218,7 +218,12 @@ extern const char *REJECT;\n  * @see https://bitcoin.org/en/developer-reference#sendheaders\n  */\n extern const char *SENDHEADERS;\n-\n+/**\n+ * The feefilter message tells the receiving peer not to inv us any txs\n+ * which do not meet the specified min fee rate.\n+ * @since protocol version 70013 as described by BIPXXX",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r54083627",
      "id" : 54083627,
      "original_commit_id" : "452f116990119b6b476cf72fe00f6025b0bbb0a9",
      "original_position" : 8,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542",
      "updated_at" : "2016-02-25T18:36:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/54083627",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Addressed the cleanup comments\r\nThis has been submited as a [PR](https://github.com/bitcoin/bips/pull/341) for BIP 133.\r\n\r\n@paveljanik It's impossible to be sure there aren't invs or txs in flight with fee rates below the cut off. Also in general we don't have a good system for responding to p2p misbehavior.  I think this could be extended later with that ability, but as of now it does not appear to open up any additional DoS attacks if you don't abide by the message.\r\n",
      "created_at" : "2016-02-25T18:39:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7542#issuecomment-188922694",
      "id" : 188922694,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7542",
      "updated_at" : "2016-02-25T18:39:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/188922694",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r54921591"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/54921591"
         }
      },
      "body" : "its -> it is/it's",
      "commit_id" : "f9b6b860a8ea2df7f1258e24b8d2c81335c18b96",
      "created_at" : "2016-03-03T18:13:09Z",
      "diff_hunk" : "@@ -5629,6 +5653,29 @@ bool SendMessages(CNode* pto)\n         if (!vGetData.empty())\n             pto->PushMessage(NetMsgType::GETDATA, vGetData);\n \n+        //\n+        // Message: feefilter\n+        //\n+        // We don't want white listed peers to filter txs to us if we have -whitelistforcerelay\n+        if (pto->nVersion >= FEEFILTER_VERSION && GetBoolArg(\"-feefilter\", DEFAULT_FEEFILTER) &&\n+            !(pto->fWhitelisted && GetBoolArg(\"-whitelistforcerelay\", DEFAULT_WHITELISTFORCERELAY))) {\n+            CAmount currentFilter = mempool.GetMinFee(GetArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE) * 1000000).GetFeePerK();\n+            int64_t timeNow = GetTimeMicros();\n+            if (timeNow > pto->nextSendTimeFeeFilter) {\n+                CAmount filterToSend = filterRounder.round(currentFilter);\n+                if (filterToSend != pto->lastSentFeeFilter) {\n+                    pto->PushMessage(NetMsgType::FEEFILTER, filterToSend);\n+                    pto->lastSentFeeFilter = filterToSend;\n+                }\n+                pto->nextSendTimeFeeFilter = PoissonNextSend(timeNow, AVG_FEEFILTER_BROADCAST_INTERVAL);\n+            }\n+            // If the fee filter has changed substantially and its still more than MAX_FEEFILTER_CHANGE_DELAY",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r54921591",
      "id" : 54921591,
      "original_commit_id" : "f9b6b860a8ea2df7f1258e24b8d2c81335c18b96",
      "original_position" : 155,
      "path" : "src/main.cpp",
      "position" : 155,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542",
      "updated_at" : "2016-03-03T18:13:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/54921591",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r54922269"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/54922269"
         }
      },
      "body" : "This have been merged now - can you please rebase?\r\n",
      "commit_id" : "f9b6b860a8ea2df7f1258e24b8d2c81335c18b96",
      "created_at" : "2016-03-03T18:18:27Z",
      "diff_hunk" : "@@ -1265,9 +1265,11 @@ bool CWalletTx::RelayWalletTransaction()\n     assert(pwallet->GetBroadcastTransactions());\n     if (!IsCoinBase())\n     {\n-        if (GetDepthInMainChain() == 0 && !isAbandoned()) {\n+        if (GetDepthInMainChain() == 0 && !isAbandoned() && InMempool()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7542#discussion_r54922269",
      "id" : 54922269,
      "original_commit_id" : "f9b6b860a8ea2df7f1258e24b8d2c81335c18b96",
      "original_position" : 5,
      "path" : "src/wallet/wallet.cpp",
      "position" : 5,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7542",
      "updated_at" : "2016-03-03T18:18:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/54922269",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Squashed and rebased",
      "created_at" : "2016-03-04T16:18:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7542#issuecomment-192340902",
      "id" : 192340902,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7542",
      "updated_at" : "2016-03-04T16:18:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/192340902",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "Please mention the bip number in the github subject line. Also you'd need to update `/doc/bips.md` prior to merge.",
      "created_at" : "2016-03-04T16:42:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7542#issuecomment-192350182",
      "id" : 192350182,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7542",
      "updated_at" : "2016-03-04T16:42:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/192350182",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
