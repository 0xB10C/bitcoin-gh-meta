{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Currently it is possible to stupidly lose mempool data by calling the rpc \"savemempool\" before the previous stored mempool has been read and processed to the memory mempool.\r\n\r\nI haven't looked at the code yet, but at minimum one ugly solution would be to have a global g_is_mempool_read_finished (or something of the short) that starts false and gets sets to true once the reading is reading processing of mempool.dat is successfully finished. The rpc savemempool checks this global on the start and returns a an error while it remains false.\r\n",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12142/comments",
   "created_at" : "2018-01-11T00:57:44Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12142/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/12142",
   "id" : 287629206,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12142/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 12142,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "RPC: savemempool: Don't write mempool.dat while not having the previous one in memory",
   "updated_at" : "2018-01-11T00:57:44Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12142",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/1008458?v=4",
      "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jtimon/followers",
      "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jtimon",
      "id" : 1008458,
      "login" : "jtimon",
      "organizations_url" : "https://api.github.com/users/jtimon/orgs",
      "received_events_url" : "https://api.github.com/users/jtimon/received_events",
      "repos_url" : "https://api.github.com/users/jtimon/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jtimon"
   }
}
