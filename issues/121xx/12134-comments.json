[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Can you explain why exactly the patching is needed in this case? It would definitely seem better to test against unpatched previous releases if possible.",
      "created_at" : "2018-01-09T20:27:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#issuecomment-356404252",
      "id" : 356404252,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12134",
      "updated_at" : "2018-01-09T20:27:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356404252",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@ryanofsky the regtest parameters were changed to activate SegWit at the genesis block, which causes nodes after #11389 to reject blocks created by v0.15.1 and older nodes (and vice versa). Maybe there's a less drastic way to change the regtest consensus params for these older releases?",
      "created_at" : "2018-01-09T20:33:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#issuecomment-356405725",
      "id" : 356405725,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12134",
      "updated_at" : "2018-01-09T20:33:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356405725",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Not sure, but is passing `-vbparams=segwit:0:0` an option?",
      "created_at" : "2018-01-09T20:42:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#issuecomment-356407978",
      "id" : 356407978,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12134",
      "updated_at" : "2018-01-09T20:42:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356407978",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sjors I've spent some time looking into how feasible it would be to write functional tests that would run against older versions of our software, which I think would be great if we could pull off -- for instance, I thought it would be nice in something like the `p2p-segwit.py` test for us to use an actual old binary in the `upgrade_after_activation` test, rather than mocking it with a current binary by setting the bip9 parameters to 0.\r\n\r\nHowever, in my experience this proved to be impractical.  It seems like we periodically make changes to the RPC test framework infrastructure itself, in such ways that cause problems with backward compatibility.  Here are a few examples I have run into, so you get a flavor of some of the issues:\r\n\r\n- `sync_blocks()` was rewritten to use an rpc call, `waitforblockheight`, that was introduced in 0.14.  So no test that uses sync_blocks can run on a pre-0.14 version of the code (which is basically every test we have!).\r\n\r\n- Even if you solve that problem somehow (eg by rewriting `sync_blocks`, or avoiding it somehow), we also introduced in 0.14 support for RPC named arguments.  This also breaks compatibility with pre-0.14 software (so without a patch, I believe no RPC calls work at all).\r\n\r\n- I might have the details of this one slightly wrong, but I think we made a change at some point to support parsing numbers as strings, versus floats, and then I think our JSON library started to take advantage of that as well?  Not sure if that's exactly right, but I remember having an issue running newer tests against older releases when using RPC calls involving numbers, and needing a patch for that.\r\n\r\nSo my takeaway from this exercise was that if we want to support running modern tests against older binaries, we need to change the way we do things, so that we (a) have a better split between the python test code, and the python utilities/RPC handlers/etc that allow us to talk to a node, and (b) come up with a way to use older python utility code when talking to older nodes.",
      "created_at" : "2018-01-09T21:16:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#issuecomment-356416607",
      "id" : 356416607,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12134",
      "updated_at" : "2018-01-09T21:16:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356416607",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> So no test that uses sync_blocks can run on a pre-0.14 version of the code (which is basically every test we have!).\r\n\r\nI don't understand why this would matter. I think the goal here is just to be able to write a small test that brings up a specific version of bitcoind (0.15) and tests a few things with it, not to be able to run large swathes of the test framework against arbitrary bitcoin releases. It doesn't seem it would require a lot of code to support this, and if the tests are run on travis it doesn't seem like whatever code is added could get broken easily.",
      "created_at" : "2018-01-09T21:38:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#issuecomment-356422423",
      "id" : 356422423,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12134",
      "updated_at" : "2018-01-09T21:38:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356422423",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@ryanofsky Perhaps I phrased that sentence poorly -- my point wasn't that we'd want to run all the tests against older code (I think that would be absurd), just that we take it for granted that we can call `sync_blocks` in all sorts of places, so to not have such a basic utility at your disposal can be surprising and hard to work around.\r\n\r\nAnother way to look at it: imagine you wanted to run a test against 0.15 now, so you write one and you can even use `sync_blocks` and everything works fine (I agree that this shouldn't be too hard, as 0.15 was very recent).  Based on our history, I imagine there will come a time when someone wants to do something which will break the test, because some utility code -- like `sync_blocks`, or the way we make RPC calls, or something else -- will change, and the test will be busted, and we won't have a good way to fix it.",
      "created_at" : "2018-01-09T21:49:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#issuecomment-356425374",
      "id" : 356425374,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12134",
      "updated_at" : "2018-01-09T21:49:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356425374",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This seems possible for small, limited tests which don't use the full range of test framework capabilities (for example, if we just want to test downgrading to v0.15 to test segwit wallets). As Suhas has pointed out, there are lots of reasons why this is difficult in the general case, but I think we can work around them for a targeted test cases:\r\n\r\n> sync_blocks() was rewritten to use an rpc call, waitforblockheight, that was introduced in 0.14. \r\n\r\nNot relevant if we only want to test as far back as v0.15, but we can add a `waitforblockheight` method to `TestNode` for versions that don't have a `waitforblockheight` RPC method.\r\n\r\n> Even if you solve that problem somehow (eg by rewriting sync_blocks, or avoiding it somehow), we also introduced in 0.14 support for RPC named arguments.\r\n\r\nWe could be careful to not use named arguments in tests where we want to use earlier versions. Or we could add a shim to `TestNode` to convert named -> positional.\r\n\r\n> I think we made a change at some point to support parsing numbers as strings, versus floats, and then I think our JSON library started to take advantage of that as well?\r\n\r\nAs above.\r\n\r\n> I imagine there will come a time when someone wants to do something which will break the test, because some utility code -- like sync_blocks, or the way we make RPC calls, or something else -- will change, and the test will be busted, and we won't have a good way to fix it.\r\n\r\nI expect we'll only want to have tests covering the last one or two releases, so I don't see this as a huge problem.\r\n\r\n> I think the goal here is ... not to be able to run large swathes of the test framework against arbitrary bitcoin releases.\r\n\r\nYes - I agree that would be almost impossible.\r\n\r\n@Sjors - if the goal is only to test official releases, why not download the binaries directly from https://bitcoincore.org/bin/ rather than building them locally?",
      "created_at" : "2018-01-09T22:00:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#issuecomment-356428226",
      "id" : 356428226,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12134",
      "updated_at" : "2018-01-09T22:00:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356428226",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This is an aside if the goal here is just to make 0.15 work, but:\r\n\r\n> We could be careful to not use named arguments in tests where we want to use earlier versions. Or we could add a shim to TestNode to convert named -> positional.\r\n\r\nThe change to support named args actually affected RPC invocations that don't use named args -- I think we send an empty dictionary instead of an empty list in `authproxy.py` which an old server wouldn't accept.\r\n\r\nAnyway I don't mean to be overly pessimistic if you all think we can make something work!  I'm definitely in favor of the overall goal, I just haven't come across a simple solution that I thought was robust.",
      "created_at" : "2018-01-09T22:09:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#issuecomment-356430526",
      "id" : 356430526,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12134",
      "updated_at" : "2018-01-09T22:09:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356430526",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I expect we'll only want to have tests covering the last one or two releases, so I don't see this as a huge problem.\r\n\r\nI don't follow this point though -- in something like the `p2p-segwit.py` test, you'd have to do the upgrade after activation test on an 0.13.0 node or earlier.  So if we'd written the test in such a way as to use an old binary, we'd have to just decommission that test at some point...?  Obviously replacing with a later binary (that has the feature you want to test upgrade from) would mean you can't do that test anymore.",
      "created_at" : "2018-01-09T22:12:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#issuecomment-356431281",
      "id" : 356431281,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12134",
      "updated_at" : "2018-01-09T22:12:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356431281",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> in something like the p2p-segwit.py test, you'd have to do the upgrade after activation test on an 0.13.0 node or earlier. So if we'd written the test in such a way as to use an old binary, we'd have to just decommission that test at some point...?\r\n\r\nYes - my expectation is that we'd decommission that test at some point. I don't think that testing versions older than a couple of releases is something that we should do as part of travis or developer local testing (although there's nothing stopping anyone from having a custom test rig to do that sort of thing).",
      "created_at" : "2018-01-09T22:16:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#issuecomment-356432281",
      "id" : 356432281,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12134",
      "updated_at" : "2018-01-09T22:16:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356432281",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jnewbery compiling from source seems more flexible than fetching binaries, especially if we need to patch things. There might also be configure flags that are optimal for the functional tests. It can be expanded to fetch code from other repositories (on your own test rig). \r\n\r\nDownloading binaries would be faster, but it also involves figuring out which OS you're on and checking the checksum, so it's not necessarily easier to write a script for. That said, the one-off build is painfully slow on Travis atm, so I might add an option to just fetch a binary.\r\n\r\n@ryanofsky `-vbparams=segwit:0:0 -vbparams=csv:0:0` did the trick, as long as I generate blocks on the modern node (which is fine). So no patch needed for `v0.15.1` at the moment.\r\n\r\n@sdaftuar I ran into the issue you mentioned for versions before v0.14 and added a comment to the test file to warn about that.\r\n\r\nI changed the demonstration test to simply check if old nodes sync blocks from the new node. I'll try some SegWit wallet related scenarios in a different PR.\r\n\r\nI added a commit that makes one Travis instance compile `v0.14.2` and `v0.15.1` (cached) and then run the relevant functional test. It works, but I'm a bit confused as to what the right place is on Travis to put these older builds. ",
      "created_at" : "2018-01-10T16:26:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#issuecomment-356655476",
      "id" : 356655476,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12134",
      "updated_at" : "2018-01-10T16:26:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356655476",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r160730632"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160730632"
         }
      },
      "author_association" : "MEMBER",
      "body" : "That cache should be covered by `.ccache`, no?",
      "commit_id" : "2c2e6c7cb1ace5296618aced71baeddbf45bf064",
      "created_at" : "2018-01-10T16:33:10Z",
      "diff_hunk" : "@@ -7,6 +7,7 @@ cache:\n   - depends/built\n   - depends/sdk-sources\n   - $HOME/.ccache\n+  - build/releases",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r160730632",
      "id" : 160730632,
      "original_commit_id" : "f46bc95f19a27b39d53f8d934590cc68901a34a2",
      "original_position" : 4,
      "path" : ".travis.yml",
      "position" : 4,
      "pull_request_review_id" : 87897646,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134",
      "updated_at" : "2018-05-15T12:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160730632",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r160734383"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160734383"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Would be nice to be able to pass those paths in. Could overwrite `add_options` in test_framework.",
      "commit_id" : "2c2e6c7cb1ace5296618aced71baeddbf45bf064",
      "created_at" : "2018-01-10T16:46:07Z",
      "diff_hunk" : "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Downgrade functional test\n+\n+Test various downgrade scenarios. Compile the previous node binaries:\n+\n+contrib/devtools/previous_release.sh -f v0.15.1 v0.14.2\n+\n+Due to RPC changes introduced in v0.14 the below tests won't work for older\n+versions without some patches or workarounds.\n+\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    sync_blocks\n+)\n+\n+class DowngradeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 3\n+        self.extra_args = [\n+            [],\n+            [\"-vbparams=segwit:0:0\", \"-vbparams=csv:0:0\"], # v0.15.1\n+            [\"-vbparams=segwit:0:0\", \"-vbparams=csv:0:0\"] # v0.14.2\n+        ]\n+\n+    def setup_nodes(self):\n+        \"\"\"Override this method to customize test node setup\"\"\"\n+        self.add_nodes(self.num_nodes, self.extra_args, None, None, [\n+            None,\n+            \"build/releases/v0.15.1/src/bitcoind\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r160734383",
      "id" : 160734383,
      "original_commit_id" : "f46bc95f19a27b39d53f8d934590cc68901a34a2",
      "original_position" : 34,
      "path" : "test/functional/backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 87902440,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134",
      "updated_at" : "2018-05-15T12:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160734383",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r160734486"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160734486"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Comment seems misplaced",
      "commit_id" : "2c2e6c7cb1ace5296618aced71baeddbf45bf064",
      "created_at" : "2018-01-10T16:46:29Z",
      "diff_hunk" : "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Downgrade functional test\n+\n+Test various downgrade scenarios. Compile the previous node binaries:\n+\n+contrib/devtools/previous_release.sh -f v0.15.1 v0.14.2\n+\n+Due to RPC changes introduced in v0.14 the below tests won't work for older\n+versions without some patches or workarounds.\n+\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    sync_blocks\n+)\n+\n+class DowngradeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 3\n+        self.extra_args = [\n+            [],\n+            [\"-vbparams=segwit:0:0\", \"-vbparams=csv:0:0\"], # v0.15.1\n+            [\"-vbparams=segwit:0:0\", \"-vbparams=csv:0:0\"] # v0.14.2\n+        ]\n+\n+    def setup_nodes(self):\n+        \"\"\"Override this method to customize test node setup\"\"\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r160734486",
      "id" : 160734486,
      "original_commit_id" : "f46bc95f19a27b39d53f8d934590cc68901a34a2",
      "original_position" : 31,
      "path" : "test/functional/backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 87902440,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134",
      "updated_at" : "2018-05-15T12:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160734486",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r160734818"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160734818"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Use named args for those unnamed arguments to provide documentation and robustness against future interface changes.",
      "commit_id" : "2c2e6c7cb1ace5296618aced71baeddbf45bf064",
      "created_at" : "2018-01-10T16:47:35Z",
      "diff_hunk" : "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Downgrade functional test\n+\n+Test various downgrade scenarios. Compile the previous node binaries:\n+\n+contrib/devtools/previous_release.sh -f v0.15.1 v0.14.2\n+\n+Due to RPC changes introduced in v0.14 the below tests won't work for older\n+versions without some patches or workarounds.\n+\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    sync_blocks\n+)\n+\n+class DowngradeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 3\n+        self.extra_args = [\n+            [],\n+            [\"-vbparams=segwit:0:0\", \"-vbparams=csv:0:0\"], # v0.15.1\n+            [\"-vbparams=segwit:0:0\", \"-vbparams=csv:0:0\"] # v0.14.2\n+        ]\n+\n+    def setup_nodes(self):\n+        \"\"\"Override this method to customize test node setup\"\"\"\n+        self.add_nodes(self.num_nodes, self.extra_args, None, None, [",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r160734818",
      "id" : 160734818,
      "original_commit_id" : "f46bc95f19a27b39d53f8d934590cc68901a34a2",
      "original_position" : 32,
      "path" : "test/functional/backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 87902440,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134",
      "updated_at" : "2018-05-15T12:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160734818",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, haven't looked at the code.\r\n\r\nI think not testing with older versions is the biggest lack in our test env.\r\nThings like the UTXO migration (now done) or testing how \"older\" nodes act on the (new) p2p network.\r\nAlso, up- and downgrading wallets is not covered by our tests and could be with something like this.",
      "created_at" : "2018-01-10T19:01:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#issuecomment-356702797",
      "id" : 356702797,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12134",
      "updated_at" : "2018-01-10T19:01:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356702797",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, cross version testing will be a very nice addition to the testing suite IMO",
      "created_at" : "2018-01-11T09:15:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#issuecomment-356873127",
      "id" : 356873127,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12134",
      "updated_at" : "2018-01-11T09:15:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356873127",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r160906896"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160906896"
         }
      },
      "author_association" : "NONE",
      "body" : "Nice nit @MarcoFalke!",
      "commit_id" : "2c2e6c7cb1ace5296618aced71baeddbf45bf064",
      "created_at" : "2018-01-11T09:52:10Z",
      "diff_hunk" : "@@ -70,7 +72,7 @@ script:\n     - BITCOIN_CONFIG_ALL=\"--disable-dependency-tracking --prefix=$TRAVIS_BUILD_DIR/depends/$HOST --bindir=$OUTDIR/bin --libdir=$OUTDIR/lib\"\n     - if [ -z \"$NO_DEPENDS\" ]; then depends/$HOST/native/bin/ccache --max-size=$CCACHE_SIZE; fi\n     - test -n \"$USE_SHELL\" && eval '\"$USE_SHELL\" -c \"./autogen.sh\"' || ./autogen.sh\n-    - mkdir build && cd build\n+    - mkdir -p build && cd build",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r160906896",
      "id" : 160906896,
      "original_commit_id" : "f46bc95f19a27b39d53f8d934590cc68901a34a2",
      "original_position" : 30,
      "path" : ".travis.yml",
      "position" : null,
      "pull_request_review_id" : 88106253,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134",
      "updated_at" : "2018-05-15T12:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160906896",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/38223?v=4",
         "events_url" : "https://api.github.com/users/snuggs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/snuggs/followers",
         "following_url" : "https://api.github.com/users/snuggs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/snuggs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/snuggs",
         "id" : 38223,
         "login" : "snuggs",
         "organizations_url" : "https://api.github.com/users/snuggs/orgs",
         "received_events_url" : "https://api.github.com/users/snuggs/received_events",
         "repos_url" : "https://api.github.com/users/snuggs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/snuggs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/snuggs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/snuggs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r160911220"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160911220"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Do you mean making `--srcdir` accept multiple paths? That's probably a useful PR by itself, I made a note.",
      "commit_id" : "2c2e6c7cb1ace5296618aced71baeddbf45bf064",
      "created_at" : "2018-01-11T10:09:59Z",
      "diff_hunk" : "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Downgrade functional test\n+\n+Test various downgrade scenarios. Compile the previous node binaries:\n+\n+contrib/devtools/previous_release.sh -f v0.15.1 v0.14.2\n+\n+Due to RPC changes introduced in v0.14 the below tests won't work for older\n+versions without some patches or workarounds.\n+\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    sync_blocks\n+)\n+\n+class DowngradeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 3\n+        self.extra_args = [\n+            [],\n+            [\"-vbparams=segwit:0:0\", \"-vbparams=csv:0:0\"], # v0.15.1\n+            [\"-vbparams=segwit:0:0\", \"-vbparams=csv:0:0\"] # v0.14.2\n+        ]\n+\n+    def setup_nodes(self):\n+        \"\"\"Override this method to customize test node setup\"\"\"\n+        self.add_nodes(self.num_nodes, self.extra_args, None, None, [\n+            None,\n+            \"build/releases/v0.15.1/src/bitcoind\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r160911220",
      "id" : 160911220,
      "in_reply_to_id" : 160734383,
      "original_commit_id" : "f46bc95f19a27b39d53f8d934590cc68901a34a2",
      "original_position" : 34,
      "path" : "test/functional/backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 88111390,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134",
      "updated_at" : "2018-05-15T12:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160911220",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r160912739"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160912739"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Removed.",
      "commit_id" : "2c2e6c7cb1ace5296618aced71baeddbf45bf064",
      "created_at" : "2018-01-11T10:16:19Z",
      "diff_hunk" : "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Downgrade functional test\n+\n+Test various downgrade scenarios. Compile the previous node binaries:\n+\n+contrib/devtools/previous_release.sh -f v0.15.1 v0.14.2\n+\n+Due to RPC changes introduced in v0.14 the below tests won't work for older\n+versions without some patches or workarounds.\n+\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    sync_blocks\n+)\n+\n+class DowngradeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 3\n+        self.extra_args = [\n+            [],\n+            [\"-vbparams=segwit:0:0\", \"-vbparams=csv:0:0\"], # v0.15.1\n+            [\"-vbparams=segwit:0:0\", \"-vbparams=csv:0:0\"] # v0.14.2\n+        ]\n+\n+    def setup_nodes(self):\n+        \"\"\"Override this method to customize test node setup\"\"\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r160912739",
      "id" : 160912739,
      "in_reply_to_id" : 160734486,
      "original_commit_id" : "f46bc95f19a27b39d53f8d934590cc68901a34a2",
      "original_position" : 31,
      "path" : "test/functional/backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 88113205,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134",
      "updated_at" : "2018-05-15T12:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160912739",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r160912766"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160912766"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "2c2e6c7cb1ace5296618aced71baeddbf45bf064",
      "created_at" : "2018-01-11T10:16:26Z",
      "diff_hunk" : "@@ -0,0 +1,48 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Downgrade functional test\n+\n+Test various downgrade scenarios. Compile the previous node binaries:\n+\n+contrib/devtools/previous_release.sh -f v0.15.1 v0.14.2\n+\n+Due to RPC changes introduced in v0.14 the below tests won't work for older\n+versions without some patches or workarounds.\n+\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    sync_blocks\n+)\n+\n+class DowngradeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 3\n+        self.extra_args = [\n+            [],\n+            [\"-vbparams=segwit:0:0\", \"-vbparams=csv:0:0\"], # v0.15.1\n+            [\"-vbparams=segwit:0:0\", \"-vbparams=csv:0:0\"] # v0.14.2\n+        ]\n+\n+    def setup_nodes(self):\n+        \"\"\"Override this method to customize test node setup\"\"\"\n+        self.add_nodes(self.num_nodes, self.extra_args, None, None, [",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r160912766",
      "id" : 160912766,
      "in_reply_to_id" : 160734818,
      "original_commit_id" : "f46bc95f19a27b39d53f8d934590cc68901a34a2",
      "original_position" : 32,
      "path" : "test/functional/backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 88113235,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134",
      "updated_at" : "2018-05-15T12:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160912766",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r160912890"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160912890"
         }
      },
      "author_association" : "MEMBER",
      "body" : "- [x] will look into `ccache` behavior.",
      "commit_id" : "2c2e6c7cb1ace5296618aced71baeddbf45bf064",
      "created_at" : "2018-01-11T10:17:02Z",
      "diff_hunk" : "@@ -7,6 +7,7 @@ cache:\n   - depends/built\n   - depends/sdk-sources\n   - $HOME/.ccache\n+  - build/releases",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r160912890",
      "id" : 160912890,
      "in_reply_to_id" : 160730632,
      "original_commit_id" : "f46bc95f19a27b39d53f8d934590cc68901a34a2",
      "original_position" : 4,
      "path" : ".travis.yml",
      "position" : 4,
      "pull_request_review_id" : 88113379,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134",
      "updated_at" : "2018-05-15T12:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160912890",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@MarcoFalke wrote:\r\n> we need to run those tests in the pull request travis run\r\n\r\nThey ran for this PR, so I assume they'll run on every PR once this is merged?",
      "created_at" : "2018-01-11T10:32:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#issuecomment-356893481",
      "id" : 356893481,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12134",
      "updated_at" : "2018-01-11T10:32:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356893481",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r161033992"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161033992"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Forget what I said. It is probably better to cache the resulting binary than the individual obj files, since we are building specific tags that don't change. For master or other branch build, the commits often only change parts of the code, so the other obj files can be cached and re-used. For tag builds everything is static, so caching the binaries works as well.",
      "commit_id" : "2c2e6c7cb1ace5296618aced71baeddbf45bf064",
      "created_at" : "2018-01-11T18:15:50Z",
      "diff_hunk" : "@@ -7,6 +7,7 @@ cache:\n   - depends/built\n   - depends/sdk-sources\n   - $HOME/.ccache\n+  - build/releases",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r161033992",
      "id" : 161033992,
      "in_reply_to_id" : 160730632,
      "original_commit_id" : "f46bc95f19a27b39d53f8d934590cc68901a34a2",
      "original_position" : 4,
      "path" : ".travis.yml",
      "position" : 4,
      "pull_request_review_id" : 88257505,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134",
      "updated_at" : "2018-05-15T12:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161033992",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I found this quite useful in testing the recently merged SegWit wallet changes in WIP #12152.\r\n\r\nI didn't need more changes to the build script and Travis configuration for those tests. On other hand in order to swap wallets in a test I'll need more involved changes to the test framework as well as dynamic loading of wallets. So I'll keep the tests in this PR trivial.\r\n\r\nWith the above caveats, noting this is probably only maintainable for the most recent one or two releases, I think it's ready for review.\r\n\r\nOnce everyone is happy with the code, someone with Travis privileges should trigger a new build with a completely wiped cache (I can also add and drop a commit that uses the `-r` flag to force a rebuild, but that's less rigorous).",
      "created_at" : "2018-01-12T19:12:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#issuecomment-357327816",
      "id" : 357327816,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12134",
      "updated_at" : "2018-01-12T19:12:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357327816",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased. I added support for `v0.16.0` and removed `v0.15.1` and `v0.14.2` since they're no longer compatible with the test framework (can perhaps be patched later).",
      "created_at" : "2018-04-11T15:30:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#issuecomment-380494934",
      "id" : 380494934,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12134",
      "updated_at" : "2018-04-11T15:30:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380494934",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r184885918"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184885918"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Just noting that in case we don't apply local patches to the previous release, we might as well just fetch the gitian result from one of the download sites. That would also save us from having to deal with caching the binaries et al.",
      "commit_id" : "2c2e6c7cb1ace5296618aced71baeddbf45bf064",
      "created_at" : "2018-04-29T15:00:24Z",
      "diff_hunk" : "@@ -62,6 +63,7 @@ before_script:\n     - if [ -z \"$NO_DEPENDS\" ]; then make $MAKEJOBS -C depends HOST=$HOST $DEP_OPTS; fi\n     # Start xvfb if needed, as documented at https://docs.travis-ci.com/user/gui-and-headless-browsers/#Using-xvfb-to-Run-Tests-That-Require-a-GUI\n     - if [ \"$NEED_XVFB\" = 1 ]; then export DISPLAY=:99.0; /sbin/start-stop-daemon --start --pidfile /tmp/custom_xvfb_99.pid --make-pidfile --background --exec /usr/bin/Xvfb -- :99 -ac; fi\n+    - if [ \"$COMPILE_PREVIOUS_VERSIONS\" = \"true\" ]; then contrib/devtools/previous_release.sh -d -f v0.16.0; fi",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r184885918",
      "id" : 184885918,
      "original_commit_id" : "dfd5c57cae4200c69efc1378b71c6e67e5fda79d",
      "original_position" : 21,
      "path" : ".travis.yml",
      "position" : 21,
      "pull_request_review_id" : 116169384,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134",
      "updated_at" : "2018-05-15T12:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184885918",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r184965717"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184965717"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe fetching from a download site could be an optional argument for `previous_release.sh`?",
      "commit_id" : "2c2e6c7cb1ace5296618aced71baeddbf45bf064",
      "created_at" : "2018-04-30T11:49:06Z",
      "diff_hunk" : "@@ -62,6 +63,7 @@ before_script:\n     - if [ -z \"$NO_DEPENDS\" ]; then make $MAKEJOBS -C depends HOST=$HOST $DEP_OPTS; fi\n     # Start xvfb if needed, as documented at https://docs.travis-ci.com/user/gui-and-headless-browsers/#Using-xvfb-to-Run-Tests-That-Require-a-GUI\n     - if [ \"$NEED_XVFB\" = 1 ]; then export DISPLAY=:99.0; /sbin/start-stop-daemon --start --pidfile /tmp/custom_xvfb_99.pid --make-pidfile --background --exec /usr/bin/Xvfb -- :99 -ac; fi\n+    - if [ \"$COMPILE_PREVIOUS_VERSIONS\" = \"true\" ]; then contrib/devtools/previous_release.sh -d -f v0.16.0; fi",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r184965717",
      "id" : 184965717,
      "in_reply_to_id" : 184885918,
      "original_commit_id" : "dfd5c57cae4200c69efc1378b71c6e67e5fda79d",
      "original_position" : 21,
      "path" : ".travis.yml",
      "position" : 21,
      "pull_request_review_id" : 116261850,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134",
      "updated_at" : "2018-05-15T12:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184965717",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r188273083"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/188273083"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm worried that if we go for the binary download approach, the compile from source stuff would no longer be maintained. I could remove that entirely, but then some small future change to the test framework might force us to put it back in. I don't know how likely that is, but caching these files doesn't seem like a huge burden either.",
      "commit_id" : "2c2e6c7cb1ace5296618aced71baeddbf45bf064",
      "created_at" : "2018-05-15T12:48:59Z",
      "diff_hunk" : "@@ -62,6 +63,7 @@ before_script:\n     - if [ -z \"$NO_DEPENDS\" ]; then make $MAKEJOBS -C depends HOST=$HOST $DEP_OPTS; fi\n     # Start xvfb if needed, as documented at https://docs.travis-ci.com/user/gui-and-headless-browsers/#Using-xvfb-to-Run-Tests-That-Require-a-GUI\n     - if [ \"$NEED_XVFB\" = 1 ]; then export DISPLAY=:99.0; /sbin/start-stop-daemon --start --pidfile /tmp/custom_xvfb_99.pid --make-pidfile --background --exec /usr/bin/Xvfb -- :99 -ac; fi\n+    - if [ \"$COMPILE_PREVIOUS_VERSIONS\" = \"true\" ]; then contrib/devtools/previous_release.sh -d -f v0.16.0; fi",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#discussion_r188273083",
      "id" : 188273083,
      "in_reply_to_id" : 184885918,
      "original_commit_id" : "dfd5c57cae4200c69efc1378b71c6e67e5fda79d",
      "original_position" : 21,
      "path" : ".travis.yml",
      "position" : 21,
      "pull_request_review_id" : 120215675,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134",
      "updated_at" : "2018-05-15T12:48:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/188273083",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased due to small conflict in `travis.yml`.",
      "created_at" : "2018-05-15T12:49:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#issuecomment-389154512",
      "id" : 389154512,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12134",
      "updated_at" : "2018-05-15T12:50:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/389154512",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Travis failed after 50 minutes due to a timeout. Preventing that would be an argument in favor of just fetching binaries.",
      "created_at" : "2018-05-23T09:17:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12134#issuecomment-391279543",
      "id" : 391279543,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12134",
      "updated_at" : "2018-05-23T09:17:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/391279543",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
