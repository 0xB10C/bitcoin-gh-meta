[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019745"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019745"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Probably shouldn't set this until *after* the sanity checks...",
      "commit_id" : "71620b3cb3b7fd340e65730865c601b291e57fd4",
      "created_at" : "2018-01-06T07:15:22Z",
      "diff_hunk" : "@@ -2298,6 +2298,14 @@ UniValue walletpassphrase(const JSONRPCRequest& request)\n     // Alternately, find a way to make request.params[0] mlock()'d to begin with.\n     strWalletPass = request.params[0].get_str().c_str();\n \n+    // Get the timeout\n+    int32_t nSleepTime = request.params[1].get_int();\n+    pwallet->nRelockTime = GetTime() + nSleepTime;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019745",
      "id" : 160019745,
      "original_commit_id" : "8600546d1b50cc1cc1d45f7bc29afc14d47ab8f9",
      "original_position" : 6,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 87069623,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101",
      "updated_at" : "2018-01-10T19:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019745",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019755"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019755"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Probably should use `int`, not `int32_t` (they're not guaranteed to be the same)",
      "commit_id" : "71620b3cb3b7fd340e65730865c601b291e57fd4",
      "created_at" : "2018-01-06T07:16:28Z",
      "diff_hunk" : "@@ -2298,6 +2298,14 @@ UniValue walletpassphrase(const JSONRPCRequest& request)\n     // Alternately, find a way to make request.params[0] mlock()'d to begin with.\n     strWalletPass = request.params[0].get_str().c_str();\n \n+    // Get the timeout\n+    int32_t nSleepTime = request.params[1].get_int();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019755",
      "id" : 160019755,
      "original_commit_id" : "8600546d1b50cc1cc1d45f7bc29afc14d47ab8f9",
      "original_position" : 5,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 87069623,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101",
      "updated_at" : "2018-01-10T19:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019755",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019865"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019865"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "71620b3cb3b7fd340e65730865c601b291e57fd4",
      "created_at" : "2018-01-06T07:19:31Z",
      "diff_hunk" : "@@ -2298,6 +2298,14 @@ UniValue walletpassphrase(const JSONRPCRequest& request)\n     // Alternately, find a way to make request.params[0] mlock()'d to begin with.\n     strWalletPass = request.params[0].get_str().c_str();\n \n+    // Get the timeout\n+    int32_t nSleepTime = request.params[1].get_int();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019865",
      "id" : 160019865,
      "in_reply_to_id" : 160019755,
      "original_commit_id" : "8600546d1b50cc1cc1d45f7bc29afc14d47ab8f9",
      "original_position" : 5,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 87069688,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101",
      "updated_at" : "2018-01-10T19:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019865",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019887"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019887"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oops, fixed.",
      "commit_id" : "71620b3cb3b7fd340e65730865c601b291e57fd4",
      "created_at" : "2018-01-06T07:19:37Z",
      "diff_hunk" : "@@ -2298,6 +2298,14 @@ UniValue walletpassphrase(const JSONRPCRequest& request)\n     // Alternately, find a way to make request.params[0] mlock()'d to begin with.\n     strWalletPass = request.params[0].get_str().c_str();\n \n+    // Get the timeout\n+    int32_t nSleepTime = request.params[1].get_int();\n+    pwallet->nRelockTime = GetTime() + nSleepTime;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019887",
      "id" : 160019887,
      "in_reply_to_id" : 160019745,
      "original_commit_id" : "8600546d1b50cc1cc1d45f7bc29afc14d47ab8f9",
      "original_position" : 6,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 87069693,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101",
      "updated_at" : "2018-01-10T19:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019887",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019905"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019905"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Still need to check the passphrase etc first... otherwise we've essentially tricked the wallet into lengthening its unlock time.",
      "commit_id" : "71620b3cb3b7fd340e65730865c601b291e57fd4",
      "created_at" : "2018-01-06T07:21:10Z",
      "diff_hunk" : "@@ -2298,6 +2298,14 @@ UniValue walletpassphrase(const JSONRPCRequest& request)\n     // Alternately, find a way to make request.params[0] mlock()'d to begin with.\n     strWalletPass = request.params[0].get_str().c_str();\n \n+    // Get the timeout\n+    int nSleepTime = request.params[1].get_int();\n+    // Timeout cannot be negative, otherwise it will relock immediately\n+    if (nSleepTime < 0) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Timeout cannot be negative.\");\n+    }\n+    pwallet->nRelockTime = GetTime() + nSleepTime;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019905",
      "id" : 160019905,
      "original_commit_id" : "370f1057661ed5de8efc64eec61813f12e9a1971",
      "original_position" : 10,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 87069716,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101",
      "updated_at" : "2018-01-10T19:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019905",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019931"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019931"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.\r\n\r\n`nRelockTime` isn't actually used for anything except displaying stuff in `getwalletinfo` so this wouldn't actually be a problem.",
      "commit_id" : "71620b3cb3b7fd340e65730865c601b291e57fd4",
      "created_at" : "2018-01-06T07:23:33Z",
      "diff_hunk" : "@@ -2298,6 +2298,14 @@ UniValue walletpassphrase(const JSONRPCRequest& request)\n     // Alternately, find a way to make request.params[0] mlock()'d to begin with.\n     strWalletPass = request.params[0].get_str().c_str();\n \n+    // Get the timeout\n+    int nSleepTime = request.params[1].get_int();\n+    // Timeout cannot be negative, otherwise it will relock immediately\n+    if (nSleepTime < 0) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Timeout cannot be negative.\");\n+    }\n+    pwallet->nRelockTime = GetTime() + nSleepTime;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019931",
      "id" : 160019931,
      "in_reply_to_id" : 160019905,
      "original_commit_id" : "370f1057661ed5de8efc64eec61813f12e9a1971",
      "original_position" : 10,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 87069745,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101",
      "updated_at" : "2018-01-10T19:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019931",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019947"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019947"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Do we want to allow zero?",
      "commit_id" : "71620b3cb3b7fd340e65730865c601b291e57fd4",
      "created_at" : "2018-01-06T07:24:58Z",
      "diff_hunk" : "@@ -2298,6 +2298,13 @@ UniValue walletpassphrase(const JSONRPCRequest& request)\n     // Alternately, find a way to make request.params[0] mlock()'d to begin with.\n     strWalletPass = request.params[0].get_str().c_str();\n \n+    // Get the timeout\n+    int nSleepTime = request.params[1].get_int();\n+    // Timeout cannot be negative, otherwise it will relock immediately\n+    if (nSleepTime < 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019947",
      "id" : 160019947,
      "original_commit_id" : "f94b423f276618a983993773a8b3c9c491d623db",
      "original_position" : 7,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 87069766,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101",
      "updated_at" : "2018-01-10T19:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019947",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019951"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019951"
         }
      },
      "author_association" : "MEMBER",
      "body" : "2147483648 is not guaranteed to be out of range.",
      "commit_id" : "71620b3cb3b7fd340e65730865c601b291e57fd4",
      "created_at" : "2018-01-06T07:25:17Z",
      "diff_hunk" : "@@ -56,6 +56,11 @@ def run_test(self):\n         assert_raises_rpc_error(-14, \"wallet passphrase entered was incorrect\", self.nodes[0].walletpassphrase, passphrase, 10)\n         self.nodes[0].walletpassphrase(passphrase2, 10)\n         assert_equal(privkey, self.nodes[0].dumpprivkey(address))\n+        self.nodes[0].walletlock()\n+\n+        # Test timeout bounds\n+        assert_raises_rpc_error(-8, \"Timeout cannot be negative.\", self.nodes[0].walletpassphrase, passphrase, -10)\n+        assert_raises_rpc_error(-1, \"JSON integer out of range\", self.nodes[0].walletpassphrase, passphrase, 2147483648)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019951",
      "id" : 160019951,
      "original_commit_id" : "f94b423f276618a983993773a8b3c9c491d623db",
      "original_position" : 8,
      "path" : "test/functional/wallet-encryption.py",
      "position" : null,
      "pull_request_review_id" : 87069766,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101",
      "updated_at" : "2018-01-10T19:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019951",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019958"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019958"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Displaying the wrong time is kind of a problem, although maybe not a security one.",
      "commit_id" : "71620b3cb3b7fd340e65730865c601b291e57fd4",
      "created_at" : "2018-01-06T07:26:14Z",
      "diff_hunk" : "@@ -2298,6 +2298,14 @@ UniValue walletpassphrase(const JSONRPCRequest& request)\n     // Alternately, find a way to make request.params[0] mlock()'d to begin with.\n     strWalletPass = request.params[0].get_str().c_str();\n \n+    // Get the timeout\n+    int nSleepTime = request.params[1].get_int();\n+    // Timeout cannot be negative, otherwise it will relock immediately\n+    if (nSleepTime < 0) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Timeout cannot be negative.\");\n+    }\n+    pwallet->nRelockTime = GetTime() + nSleepTime;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019958",
      "id" : 160019958,
      "in_reply_to_id" : 160019905,
      "original_commit_id" : "370f1057661ed5de8efc64eec61813f12e9a1971",
      "original_position" : 10,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 87069778,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101",
      "updated_at" : "2018-01-10T19:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019958",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019984"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019984"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What would be the point of allowing 0?",
      "commit_id" : "71620b3cb3b7fd340e65730865c601b291e57fd4",
      "created_at" : "2018-01-06T07:27:25Z",
      "diff_hunk" : "@@ -2298,6 +2298,13 @@ UniValue walletpassphrase(const JSONRPCRequest& request)\n     // Alternately, find a way to make request.params[0] mlock()'d to begin with.\n     strWalletPass = request.params[0].get_str().c_str();\n \n+    // Get the timeout\n+    int nSleepTime = request.params[1].get_int();\n+    // Timeout cannot be negative, otherwise it will relock immediately\n+    if (nSleepTime < 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019984",
      "id" : 160019984,
      "in_reply_to_id" : 160019947,
      "original_commit_id" : "f94b423f276618a983993773a8b3c9c491d623db",
      "original_position" : 7,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 87069811,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101",
      "updated_at" : "2018-01-10T19:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019984",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019991"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019991"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Perhaps to just test if the passphrase is correct. (You're *currently* allowing zero here.)",
      "commit_id" : "71620b3cb3b7fd340e65730865c601b291e57fd4",
      "created_at" : "2018-01-06T07:28:18Z",
      "diff_hunk" : "@@ -2298,6 +2298,13 @@ UniValue walletpassphrase(const JSONRPCRequest& request)\n     // Alternately, find a way to make request.params[0] mlock()'d to begin with.\n     strWalletPass = request.params[0].get_str().c_str();\n \n+    // Get the timeout\n+    int nSleepTime = request.params[1].get_int();\n+    // Timeout cannot be negative, otherwise it will relock immediately\n+    if (nSleepTime < 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160019991",
      "id" : 160019991,
      "in_reply_to_id" : 160019947,
      "original_commit_id" : "f94b423f276618a983993773a8b3c9c491d623db",
      "original_position" : 7,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 87069817,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101",
      "updated_at" : "2018-01-10T19:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160019991",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160020062"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160020062"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> (You're currently allowing zero here.)\r\n\r\nRight.\r\n\r\nIt doesn't matter either way IMO.",
      "commit_id" : "71620b3cb3b7fd340e65730865c601b291e57fd4",
      "created_at" : "2018-01-06T07:32:05Z",
      "diff_hunk" : "@@ -2298,6 +2298,13 @@ UniValue walletpassphrase(const JSONRPCRequest& request)\n     // Alternately, find a way to make request.params[0] mlock()'d to begin with.\n     strWalletPass = request.params[0].get_str().c_str();\n \n+    // Get the timeout\n+    int nSleepTime = request.params[1].get_int();\n+    // Timeout cannot be negative, otherwise it will relock immediately\n+    if (nSleepTime < 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160020062",
      "id" : 160020062,
      "in_reply_to_id" : 160019947,
      "original_commit_id" : "f94b423f276618a983993773a8b3c9c491d623db",
      "original_position" : 7,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 87069888,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101",
      "updated_at" : "2018-01-10T19:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160020062",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160020102"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160020102"
         }
      },
      "author_association" : "MEMBER",
      "body" : "How can you guarantee that a number will be out of range?",
      "commit_id" : "71620b3cb3b7fd340e65730865c601b291e57fd4",
      "created_at" : "2018-01-06T07:34:54Z",
      "diff_hunk" : "@@ -56,6 +56,11 @@ def run_test(self):\n         assert_raises_rpc_error(-14, \"wallet passphrase entered was incorrect\", self.nodes[0].walletpassphrase, passphrase, 10)\n         self.nodes[0].walletpassphrase(passphrase2, 10)\n         assert_equal(privkey, self.nodes[0].dumpprivkey(address))\n+        self.nodes[0].walletlock()\n+\n+        # Test timeout bounds\n+        assert_raises_rpc_error(-8, \"Timeout cannot be negative.\", self.nodes[0].walletpassphrase, passphrase, -10)\n+        assert_raises_rpc_error(-1, \"JSON integer out of range\", self.nodes[0].walletpassphrase, passphrase, 2147483648)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160020102",
      "id" : 160020102,
      "in_reply_to_id" : 160019951,
      "original_commit_id" : "f94b423f276618a983993773a8b3c9c491d623db",
      "original_position" : 8,
      "path" : "test/functional/wallet-encryption.py",
      "position" : null,
      "pull_request_review_id" : 87069930,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101",
      "updated_at" : "2018-01-10T19:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160020102",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "I'd feel more comfortable using int64, but add a clamp (if value is over 100 years, set it to 100 years or so).",
      "created_at" : "2018-01-06T10:34:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#issuecomment-355738288",
      "id" : 355738288,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12101",
      "updated_at" : "2018-01-06T10:34:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355738288",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160036843"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160036843"
         }
      },
      "author_association" : "NONE",
      "body" : "Why don't you add test for 2147483647? It should work correctly for this value but we don't test it today.\r\nOn the other hand waiting for timeout could be too long :) It should just accept the value.\r\n  ",
      "commit_id" : "71620b3cb3b7fd340e65730865c601b291e57fd4",
      "created_at" : "2018-01-06T22:55:58Z",
      "diff_hunk" : "@@ -56,6 +56,11 @@ def run_test(self):\n         assert_raises_rpc_error(-14, \"wallet passphrase entered was incorrect\", self.nodes[0].walletpassphrase, passphrase, 10)\n         self.nodes[0].walletpassphrase(passphrase2, 10)\n         assert_equal(privkey, self.nodes[0].dumpprivkey(address))\n+        self.nodes[0].walletlock()\n+\n+        # Test timeout bounds\n+        assert_raises_rpc_error(-8, \"Timeout cannot be negative.\", self.nodes[0].walletpassphrase, passphrase, -10)\n+        assert_raises_rpc_error(-1, \"JSON integer out of range\", self.nodes[0].walletpassphrase, passphrase, 2147483648)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160036843",
      "id" : 160036843,
      "in_reply_to_id" : 160019951,
      "original_commit_id" : "f94b423f276618a983993773a8b3c9c491d623db",
      "original_position" : 8,
      "path" : "test/functional/wallet-encryption.py",
      "position" : null,
      "pull_request_review_id" : 87086386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101",
      "updated_at" : "2018-01-10T19:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160036843",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/35047517?v=4",
         "events_url" : "https://api.github.com/users/bolekC/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bolekC/followers",
         "following_url" : "https://api.github.com/users/bolekC/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bolekC/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bolekC",
         "id" : 35047517,
         "login" : "bolekC",
         "organizations_url" : "https://api.github.com/users/bolekC/orgs",
         "received_events_url" : "https://api.github.com/users/bolekC/received_events",
         "repos_url" : "https://api.github.com/users/bolekC/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bolekC/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bolekC/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bolekC"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160036933"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160036933"
         }
      },
      "author_association" : "NONE",
      "body" : "Accepting 2147483647 (years long timeout) does not make too much sense in the time of Meltdown and Spectre vulnerabilities.\r\nAnyway having timeout on the level of single days can be too long for these type of attacks. ",
      "commit_id" : "71620b3cb3b7fd340e65730865c601b291e57fd4",
      "created_at" : "2018-01-06T23:01:17Z",
      "diff_hunk" : "@@ -2298,6 +2298,13 @@ UniValue walletpassphrase(const JSONRPCRequest& request)\n     // Alternately, find a way to make request.params[0] mlock()'d to begin with.\n     strWalletPass = request.params[0].get_str().c_str();\n \n+    // Get the timeout\n+    int nSleepTime = request.params[1].get_int();\n+    // Timeout cannot be negative, otherwise it will relock immediately\n+    if (nSleepTime < 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160036933",
      "id" : 160036933,
      "in_reply_to_id" : 160019947,
      "original_commit_id" : "f94b423f276618a983993773a8b3c9c491d623db",
      "original_position" : 7,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 87086386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101",
      "updated_at" : "2018-01-10T19:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160036933",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/35047517?v=4",
         "events_url" : "https://api.github.com/users/bolekC/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bolekC/followers",
         "following_url" : "https://api.github.com/users/bolekC/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bolekC/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bolekC",
         "id" : 35047517,
         "login" : "bolekC",
         "organizations_url" : "https://api.github.com/users/bolekC/orgs",
         "received_events_url" : "https://api.github.com/users/bolekC/received_events",
         "repos_url" : "https://api.github.com/users/bolekC/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bolekC/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bolekC/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bolekC"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Giving big number does not make sense.\r\n\r\nYes it does.  A common and recommended configuration on a system with an online wallet which would otherwise not be encrypted is to encrypt and then manually unlock any time the system is restarted.  If we did not allow a setting which was effectively 'until restart' these systems would simply not use encryption.\r\n\r\nThis configuration saved localbitcoins loss of almost all their funds after a datacenter operator was social engineered, just as a single example. -- Facilities social engineering has historically been one of the most common compromise vectors, and it almost always results in a system reboot.\r\n\r\n> If it is intended to allow days then the timeout should be specified in \"days\" and not \"seconds\".\r\n\r\nDifferent applications have different scales.  More ordinary CLI user usage typical timeouts are just a few seconds or a few minutes.\r\n\r\n> What would be the point of allowing 0?\r\n\r\nTo trigger a keypool topup. (though I didn't look to see if that would be guaranteed to work, but we should make it do so by performing the topup on unlock while still holding the lock)\r\n\r\n> I'd feel more comfortable using int64, but add a clamp (if value is over 100 years, set it to 100 years or so).\r\n\r\nThat sounds fine, in particular we don't want people who have been happily using 999999999 to find it suddenly returning an error.\r\n  ",
      "created_at" : "2018-01-08T10:51:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#issuecomment-355934970",
      "id" : 355934970,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12101",
      "updated_at" : "2018-01-08T10:52:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355934970",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I have changed this to clamp at 2^31 seconds so the wallet will lock for up to 2^31 seconds which is approximately 68 years. This number was chosen because the `time_t` type that is used for the timer can be a 32 bit signed integer on some systems so this will avoid sign flipping with such systems.",
      "created_at" : "2018-01-08T16:10:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#issuecomment-356011213",
      "id" : 356011213,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12101",
      "updated_at" : "2018-01-08T16:10:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356011213",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160240189"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160240189"
         }
      },
      "author_association" : "NONE",
      "body" : "What was the root cause of  the behaviour described in #12100?\r\nIs it not this line that is causing this strange behaviour?",
      "commit_id" : "09fbbfaccaef0c521e077b349a3422065b493c16",
      "created_at" : "2018-01-08T19:55:08Z",
      "diff_hunk" : "@@ -2298,6 +2298,17 @@ UniValue walletpassphrase(const JSONRPCRequest& request)\n     // Alternately, find a way to make request.params[0] mlock()'d to begin with.\n     strWalletPass = request.params[0].get_str().c_str();\n \n+    // Get the timeout\n+    int64_t nSleepTime = request.params[1].get_int64();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160240189",
      "id" : 160240189,
      "original_commit_id" : "09fbbfaccaef0c521e077b349a3422065b493c16",
      "original_position" : 5,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 5,
      "pull_request_review_id" : 87321031,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101",
      "updated_at" : "2018-01-08T19:55:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160240189",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/35047517?v=4",
         "events_url" : "https://api.github.com/users/bolekC/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bolekC/followers",
         "following_url" : "https://api.github.com/users/bolekC/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bolekC/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bolekC",
         "id" : 35047517,
         "login" : "bolekC",
         "organizations_url" : "https://api.github.com/users/bolekC/orgs",
         "received_events_url" : "https://api.github.com/users/bolekC/received_events",
         "repos_url" : "https://api.github.com/users/bolekC/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bolekC/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bolekC/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bolekC"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I don't know why travis is failing.",
      "created_at" : "2018-01-08T20:00:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#issuecomment-356079074",
      "id" : 356079074,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12101",
      "updated_at" : "2018-01-08T20:00:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356079074",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Maybe add a limit to \"help\" printout? \r\n2272:`            \"2. timeout            (numeric, required) The time to keep the decryption key in seconds.\\n\"`\r\n",
      "created_at" : "2018-01-08T21:35:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#issuecomment-356104054",
      "id" : 356104054,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12101",
      "updated_at" : "2018-01-08T21:35:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356104054",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/35047517?v=4",
         "events_url" : "https://api.github.com/users/bolekC/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bolekC/followers",
         "following_url" : "https://api.github.com/users/bolekC/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bolekC/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bolekC",
         "id" : 35047517,
         "login" : "bolekC",
         "organizations_url" : "https://api.github.com/users/bolekC/orgs",
         "received_events_url" : "https://api.github.com/users/bolekC/received_events",
         "repos_url" : "https://api.github.com/users/bolekC/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bolekC/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bolekC/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bolekC"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "It looks like Travis test fails on 32bit architecture. There is something wrong as you get a lot of messages like:\r\n`JSONRPCException: Error: Please enter the wallet passphrase with walletpassphrase first.`\r\nI don't know yet why you get it yet.\r\n\r\nAlso you can see that in the log printout there is a wrong value:\r\n`node1 2018-01-08 18:52:07.849526 queue run of timer lockwallet(wallet.dat) in -2147483648 seconds (using HTTP) `\r\nThe number is -2147483648 is 1L<<31 on 32bit architecture.\r\nThis faulty printout is probably caused by LogPrint string formatting in RPCRunLater:\r\n`LogPrint(BCLog::RPC, \"queue run of timer %s in %i seconds (using %s)\\n\", name, nSeconds, timerInterface->Name());`\r\n",
      "created_at" : "2018-01-09T21:14:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#issuecomment-356415999",
      "id" : 356415999,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12101",
      "updated_at" : "2018-01-09T21:14:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356415999",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/35047517?v=4",
         "events_url" : "https://api.github.com/users/bolekC/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bolekC/followers",
         "following_url" : "https://api.github.com/users/bolekC/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bolekC/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bolekC",
         "id" : 35047517,
         "login" : "bolekC",
         "organizations_url" : "https://api.github.com/users/bolekC/orgs",
         "received_events_url" : "https://api.github.com/users/bolekC/received_events",
         "repos_url" : "https://api.github.com/users/bolekC/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bolekC/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bolekC/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bolekC"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@bolekC Added some info about the limit to the help output.\r\n\r\nI think I fixed the travis error. It has to do with the type of the value being shifted. The log output is correct.",
      "created_at" : "2018-01-10T19:21:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#issuecomment-356708053",
      "id" : 356708053,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12101",
      "updated_at" : "2018-01-10T19:21:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356708053",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160779697"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160779697"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: Python allows [chained comparisons](https://docs.python.org/3/reference/expressions.html#comparisons): `expected_time <= actual_time < expected_time + 5`",
      "commit_id" : "71620b3cb3b7fd340e65730865c601b291e57fd4",
      "created_at" : "2018-01-10T19:43:52Z",
      "diff_hunk" : "@@ -56,6 +56,21 @@ def run_test(self):\n         assert_raises_rpc_error(-14, \"wallet passphrase entered was incorrect\", self.nodes[0].walletpassphrase, passphrase, 10)\n         self.nodes[0].walletpassphrase(passphrase2, 10)\n         assert_equal(privkey, self.nodes[0].dumpprivkey(address))\n+        self.nodes[0].walletlock()\n+\n+        # Test timeout bounds\n+        assert_raises_rpc_error(-8, \"Timeout cannot be negative.\", self.nodes[0].walletpassphrase, passphrase2, -10)\n+        # Check the timeout\n+        # Check a time less than the limit\n+        expected_time = int(time.time()) + (1 << 31) - 600\n+        self.nodes[0].walletpassphrase(passphrase2, (1 << 31) - 600)\n+        actual_time = self.nodes[0].getwalletinfo()['unlocked_until']\n+        assert actual_time < expected_time + 5 and actual_time >= expected_time # 5 second buffer",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12101#discussion_r160779697",
      "id" : 160779697,
      "original_commit_id" : "71620b3cb3b7fd340e65730865c601b291e57fd4",
      "original_position" : 13,
      "path" : "test/functional/wallet-encryption.py",
      "position" : 13,
      "pull_request_review_id" : 87957333,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12101",
      "updated_at" : "2018-01-10T19:43:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160779697",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/881253?v=4",
         "events_url" : "https://api.github.com/users/jimpo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimpo/followers",
         "following_url" : "https://api.github.com/users/jimpo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimpo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimpo",
         "id" : 881253,
         "login" : "jimpo",
         "organizations_url" : "https://api.github.com/users/jimpo/orgs",
         "received_events_url" : "https://api.github.com/users/jimpo/received_events",
         "repos_url" : "https://api.github.com/users/jimpo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimpo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimpo"
      }
   }
]
