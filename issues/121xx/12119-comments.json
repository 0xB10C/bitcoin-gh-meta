[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Does it forces bech32 addresses in the wallet without consent?\r\n\r\n\r\n",
      "created_at" : "2018-01-08T23:44:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-356132774",
      "id" : 356132774,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-08T23:44:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356132774",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@promag for change addresses yes, so that could be an objection.\r\n\r\nMore conservative approaches could be:\r\n1) have another UI check box to send change to a bech32 address; this could be checked by default if all destinations are bech32. This won't work for RPC users, but those can be expected to use the `-changeaddress` flag.\r\n\r\n2) add an additional constraint that at least one of the the from addresses is bech32.",
      "created_at" : "2018-01-09T10:05:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-356238217",
      "id" : 356238217,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-09T10:05:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356238217",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Creating a change output AFAIK does not add any address to the wallet.",
      "created_at" : "2018-01-09T10:07:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-356238760",
      "id" : 356238760,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-09T10:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356238760",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@sipa they are listed in `listunspent` right?",
      "created_at" : "2018-01-09T10:09:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-356239182",
      "id" : 356239182,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-09T10:09:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356239182",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@Sjors IMO the `-changetype` is enough, eventually it will default to bech32 I guess.",
      "created_at" : "2018-01-09T10:11:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-356239905",
      "id" : 356239905,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-09T10:11:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356239905",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "General concept ACK-- but I would suggest that it only do this if the change type is at least p2sh segwit:  There might be some compatibility reason that someone is avoiding creating segwit outputs for some reason.  That doesn't hold if they're already asking for p2sh output...  privacy was the major reason the sw wallet support didn't go 100% native change from the start... but that is even more an argument for this.  In fact, I think it's an argument that we should use native change if any (or no more strict than 'most') outputs are native and not just require all.",
      "created_at" : "2018-01-11T07:08:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-356845504",
      "id" : 356845504,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-11T07:08:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356845504",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@gmaxwell it now uses a bech32 change address if change type is p2sh-segwit and any of the outputs are bech32.",
      "created_at" : "2018-01-11T09:45:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-356881113",
      "id" : 356881113,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-11T09:45:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356881113",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Seems to me if the user is explicitly setting a change type, we should respect that.\r\n\r\nInstead, I suggest turning OUTPUT_TYPE_DEFAULT into a real value, and handling it specially for change here. Eg, https://github.com/luke-jr/bitcoin/commits/bech32-change",
      "created_at" : "2018-01-11T10:25:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-356891888",
      "id" : 356891888,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-11T10:25:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356891888",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@luke-jr I like the idea of having OUTPUT_TYPE_DEFAULT so we can distinguish between `-changetype` being absent or set to `p2sh-segwit`. Can you make d4e51351 a PR that I can rebase this on? ",
      "created_at" : "2018-01-11T10:41:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-356895800",
      "id" : 356895800,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-11T10:41:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356895800",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It seems a bit pointless to stand on its own in a PR. It would be better to just include it as a separate commit here (and in another PR I'm about to open).\r\n\r\nTo get it in your own branch as-is, switch to it and do:\r\n```\r\ngit fetch git://github.com/luke-jr/bitcoin bech32-change && git reset --hard 5efd54745c34ff329d9c75f2f5ee852930b21231\r\n```",
      "created_at" : "2018-01-11T10:43:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-356896373",
      "id" : 356896373,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-11T10:43:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356896373",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@luke-jr I'll wait a little bit to see if your commit needs more changes.\r\n\r\nI do think it's worth it's own PR, but applied to all launch flags where absence or presence can cause ambiguity about user intention. I've run into this general problem several times now, e.g. with #9527. ",
      "created_at" : "2018-01-11T12:05:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-356915438",
      "id" : 356915438,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-11T12:05:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/356915438",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r160982806"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160982806"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Wrong indentation. Also `any_destination_bech32`?",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-11T15:02:19Z",
      "diff_hunk" : "@@ -2661,6 +2662,14 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n \n         if (recipient.fSubtractFeeFromAmount)\n             nSubtractFeeFromAmount++;\n+\n+        // Check if the destination doesn't contain a witness program, in which\n+        // case the addresstype for this destination is not bech32:\n+        int witnessversion = 0;\n+        std::vector<unsigned char> witnessprogram;\n+        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {\n+          anyDestinationBech32 = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r160982806",
      "id" : 160982806,
      "original_commit_id" : "c3bc3f6a19f77ac39ccd95190932b4317febf8c2",
      "original_position" : 18,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 88195958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160982806",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r160982870"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160982870"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Wrong indentation.",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-11T15:02:31Z",
      "diff_hunk" : "@@ -2739,8 +2748,15 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n                     return false;\n                 }\n \n-                LearnRelatedScripts(vchPubKey, g_change_type);\n-                scriptChange = GetScriptForDestination(GetDestinationForKey(vchPubKey, g_change_type));\n+                // If g_change_type is p2sh_segwit, use bech32 for the change\n+                // address if any destination is bech32.\n+                OutputType change_type = g_change_type;\n+                if (g_change_type == OUTPUT_TYPE_P2SH_SEGWIT && anyDestinationBech32) {\n+                  change_type = OUTPUT_TYPE_BECH32;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r160982870",
      "id" : 160982870,
      "original_commit_id" : "c3bc3f6a19f77ac39ccd95190932b4317febf8c2",
      "original_position" : 33,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 88195958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160982870",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161038291"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161038291"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Will fix indentation and check variable name, thanks.",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-11T18:32:29Z",
      "diff_hunk" : "@@ -2661,6 +2662,14 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n \n         if (recipient.fSubtractFeeFromAmount)\n             nSubtractFeeFromAmount++;\n+\n+        // Check if the destination doesn't contain a witness program, in which\n+        // case the addresstype for this destination is not bech32:\n+        int witnessversion = 0;\n+        std::vector<unsigned char> witnessprogram;\n+        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {\n+          anyDestinationBech32 = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161038291",
      "id" : 161038291,
      "in_reply_to_id" : 160982806,
      "original_commit_id" : "c3bc3f6a19f77ac39ccd95190932b4317febf8c2",
      "original_position" : 18,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 88262479,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161038291",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : ">  Should check inputs instead?\r\n\r\nOr even check if any input or any output is bech32?",
      "created_at" : "2018-01-11T18:34:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-357019868",
      "id" : 357019868,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-11T18:34:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357019868",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "agreed with @TheBlueMatt just check if it's set",
      "created_at" : "2018-01-11T19:06:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-357028850",
      "id" : 357028850,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-11T19:06:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357028850",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I can't reproduce this Travis failure on MacOS or Ubuntu 14.04 (I didn't use the depends system).",
      "created_at" : "2018-01-11T19:23:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-357033789",
      "id" : 357033789,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-11T19:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357033789",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It seemed like people in the IRC meeting liked:  \"If the configured change type is not legacy, use p2wpkh if any of the outputs are p2wpkh\".",
      "created_at" : "2018-01-11T20:35:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-357053281",
      "id" : 357053281,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-11T23:15:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357053281",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@gmaxwell by \"legacy\" you mean `p2sh-segwit`? `-changetype=legacy` means p2pkh (in which case we also don't want to use bech32). Maybe we should also rename that `legacy` option, because the term seems overloaded.",
      "created_at" : "2018-01-11T20:49:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-357056748",
      "id" : 357056748,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-11T20:49:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357056748",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "By legacy I mean p2pkh. We should not create native segwit change if the user has specifically asked for non-segwit change.  If a user is setting legacy then it's likely that they really don't want segwit outputs for some reason (for example, compatibility with older software).\r\n\r\nThat argument doesn't apply for p2sh-segwit. The only reason to ever use p2sh-segwit change is for change distinguishability privacy, which, as you note-- doesn't apply when there are segwit outputs.",
      "created_at" : "2018-01-11T23:14:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-357092710",
      "id" : 357092710,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-11T23:14:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357092710",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "As a pedantic aside, it's a mistake to say \"bech32\" -- there is no address involved with change, so no bech32 involved here at all.  The question here is to use p2sh-p2wpkh or p2wpkh, which would exist no less even if bech32 had never been specified.",
      "created_at" : "2018-01-11T23:16:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-357093139",
      "id" : 357093139,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-11T23:16:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357093139",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2018-01-12T02:43:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-357127353",
      "id" : 357127353,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-12T02:43:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357127353",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@gmaxwell I know there's no spoon, but block explorers will display a spoon :-)",
      "created_at" : "2018-01-12T12:04:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-357221725",
      "id" : 357221725,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-12T12:04:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357221725",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161257090"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161257090"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed.",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-12T15:53:13Z",
      "diff_hunk" : "@@ -2661,6 +2662,14 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n \n         if (recipient.fSubtractFeeFromAmount)\n             nSubtractFeeFromAmount++;\n+\n+        // Check if the destination doesn't contain a witness program, in which\n+        // case the addresstype for this destination is not bech32:\n+        int witnessversion = 0;\n+        std::vector<unsigned char> witnessprogram;\n+        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {\n+          anyDestinationBech32 = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161257090",
      "id" : 161257090,
      "in_reply_to_id" : 160982806,
      "original_commit_id" : "c3bc3f6a19f77ac39ccd95190932b4317febf8c2",
      "original_position" : 18,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 88520049,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161257090",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161261687"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161261687"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should probably check/track witness version here? It shouldn't be >0 unless we update, but probably more future-safe.",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-12T16:10:21Z",
      "diff_hunk" : "@@ -2661,6 +2662,13 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n \n         if (recipient.fSubtractFeeFromAmount)\n             nSubtractFeeFromAmount++;\n+\n+        // Check if any destination contains a witness program:\n+        int witnessversion = 0;\n+        std::vector<unsigned char> witnessprogram;\n+        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161261687",
      "id" : 161261687,
      "original_commit_id" : "6349a3005375066de984c1f359fb166fa1c82fad",
      "original_position" : 16,
      "path" : "src/wallet/wallet.cpp",
      "position" : 16,
      "pull_request_review_id" : 88525644,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161261687",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161262071"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161262071"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`and any destination is (P2SH-)P2WPKH,` I don't think this is correct? should just be `P2WPKH`",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-12T16:11:56Z",
      "diff_hunk" : "@@ -2739,8 +2747,16 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n                     return false;\n                 }\n \n-                LearnRelatedScripts(vchPubKey, g_change_type);\n-                scriptChange = GetScriptForDestination(GetDestinationForKey(vchPubKey, g_change_type));\n+                // If -changetype is not specified and g_address_type is not legacy,\n+                // and any destination is (P2SH-)P2WPKH, use P2WPKH for the change ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161262071",
      "id" : 161262071,
      "original_commit_id" : "6349a3005375066de984c1f359fb166fa1c82fad",
      "original_position" : 29,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 88525644,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161262071",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "If this is merged, I think it ought to be paired with #12146.  It's a good, off-by-default option to have available for strange edge cases that want to run the latest full node software but have what would otherwise be an infuriating need to remain compatible with legacy systems.\r\n\r\nJust my 2 bits.",
      "created_at" : "2018-01-12T16:19:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-357283449",
      "id" : 357283449,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-12T16:19:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357283449",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/4107993?v=4",
         "events_url" : "https://api.github.com/users/sneurlax/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sneurlax/followers",
         "following_url" : "https://api.github.com/users/sneurlax/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sneurlax/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sneurlax",
         "id" : 4107993,
         "login" : "sneurlax",
         "organizations_url" : "https://api.github.com/users/sneurlax/orgs",
         "received_events_url" : "https://api.github.com/users/sneurlax/received_events",
         "repos_url" : "https://api.github.com/users/sneurlax/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sneurlax/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sneurlax/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sneurlax"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This should be ready for review, pending Travis' blessing.\r\n\r\n@sneurlax there's no need for that. Those who would use #12146 would also launch with `-addresstype=legacy`, which prevents the behavior this PR adds.",
      "created_at" : "2018-01-12T16:23:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-357284596",
      "id" : 357284596,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-12T16:23:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357284596",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I must still misunderstand their relation, then.  Sorry for piping up.\r\n\r\nDoes `-changetype=bech32` also prevent the behavior this PR adds?",
      "created_at" : "2018-01-12T16:34:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-357287565",
      "id" : 357287565,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-12T16:34:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357287565",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/4107993?v=4",
         "events_url" : "https://api.github.com/users/sneurlax/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sneurlax/followers",
         "following_url" : "https://api.github.com/users/sneurlax/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sneurlax/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sneurlax",
         "id" : 4107993,
         "login" : "sneurlax",
         "organizations_url" : "https://api.github.com/users/sneurlax/orgs",
         "received_events_url" : "https://api.github.com/users/sneurlax/received_events",
         "repos_url" : "https://api.github.com/users/sneurlax/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sneurlax/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sneurlax/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sneurlax"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161269039"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161269039"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't see why this is the case. No payment here is native segwit?",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-12T16:38:57Z",
      "diff_hunk" : "@@ -195,5 +225,40 @@ def run_test(self):\n                 to_node %= 4\n                 assert_equal(new_balances[to_node], old_balances[to_node] + to_send * 10 * (2 + n))\n \n+        # Get one p2sh/segwit address from node2 and two bech32 addresses from node3:\n+        to_address_p2sh = self.nodes[2].getnewaddress()\n+        to_address_bech32_1 = self.nodes[3].getnewaddress()\n+        to_address_bech32_2 = self.nodes[3].getnewaddress()\n+\n+        # Fund node 4:\n+        self.nodes[5].sendtoaddress(self.nodes[4].getnewaddress(), Decimal(\"1\"))\n+        self.nodes[5].generate(1)\n+        sync_blocks(self.nodes)\n+\n+        assert_equal(self.nodes[4].getbalance(), 1)\n+\n+        self.log.debug(\"Nodes with change_type=bech32 always use a P2WPKH change output:\")\n+        self.test_change_output_type(2, [to_address_bech32_1], 'bech32')\n+        self.test_change_output_type(2, [to_address_p2sh], 'bech32')\n+\n+        self.log.debug(\"Nodes with addresstype=bech32 always use a P2WPKH change output:\")\n+        self.test_change_output_type(3, [to_address_bech32_1], 'bech32')\n+        self.test_change_output_type(3, [to_address_p2sh], 'bech32')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161269039",
      "id" : 161269039,
      "original_commit_id" : "6349a3005375066de984c1f359fb166fa1c82fad",
      "original_position" : 102,
      "path" : "test/functional/address_types.py",
      "position" : null,
      "pull_request_review_id" : 88525644,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161269039",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "concept ACK",
      "created_at" : "2018-01-12T16:43:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-357290095",
      "id" : 357290095,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-12T16:43:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357290095",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@sneurlax yes. If you set `-changetype` it will honor that. Only if you don't set `-changetype` and you don't set `-addresstype=legacy` it will use the following rule: use a native segwit change output* if any destination is a native segwit address.",
      "created_at" : "2018-01-12T16:59:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-357294802",
      "id" : 357294802,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-12T16:59:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357294802",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161298191"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161298191"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Would new witness versions require different change address behavior?",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-12T18:48:55Z",
      "diff_hunk" : "@@ -2661,6 +2662,13 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n \n         if (recipient.fSubtractFeeFromAmount)\n             nSubtractFeeFromAmount++;\n+\n+        // Check if any destination contains a witness program:\n+        int witnessversion = 0;\n+        std::vector<unsigned char> witnessprogram;\n+        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161298191",
      "id" : 161298191,
      "in_reply_to_id" : 161261687,
      "original_commit_id" : "6349a3005375066de984c1f359fb166fa1c82fad",
      "original_position" : 16,
      "path" : "src/wallet/wallet.cpp",
      "position" : 16,
      "pull_request_review_id" : 88569986,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161298191",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161299063"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161299063"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`addresstype` implicitly sets `changetype`:\r\n\r\n`g_change_type = ParseOutputType(gArgs.GetArg(\"-changetype\", \"\"), g_address_type)`\r\n\r\nIf the user overrides `changetype` it will use that, so I could change the word \"always\" in the comment to reflect that better.",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-12T18:53:03Z",
      "diff_hunk" : "@@ -195,5 +225,40 @@ def run_test(self):\n                 to_node %= 4\n                 assert_equal(new_balances[to_node], old_balances[to_node] + to_send * 10 * (2 + n))\n \n+        # Get one p2sh/segwit address from node2 and two bech32 addresses from node3:\n+        to_address_p2sh = self.nodes[2].getnewaddress()\n+        to_address_bech32_1 = self.nodes[3].getnewaddress()\n+        to_address_bech32_2 = self.nodes[3].getnewaddress()\n+\n+        # Fund node 4:\n+        self.nodes[5].sendtoaddress(self.nodes[4].getnewaddress(), Decimal(\"1\"))\n+        self.nodes[5].generate(1)\n+        sync_blocks(self.nodes)\n+\n+        assert_equal(self.nodes[4].getbalance(), 1)\n+\n+        self.log.debug(\"Nodes with change_type=bech32 always use a P2WPKH change output:\")\n+        self.test_change_output_type(2, [to_address_bech32_1], 'bech32')\n+        self.test_change_output_type(2, [to_address_p2sh], 'bech32')\n+\n+        self.log.debug(\"Nodes with addresstype=bech32 always use a P2WPKH change output:\")\n+        self.test_change_output_type(3, [to_address_bech32_1], 'bech32')\n+        self.test_change_output_type(3, [to_address_p2sh], 'bech32')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161299063",
      "id" : 161299063,
      "in_reply_to_id" : 161269039,
      "original_commit_id" : "6349a3005375066de984c1f359fb166fa1c82fad",
      "original_position" : 102,
      "path" : "test/functional/address_types.py",
      "position" : null,
      "pull_request_review_id" : 88571058,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161299063",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161305747"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161305747"
         }
      },
      "author_association" : "MEMBER",
      "body" : "riiiiiiiiiiight. Could you just write that? I actually forgot this and I've reviewed all the PRs so far :(",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-12T19:24:54Z",
      "diff_hunk" : "@@ -195,5 +225,40 @@ def run_test(self):\n                 to_node %= 4\n                 assert_equal(new_balances[to_node], old_balances[to_node] + to_send * 10 * (2 + n))\n \n+        # Get one p2sh/segwit address from node2 and two bech32 addresses from node3:\n+        to_address_p2sh = self.nodes[2].getnewaddress()\n+        to_address_bech32_1 = self.nodes[3].getnewaddress()\n+        to_address_bech32_2 = self.nodes[3].getnewaddress()\n+\n+        # Fund node 4:\n+        self.nodes[5].sendtoaddress(self.nodes[4].getnewaddress(), Decimal(\"1\"))\n+        self.nodes[5].generate(1)\n+        sync_blocks(self.nodes)\n+\n+        assert_equal(self.nodes[4].getbalance(), 1)\n+\n+        self.log.debug(\"Nodes with change_type=bech32 always use a P2WPKH change output:\")\n+        self.test_change_output_type(2, [to_address_bech32_1], 'bech32')\n+        self.test_change_output_type(2, [to_address_p2sh], 'bech32')\n+\n+        self.log.debug(\"Nodes with addresstype=bech32 always use a P2WPKH change output:\")\n+        self.test_change_output_type(3, [to_address_bech32_1], 'bech32')\n+        self.test_change_output_type(3, [to_address_p2sh], 'bech32')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161305747",
      "id" : 161305747,
      "in_reply_to_id" : 161269039,
      "original_commit_id" : "6349a3005375066de984c1f359fb166fa1c82fad",
      "original_position" : 102,
      "path" : "test/functional/address_types.py",
      "position" : null,
      "pull_request_review_id" : 88579155,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161305747",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161306395"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161306395"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Let's say you send to a v1, you wouldn't want to accidentally make a v0 to \"copy\" it. Perhaps more appropriate for an assert here.",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-12T19:27:54Z",
      "diff_hunk" : "@@ -2661,6 +2662,13 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n \n         if (recipient.fSubtractFeeFromAmount)\n             nSubtractFeeFromAmount++;\n+\n+        // Check if any destination contains a witness program:\n+        int witnessversion = 0;\n+        std::vector<unsigned char> witnessprogram;\n+        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161306395",
      "id" : 161306395,
      "in_reply_to_id" : 161261687,
      "original_commit_id" : "6349a3005375066de984c1f359fb166fa1c82fad",
      "original_position" : 16,
      "path" : "src/wallet/wallet.cpp",
      "position" : 16,
      "pull_request_review_id" : 88579972,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161306395",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161307005"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161307005"
         }
      },
      "author_association" : "MEMBER",
      "body" : "add at end of above comment \"unless changetype is set otherwise\"",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-12T19:30:38Z",
      "diff_hunk" : "@@ -195,5 +225,40 @@ def run_test(self):\n                 to_node %= 4\n                 assert_equal(new_balances[to_node], old_balances[to_node] + to_send * 10 * (2 + n))\n \n+        # Get one p2sh/segwit address from node2 and two bech32 addresses from node3:\n+        to_address_p2sh = self.nodes[2].getnewaddress()\n+        to_address_bech32_1 = self.nodes[3].getnewaddress()\n+        to_address_bech32_2 = self.nodes[3].getnewaddress()\n+\n+        # Fund node 4:\n+        self.nodes[5].sendtoaddress(self.nodes[4].getnewaddress(), Decimal(\"1\"))\n+        self.nodes[5].generate(1)\n+        sync_blocks(self.nodes)\n+\n+        assert_equal(self.nodes[4].getbalance(), 1)\n+\n+        self.log.debug(\"Nodes with change_type=bech32 always use a P2WPKH change output:\")\n+        self.test_change_output_type(2, [to_address_bech32_1], 'bech32')\n+        self.test_change_output_type(2, [to_address_p2sh], 'bech32')\n+\n+        self.log.debug(\"Nodes with addresstype=bech32 always use a P2WPKH change output:\")\n+        self.test_change_output_type(3, [to_address_bech32_1], 'bech32')\n+        self.test_change_output_type(3, [to_address_p2sh], 'bech32')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161307005",
      "id" : 161307005,
      "in_reply_to_id" : 161269039,
      "original_commit_id" : "6349a3005375066de984c1f359fb166fa1c82fad",
      "original_position" : 102,
      "path" : "test/functional/address_types.py",
      "position" : null,
      "pull_request_review_id" : 88580710,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161307005",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161321827"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161321827"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-12T20:48:53Z",
      "diff_hunk" : "@@ -195,5 +225,40 @@ def run_test(self):\n                 to_node %= 4\n                 assert_equal(new_balances[to_node], old_balances[to_node] + to_send * 10 * (2 + n))\n \n+        # Get one p2sh/segwit address from node2 and two bech32 addresses from node3:\n+        to_address_p2sh = self.nodes[2].getnewaddress()\n+        to_address_bech32_1 = self.nodes[3].getnewaddress()\n+        to_address_bech32_2 = self.nodes[3].getnewaddress()\n+\n+        # Fund node 4:\n+        self.nodes[5].sendtoaddress(self.nodes[4].getnewaddress(), Decimal(\"1\"))\n+        self.nodes[5].generate(1)\n+        sync_blocks(self.nodes)\n+\n+        assert_equal(self.nodes[4].getbalance(), 1)\n+\n+        self.log.debug(\"Nodes with change_type=bech32 always use a P2WPKH change output:\")\n+        self.test_change_output_type(2, [to_address_bech32_1], 'bech32')\n+        self.test_change_output_type(2, [to_address_p2sh], 'bech32')\n+\n+        self.log.debug(\"Nodes with addresstype=bech32 always use a P2WPKH change output:\")\n+        self.test_change_output_type(3, [to_address_bech32_1], 'bech32')\n+        self.test_change_output_type(3, [to_address_p2sh], 'bech32')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161321827",
      "id" : 161321827,
      "in_reply_to_id" : 161269039,
      "original_commit_id" : "6349a3005375066de984c1f359fb166fa1c82fad",
      "original_position" : 102,
      "path" : "test/functional/address_types.py",
      "position" : null,
      "pull_request_review_id" : 88599183,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161321827",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161323276"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161323276"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It might be assertophobia, but I'm not sure what you mean by that example. If you send coins to a future v1 segwit address, the change has to go somewhere right? So the change would just go to a v0 witness derived from the next available key in the pool.\r\n\r\nNote that `IsWitnessProgram` writes to `witnessversion`, not the other way around. And `witnessversion` isn't used when the change address is created.\r\n\r\nIt depends on what the intention of v1 is whether change can safely go to a v1 address. But I don't see how it would be unsafe to send to a v0 address. Of course maybe there is a reason, or future us will find a reason. So an assert would force them to think about that. Is that what you mean? ",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-12T20:56:14Z",
      "diff_hunk" : "@@ -2661,6 +2662,13 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n \n         if (recipient.fSubtractFeeFromAmount)\n             nSubtractFeeFromAmount++;\n+\n+        // Check if any destination contains a witness program:\n+        int witnessversion = 0;\n+        std::vector<unsigned char> witnessprogram;\n+        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161323276",
      "id" : 161323276,
      "in_reply_to_id" : 161261687,
      "original_commit_id" : "6349a3005375066de984c1f359fb166fa1c82fad",
      "original_position" : 16,
      "path" : "src/wallet/wallet.cpp",
      "position" : 16,
      "pull_request_review_id" : 88600993,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161323276",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161326063"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161326063"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not unsafe, but defeats the privacy logic that this enables, I think.\r\n\r\nMaybe I'm making too much hay of this.",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-12T21:10:49Z",
      "diff_hunk" : "@@ -2661,6 +2662,13 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n \n         if (recipient.fSubtractFeeFromAmount)\n             nSubtractFeeFromAmount++;\n+\n+        // Check if any destination contains a witness program:\n+        int witnessversion = 0;\n+        std::vector<unsigned char> witnessprogram;\n+        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161326063",
      "id" : 161326063,
      "in_reply_to_id" : 161261687,
      "original_commit_id" : "6349a3005375066de984c1f359fb166fa1c82fad",
      "original_position" : 16,
      "path" : "src/wallet/wallet.cpp",
      "position" : 16,
      "pull_request_review_id" : 88604436,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161326063",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161328143"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161328143"
         }
      },
      "author_association" : "OWNER",
      "body" : "I think we can discuss what to do with v1 witnesses when the time comes.",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-12T21:21:44Z",
      "diff_hunk" : "@@ -195,5 +225,40 @@ def run_test(self):\n                 to_node %= 4\n                 assert_equal(new_balances[to_node], old_balances[to_node] + to_send * 10 * (2 + n))\n \n+        # Get one p2sh/segwit address from node2 and two bech32 addresses from node3:\n+        to_address_p2sh = self.nodes[2].getnewaddress()\n+        to_address_bech32_1 = self.nodes[3].getnewaddress()\n+        to_address_bech32_2 = self.nodes[3].getnewaddress()\n+\n+        # Fund node 4:\n+        self.nodes[5].sendtoaddress(self.nodes[4].getnewaddress(), Decimal(\"1\"))\n+        self.nodes[5].generate(1)\n+        sync_blocks(self.nodes)\n+\n+        assert_equal(self.nodes[4].getbalance(), 1)\n+\n+        self.log.debug(\"Nodes with change_type=bech32 always use a P2WPKH change output:\")\n+        self.test_change_output_type(2, [to_address_bech32_1], 'bech32')\n+        self.test_change_output_type(2, [to_address_p2sh], 'bech32')\n+\n+        self.log.debug(\"Nodes with addresstype=bech32 always use a P2WPKH change output:\")\n+        self.test_change_output_type(3, [to_address_bech32_1], 'bech32')\n+        self.test_change_output_type(3, [to_address_p2sh], 'bech32')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161328143",
      "id" : 161328143,
      "in_reply_to_id" : 161269039,
      "original_commit_id" : "6349a3005375066de984c1f359fb166fa1c82fad",
      "original_position" : 102,
      "path" : "test/functional/address_types.py",
      "position" : null,
      "pull_request_review_id" : 88606966,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161328143",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161405681"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161405681"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "short indent here.",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-14T18:18:07Z",
      "diff_hunk" : "@@ -2661,6 +2662,13 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n \n         if (recipient.fSubtractFeeFromAmount)\n             nSubtractFeeFromAmount++;\n+\n+        // Check if any destination contains a witness program:\n+        int witnessversion = 0;\n+        std::vector<unsigned char> witnessprogram;\n+        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {\n+          any_destination_native_segwit = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161405681",
      "id" : 161405681,
      "original_commit_id" : "de8ea9c68a69aa2c61abbe26d62e47c3b321fe78",
      "original_position" : 17,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 88690321,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161405681",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161405829"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161405829"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Really not sure what the point is here - we definitely should allowe sending to >v0 witness versions, its not our job to make sure someone giving us an address gives us something that is currently safe (ie has been forked to have some meaning), and we shouldn't need an update just to send to a newly-defined segwit version.",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-14T18:25:14Z",
      "diff_hunk" : "@@ -2661,6 +2662,13 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n \n         if (recipient.fSubtractFeeFromAmount)\n             nSubtractFeeFromAmount++;\n+\n+        // Check if any destination contains a witness program:\n+        int witnessversion = 0;\n+        std::vector<unsigned char> witnessprogram;\n+        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161405829",
      "id" : 161405829,
      "in_reply_to_id" : 161261687,
      "original_commit_id" : "6349a3005375066de984c1f359fb166fa1c82fad",
      "original_position" : 16,
      "path" : "src/wallet/wallet.cpp",
      "position" : 16,
      "pull_request_review_id" : 88690321,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161405829",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161531689"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161531689"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-15T14:24:34Z",
      "diff_hunk" : "@@ -2661,6 +2662,13 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n \n         if (recipient.fSubtractFeeFromAmount)\n             nSubtractFeeFromAmount++;\n+\n+        // Check if any destination contains a witness program:\n+        int witnessversion = 0;\n+        std::vector<unsigned char> witnessprogram;\n+        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {\n+          any_destination_native_segwit = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161531689",
      "id" : 161531689,
      "in_reply_to_id" : 161405681,
      "original_commit_id" : "de8ea9c68a69aa2c61abbe26d62e47c3b321fe78",
      "original_position" : 17,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 88835295,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161531689",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@TheBlueMatt test failure seems indeterministic. Afaik I only added a comment since the last time Travis was happy. We'll see what happens with this indentation fix.",
      "created_at" : "2018-01-15T14:26:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-357697093",
      "id" : 357697093,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-15T14:26:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357697093",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161533605"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161533605"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@TheBlueMatt Why are we having the wallet make v0 change outputs if the receiving address is v1+? Makes no sense to me.",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-15T14:31:57Z",
      "diff_hunk" : "@@ -2661,6 +2662,13 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n \n         if (recipient.fSubtractFeeFromAmount)\n             nSubtractFeeFromAmount++;\n+\n+        // Check if any destination contains a witness program:\n+        int witnessversion = 0;\n+        std::vector<unsigned char> witnessprogram;\n+        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161533605",
      "id" : 161533605,
      "in_reply_to_id" : 161261687,
      "original_commit_id" : "6349a3005375066de984c1f359fb166fa1c82fad",
      "original_position" : 16,
      "path" : "src/wallet/wallet.cpp",
      "position" : 16,
      "pull_request_review_id" : 88837550,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161533605",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`net.py` fails on Travis, but passes locally. I'll rebase because there are some new test related fixes on master.",
      "created_at" : "2018-01-15T15:06:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-357707934",
      "id" : 357707934,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-15T15:06:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357707934",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebase made Travis happy.",
      "created_at" : "2018-01-15T16:21:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-357728968",
      "id" : 357728968,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-15T16:21:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357728968",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161570617"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161570617"
         }
      },
      "author_association" : "OWNER",
      "body" : "Suggestion: test g_address_type against OUTPUT_TYPE_DEFAULT, instead of touching `gArgs` here. \r\n\r\nIf that is not possible, please move the `gArgs.IsArgSet(\"-changetype\")` to `wallet/init.cpp` and set a global boolean `g_changetype_is_default` or such - don't spread the handling for one option over two separate places.",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-15T16:49:58Z",
      "diff_hunk" : "@@ -2739,8 +2747,16 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n                     return false;\n                 }\n \n-                LearnRelatedScripts(vchPubKey, g_change_type);\n-                scriptChange = GetScriptForDestination(GetDestinationForKey(vchPubKey, g_change_type));\n+                // If -changetype is not specified and g_address_type is not legacy,\n+                // and any destination is (P2SH-)P2WPKH, use P2WPKH for the change\n+                // output.\n+                OutputType change_type = g_change_type;\n+                if (!gArgs.IsArgSet(\"-changetype\") && g_address_type != OUTPUT_TYPE_LEGACY && any_destination_native_segwit) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161570617",
      "id" : 161570617,
      "original_commit_id" : "2324577b76e45e2f67c786338a562a49fb436f45",
      "original_position" : 32,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 88881306,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161570617",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161660342"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161660342"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@instagibbs  since we don't support v1  there is no 'private' option possible for us,  so given that privacy is impossible, we should at least choose the most efficient!\r\n\r\nThe only reason we initially defaulted to do anything but produce native change is because under the assumption that most payments would be non-native that would be pretty bad for privacy.  But that privacy argument only holds when the decision results in us matching. \r\n\r\nPerhaps in the future if we support both v0 and v1 and have no particular reason to choose between them (e.g. they're both about equally efficient, and our wallet's policy doesn't demand one vs the other), we would just match whatever we're paying... but we can't do that now.",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-16T04:50:05Z",
      "diff_hunk" : "@@ -2661,6 +2662,13 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n \n         if (recipient.fSubtractFeeFromAmount)\n             nSubtractFeeFromAmount++;\n+\n+        // Check if any destination contains a witness program:\n+        int witnessversion = 0;\n+        std::vector<unsigned char> witnessprogram;\n+        if (recipient.scriptPubKey.IsWitnessProgram(witnessversion, witnessprogram)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161660342",
      "id" : 161660342,
      "in_reply_to_id" : 161261687,
      "original_commit_id" : "6349a3005375066de984c1f359fb166fa1c82fad",
      "original_position" : 16,
      "path" : "src/wallet/wallet.cpp",
      "position" : 16,
      "pull_request_review_id" : 88985053,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161660342",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161724493"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161724493"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`OUTPUT_TYPE_DEFAULT` is used for the help message and is defined as `OUTPUT_TYPE_P2SH_SEGWIT`. I'll try (something along the lines of) @luke-jr's 5efd54745. ",
      "commit_id" : "327634f97e5921815c30e50d076cde0f6ff51aaf",
      "created_at" : "2018-01-16T11:03:19Z",
      "diff_hunk" : "@@ -2739,8 +2747,16 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n                     return false;\n                 }\n \n-                LearnRelatedScripts(vchPubKey, g_change_type);\n-                scriptChange = GetScriptForDestination(GetDestinationForKey(vchPubKey, g_change_type));\n+                // If -changetype is not specified and g_address_type is not legacy,\n+                // and any destination is (P2SH-)P2WPKH, use P2WPKH for the change\n+                // output.\n+                OutputType change_type = g_change_type;\n+                if (!gArgs.IsArgSet(\"-changetype\") && g_address_type != OUTPUT_TYPE_LEGACY && any_destination_native_segwit) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#discussion_r161724493",
      "id" : 161724493,
      "in_reply_to_id" : 161570617,
      "original_commit_id" : "2324577b76e45e2f67c786338a562a49fb436f45",
      "original_position" : 32,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 89057843,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12119",
      "updated_at" : "2018-01-16T11:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161724493",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`g_change_type` is no longer based on `-addresstype`. Functions that use `g_change_type` need to handle `OUTPUT_TYPE_NONE`, which I've done everywhere with: `g_change_type ? g_change_type : g_address_type`.",
      "created_at" : "2018-01-16T12:00:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-357939402",
      "id" : 357939402,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-16T12:00:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357939402",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "utACK 327634f97e5921815c30e50d076cde0f6ff51aaf\r\n\r\nI think the code can be made a bit cleaner by introducing an explicit P2SH_SEGWIT_BUT_NATIVE_WHEN_NATIVE_DESTINATION or so type in `OutputType`, but let's do that later.",
      "created_at" : "2018-01-16T14:47:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12119#issuecomment-357982763",
      "id" : 357982763,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12119",
      "updated_at" : "2018-01-16T14:47:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/357982763",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
