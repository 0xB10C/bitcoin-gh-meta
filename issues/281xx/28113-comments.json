[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/28113#issuecomment-1643996052), [stickies-v](https://github.com/bitcoin/bitcoin/pull/28113#issuecomment-1643999326), [fanquake](https://github.com/bitcoin/bitcoin/pull/28113#issuecomment-1645764514) |\n| Stale ACK | [MarcoFalke](https://github.com/bitcoin/bitcoin/pull/28113#pullrequestreview-1539670029) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2023-07-20T14:06:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28113#issuecomment-1643992614",
      "id" : 1643992614,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28113",
      "node_id" : "IC_kwDOABII585h_VYm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1643992614/reactions"
      },
      "updated_at" : "2023-07-21T15:29:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1643992614",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2023-07-20T14:08:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28113#issuecomment-1643996052",
      "id" : 1643996052,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28113",
      "node_id" : "IC_kwDOABII585h_WOU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1643996052/reactions"
      },
      "updated_at" : "2023-07-20T14:08:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1643996052",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2023-07-20T14:10:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28113#issuecomment-1643999326",
      "id" : 1643999326,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28113",
      "node_id" : "IC_kwDOABII585h_XBe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1643999326/reactions"
      },
      "updated_at" : "2023-07-20T14:10:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1643999326",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28113#discussion_r1269708017"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28113"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1269708017"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Missing self-include?",
      "commit_id" : "03e06e589a24f0bcb7dbd28a0aaa925b18b87b9d",
      "created_at" : "2023-07-20T16:32:32Z",
      "diff_hunk" : "@@ -0,0 +1,47 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28113#discussion_r1269708017",
      "id" : 1269708017,
      "line" : 4,
      "node_id" : "PRRC_kwDOABII585LrjTx",
      "original_commit_id" : "03e06e589a24f0bcb7dbd28a0aaa925b18b87b9d",
      "original_line" : 4,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/common/univalue_helpers.cpp",
      "position" : 4,
      "pull_request_review_id" : 1539670029,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28113",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1269708017/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-20T16:37:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1269708017",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28113#discussion_r1269712862"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28113"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1269712862"
         }
      },
      "author_association" : "MEMBER",
      "body" : "it may be nice to include univalue.h and then mark it as `export` for iwyu. This would allow include-sites to drop the univalue.h include, since it should be obvious that there is a univalue dependency with the `univalue_helpers.h` include already.\r\n\r\nAlso, this shouldn't increase compile cost, because it would be rare (in this case) for a call-site to include this header, but not need the univalue header.",
      "commit_id" : "03e06e589a24f0bcb7dbd28a0aaa925b18b87b9d",
      "created_at" : "2023-07-20T16:37:42Z",
      "diff_hunk" : "@@ -0,0 +1,17 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_COMMON_UNIVALUE_HELPERS_H\n+#define BITCOIN_COMMON_UNIVALUE_HELPERS_H\n+\n+#include <string>\n+#include <vector>\n+\n+class UniValue;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28113#discussion_r1269712862",
      "id" : 1269712862,
      "line" : 11,
      "node_id" : "PRRC_kwDOABII585Lrkfe",
      "original_commit_id" : "03e06e589a24f0bcb7dbd28a0aaa925b18b87b9d",
      "original_line" : 11,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/common/univalue_helpers.h",
      "position" : 11,
      "pull_request_review_id" : 1539670029,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28113",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1269712862/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-20T16:37:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1269712862",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28113#discussion_r1269745657"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28113"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1269745657"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't really find this fn to be a `UniValue` helper, pretty much all the logic is sighash specific. While thinking for a better place to sit, I ended up thinking the better solution may be to keep it where it is but just remove the (imo unnecessary) dependency on UV? Offloading the default value and type check to a helper function like `ParseSighashString` is opaque, and even though my approach here is slightly more verbose in the callsite, I find the clarity of what's happening to be worth it (different callsites may require different behaviour in case of wrong types or `sighash_str`).\r\n\r\nWhat do you think?\r\n\r\n_(I think returning a `std::optional` instead of throwing is probably even better, but orthogonal to this pull)_\r\n\r\n<details>\r\n<summary>git diff on master</summary>\r\n\r\n```diff\r\ndiff --git a/src/core_io.h b/src/core_io.h\r\nindex 997f3bfd5b..ea07042b82 100644\r\n--- a/src/core_io.h\r\n+++ b/src/core_io.h\r\n@@ -46,7 +46,7 @@ bool DecodeHexBlockHeader(CBlockHeader&, const std::string& hex_header);\r\n  */\r\n bool ParseHashStr(const std::string& strHex, uint256& result);\r\n std::vector<unsigned char> ParseHexUV(const UniValue& v, const std::string& strName);\r\n-int ParseSighashString(const UniValue& sighash);\r\n+int ParseSighashString(const std::string& sighash);\r\n \r\n // core_write.cpp\r\n UniValue ValueFromAmount(const CAmount amount);\r\ndiff --git a/src/core_read.cpp b/src/core_read.cpp\r\nindex 84cd559b7f..31f121206c 100644\r\n--- a/src/core_read.cpp\r\n+++ b/src/core_read.cpp\r\n@@ -252,26 +252,20 @@ std::vector<unsigned char> ParseHexUV(const UniValue& v, const std::string& strN\r\n     return ParseHex(strHex);\r\n }\r\n \r\n-int ParseSighashString(const UniValue& sighash)\r\n+int ParseSighashString(const std::string& sighash_str)\r\n {\r\n-    int hash_type = SIGHASH_DEFAULT;\r\n-    if (!sighash.isNull()) {\r\n-        static std::map<std::string, int> map_sighash_values = {\r\n-            {std::string(\"DEFAULT\"), int(SIGHASH_DEFAULT)},\r\n-            {std::string(\"ALL\"), int(SIGHASH_ALL)},\r\n-            {std::string(\"ALL|ANYONECANPAY\"), int(SIGHASH_ALL|SIGHASH_ANYONECANPAY)},\r\n-            {std::string(\"NONE\"), int(SIGHASH_NONE)},\r\n-            {std::string(\"NONE|ANYONECANPAY\"), int(SIGHASH_NONE|SIGHASH_ANYONECANPAY)},\r\n-            {std::string(\"SINGLE\"), int(SIGHASH_SINGLE)},\r\n-            {std::string(\"SINGLE|ANYONECANPAY\"), int(SIGHASH_SINGLE|SIGHASH_ANYONECANPAY)},\r\n-        };\r\n-        const std::string& strHashType = sighash.get_str();\r\n-        const auto& it = map_sighash_values.find(strHashType);\r\n-        if (it != map_sighash_values.end()) {\r\n-            hash_type = it->second;\r\n-        } else {\r\n-            throw std::runtime_error(strHashType + \" is not a valid sighash parameter.\");\r\n-        }\r\n+    static std::map<std::string, int> map_sighash_values = {\r\n+        {std::string(\"DEFAULT\"), int(SIGHASH_DEFAULT)},\r\n+        {std::string(\"ALL\"), int(SIGHASH_ALL)},\r\n+        {std::string(\"ALL|ANYONECANPAY\"), int(SIGHASH_ALL|SIGHASH_ANYONECANPAY)},\r\n+        {std::string(\"NONE\"), int(SIGHASH_NONE)},\r\n+        {std::string(\"NONE|ANYONECANPAY\"), int(SIGHASH_NONE|SIGHASH_ANYONECANPAY)},\r\n+        {std::string(\"SINGLE\"), int(SIGHASH_SINGLE)},\r\n+        {std::string(\"SINGLE|ANYONECANPAY\"), int(SIGHASH_SINGLE|SIGHASH_ANYONECANPAY)},\r\n+    };\r\n+    const auto& it{map_sighash_values.find(sighash_str)};\r\n+    if (it != map_sighash_values.end()) {\r\n+        return it->second;\r\n     }\r\n-    return hash_type;\r\n+    throw std::runtime_error(sighash_str + \" is not a valid sighash parameter.\");\r\n }\r\ndiff --git a/src/rpc/rawtransaction.cpp b/src/rpc/rawtransaction.cpp\r\nindex eb0200ccf5..e0e30b2d9e 100644\r\n--- a/src/rpc/rawtransaction.cpp\r\n+++ b/src/rpc/rawtransaction.cpp\r\n@@ -1964,7 +1964,7 @@ RPCHelpMan descriptorprocesspsbt()\r\n         EvalDescriptorStringOrObject(descs[i], provider, /*expand_priv=*/true);\r\n     }\r\n \r\n-    int sighash_type = ParseSighashString(request.params[2]);\r\n+    int sighash_type{request.params[2].isNull() ? SIGHASH_DEFAULT: ParseSighashString(request.params[2].get_str())};\r\n     bool bip32derivs = request.params[3].isNull() ? true : request.params[3].get_bool();\r\n     bool finalize = request.params[4].isNull() ? true : request.params[4].get_bool();\r\n \r\ndiff --git a/src/rpc/rawtransaction_util.cpp b/src/rpc/rawtransaction_util.cpp\r\nindex 3a6fa39e4d..7272cca1c5 100644\r\n--- a/src/rpc/rawtransaction_util.cpp\r\n+++ b/src/rpc/rawtransaction_util.cpp\r\n@@ -289,7 +289,7 @@ void ParsePrevouts(const UniValue& prevTxsUnival, FillableSigningProvider* keyst\r\n \r\n void SignTransaction(CMutableTransaction& mtx, const SigningProvider* keystore, const std::map<COutPoint, Coin>& coins, const UniValue& hashType, UniValue& result)\r\n {\r\n-    int nHashType = ParseSighashString(hashType);\r\n+    int nHashType{hashType.isNull() ? SIGHASH_DEFAULT : ParseSighashString(hashType.get_str())};\r\n \r\n     // Script verification errors\r\n     std::map<int, bilingual_str> input_errors;\r\ndiff --git a/src/test/fuzz/parse_univalue.cpp b/src/test/fuzz/parse_univalue.cpp\r\nindex bfa856211d..5cb2c64f26 100644\r\n--- a/src/test/fuzz/parse_univalue.cpp\r\n+++ b/src/test/fuzz/parse_univalue.cpp\r\n@@ -73,10 +73,6 @@ FUZZ_TARGET(parse_univalue, .init = initialize_parse_univalue)\r\n     } catch (const UniValue&) {\r\n     } catch (const std::runtime_error&) {\r\n     }\r\n-    try {\r\n-        (void)ParseSighashString(univalue);\r\n-    } catch (const std::runtime_error&) {\r\n-    }\r\n     try {\r\n         (void)AmountFromValue(univalue);\r\n     } catch (const UniValue&) {\r\ndiff --git a/src/wallet/rpc/spend.cpp b/src/wallet/rpc/spend.cpp\r\nindex b695d4bed3..3d74b12ef7 100644\r\n--- a/src/wallet/rpc/spend.cpp\r\n+++ b/src/wallet/rpc/spend.cpp\r\n@@ -943,7 +943,7 @@ RPCHelpMan signrawtransactionwithwallet()\r\n     // Parse the prevtxs array\r\n     ParsePrevouts(request.params[1], nullptr, coins);\r\n \r\n-    int nHashType = ParseSighashString(request.params[2]);\r\n+    int nHashType{request.params[2].isNull() ? SIGHASH_DEFAULT: ParseSighashString(request.params[2].get_str())};\r\n \r\n     // Script verification errors\r\n     std::map<int, bilingual_str> input_errors;\r\n@@ -1587,7 +1587,7 @@ RPCHelpMan walletprocesspsbt()\r\n     }\r\n \r\n     // Get the sighash type\r\n-    int nHashType = ParseSighashString(request.params[2]);\r\n+    int nHashType{request.params[2].isNull() ? SIGHASH_DEFAULT: ParseSighashString(request.params[2].get_str())};\r\n \r\n     // Fill transaction with our data and also sign\r\n     bool sign = request.params[1].isNull() ? true : request.params[1].get_bool();\r\n\r\n```\r\n</details>",
      "commit_id" : "05477b5566dc6f9c3d5c9609268002c0fbe1e1aa",
      "created_at" : "2023-07-20T17:09:58Z",
      "diff_hunk" : "@@ -0,0 +1,47 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <script/interpreter.h>\n+#include <univalue.h>\n+#include <util/strencodings.h>\n+\n+#include <map>\n+#include <stdexcept>\n+#include <string>\n+#include <utility>\n+#include <vector>\n+\n+std::vector<unsigned char> ParseHexUV(const UniValue& v, const std::string& strName)\n+{\n+    std::string strHex;\n+    if (v.isStr())\n+        strHex = v.getValStr();\n+    if (!IsHex(strHex))\n+        throw std::runtime_error(strName + \" must be hexadecimal string (not '\" + strHex + \"')\");\n+    return ParseHex(strHex);\n+}\n+\n+int ParseSighashString(const UniValue& sighash)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28113#discussion_r1269745657",
      "id" : 1269745657,
      "line" : 26,
      "node_id" : "PRRC_kwDOABII585Lrsf5",
      "original_commit_id" : "03e06e589a24f0bcb7dbd28a0aaa925b18b87b9d",
      "original_line" : 26,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "src/common/univalue_helpers.cpp",
      "position" : 26,
      "pull_request_review_id" : 1539728494,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28113",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1269745657/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-20T18:04:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1269745657",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated 03e06e589a24f0bcb7dbd28a0aaa925b18b87b9d -> 0498ea61f4ce1d73e84f866f420a2afb209fb01c ([kernelRmUnivalue_0](https://github.com/TheCharlatan/bitcoin/tree/kernelRmUnivalue_0) -> [kernelRmUnivalue_1](https://github.com/TheCharlatan/bitcoin/tree/kernelRmUnivalue_1),  [compare](https://github.com/TheCharlatan/bitcoin/compare/kernelRmUnivalue_0..kernelRmUnivalue_1))\r\n\r\n* Addressed @MarcoFalke's [comment](https://github.com/bitcoin/bitcoin/pull/28113#discussion_r1269708017), fixed include\r\n* Addressed @MarcoFalke's [comment](https://github.com/bitcoin/bitcoin/pull/28113#discussion_r1269712862), exported `univalue.h` include\r\n* Followed up on @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/28113#discussion_r1269745657), implemented an alternative to the comment by splitting the implementation between `univalue_helpers` and `core_read` functions. Changed the return type of the function in `core_read` to return a `util::Result` instead of throwing. Since other `UniValue` calls may throw already in the `univalue_helpers` function, it seems more appropriate to throw there though.",
      "created_at" : "2023-07-21T14:44:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28113#issuecomment-1645705020",
      "id" : 1645705020,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28113",
      "node_id" : "IC_kwDOABII585iF3c8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1645705020/reactions"
      },
      "updated_at" : "2023-07-21T14:44:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1645705020",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28113#discussion_r1270790467"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28113"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1270790467"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Missing newline after self-include?",
      "commit_id" : "05477b5566dc6f9c3d5c9609268002c0fbe1e1aa",
      "created_at" : "2023-07-21T15:09:37Z",
      "diff_hunk" : "@@ -0,0 +1,35 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <common/univalue_helpers.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28113#discussion_r1270790467",
      "id" : 1270790467,
      "line" : 5,
      "node_id" : "PRRC_kwDOABII585LvrlD",
      "original_commit_id" : "0498ea61f4ce1d73e84f866f420a2afb209fb01c",
      "original_line" : 5,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/common/univalue_helpers.cpp",
      "position" : 5,
      "pull_request_review_id" : 1541342228,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28113",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1270790467/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-21T15:09:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1270790467",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28113#discussion_r1270799400"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28113"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1270799400"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ups, done.",
      "commit_id" : "05477b5566dc6f9c3d5c9609268002c0fbe1e1aa",
      "created_at" : "2023-07-21T15:18:23Z",
      "diff_hunk" : "@@ -0,0 +1,35 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <common/univalue_helpers.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28113#discussion_r1270799400",
      "id" : 1270799400,
      "in_reply_to_id" : 1270790467,
      "line" : 5,
      "node_id" : "PRRC_kwDOABII585Lvtwo",
      "original_commit_id" : "0498ea61f4ce1d73e84f866f420a2afb209fb01c",
      "original_line" : 5,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/common/univalue_helpers.cpp",
      "position" : 5,
      "pull_request_review_id" : 1541356410,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28113",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1270799400/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-21T15:18:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1270799400",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated 0498ea61f4ce1d73e84f866f420a2afb209fb01c -> 05477b5566dc6f9c3d5c9609268002c0fbe1e1aa ([kernelRmUnivalue_1](https://github.com/TheCharlatan/bitcoin/tree/kernelRmUnivalue_1) -> [kernelRmUnivalue_2](https://github.com/TheCharlatan/bitcoin/tree/kernelRmUnivalue_2),  [compare](https://github.com/TheCharlatan/bitcoin/compare/kernelRmUnivalue_1..kernelRmUnivalue_2))\r\n\r\n* Addressed @MarcoFalke's [comment](https://github.com/bitcoin/bitcoin/pull/28113#discussion_r1270790467), fixed include spacing.",
      "created_at" : "2023-07-21T15:23:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28113#issuecomment-1645757452",
      "id" : 1645757452,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28113",
      "node_id" : "IC_kwDOABII585iGEQM",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1645757452/reactions"
      },
      "updated_at" : "2023-07-21T15:23:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1645757452",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. cc @theuni ",
      "created_at" : "2023-07-21T15:29:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28113#issuecomment-1645764514",
      "id" : 1645764514,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28113",
      "node_id" : "IC_kwDOABII585iGF-i",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1645764514/reactions"
      },
      "updated_at" : "2023-07-21T15:29:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1645764514",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Putting new parsing helpers into the `libbitcoin_common` library is a bit questionable for me.\r\n\r\nI was expecting to see them in the `libbitcoin_util`. However, it is not possible with the suggested approach as the `univalue_helpers.cpp` depends on `SIGHASH_DEFAULT`.\r\n\r\nUPD. However, we put to the `libbitcoin_common` the code that is not used in the kernel.",
      "created_at" : "2023-07-21T16:02:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28113#issuecomment-1645806444",
      "id" : 1645806444,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28113",
      "node_id" : "IC_kwDOABII585iGQNs",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1645806444/reactions"
      },
      "updated_at" : "2023-07-21T19:02:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1645806444",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The `ParseHexUV` function is used in `bitcoin-tx.cpp` only. Why not make it `static`/`namespace`d in there?\r\n\r\nSee: https://github.com/hebasto/bitcoin/commit/6d0fcfe3abc8b944d296d2033b9fd2e444d85ce4",
      "created_at" : "2023-07-21T20:36:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28113#issuecomment-1646212942",
      "id" : 1646212942,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28113",
      "node_id" : "IC_kwDOABII585iHzdO",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1646212942/reactions"
      },
      "updated_at" : "2023-07-21T20:36:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1646212942",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> The ParseHexUV function is used in bitcoin-tx.cpp only. Why not make it static/namespaced in there?\r\n\r\nSacrificing the fuzz test seems unfortunate. but we already don't fuzz a similar function in `bitcoin-tx` `AmountFromValue`. I guess we have poor coverage of `bitcoin-tx` in general though.",
      "created_at" : "2023-07-21T20:43:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28113#issuecomment-1646218170",
      "id" : 1646218170,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28113",
      "node_id" : "IC_kwDOABII585iH0u6",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1646218170/reactions"
      },
      "updated_at" : "2023-07-21T20:43:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1646218170",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Sacrificing the fuzz test seems unfortunate.\r\n\r\nMaybe more fuzzing for `ParseHex` and `IsHex` is a better way?",
      "created_at" : "2023-07-21T21:15:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28113#issuecomment-1646246065",
      "id" : 1646246065,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28113",
      "node_id" : "IC_kwDOABII585iH7ix",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1646246065/reactions"
      },
      "updated_at" : "2023-07-21T21:15:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1646246065",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Suggesting an alternative implementation that  is based on the following idea:\r\n```diff\r\n--- a/src/core_read.cpp\r\n+++ b/src/core_read.cpp\r\n@@ -242,10 +242,10 @@ bool ParseHashStr(const std::string& strHex, uint256& result)\r\n     return true;\r\n }\r\n \r\n-int ParseSighashString(const UniValue& sighash)\r\n+int ParseSighashString(const std::optional<std::string>& sighash)\r\n {\r\n     int hash_type = SIGHASH_DEFAULT;\r\n-    if (!sighash.isNull()) {\r\n+    if (sighash.has_value()) {\r\n         static std::map<std::string, int> map_sighash_values = {\r\n             {std::string(\"DEFAULT\"), int(SIGHASH_DEFAULT)},\r\n             {std::string(\"ALL\"), int(SIGHASH_ALL)},\r\n@@ -255,7 +255,7 @@ int ParseSighashString(const UniValue& sighash)\r\n             {std::string(\"SINGLE\"), int(SIGHASH_SINGLE)},\r\n             {std::string(\"SINGLE|ANYONECANPAY\"), int(SIGHASH_SINGLE|SIGHASH_ANYONECANPAY)},\r\n         };\r\n-        const std::string& strHashType = sighash.get_str();\r\n+        const std::string& strHashType = sighash.value();\r\n         const auto& it = map_sighash_values.find(strHashType);\r\n         if (it != map_sighash_values.end()) {\r\n             hash_type = it->second;\r\n```\r\n\r\nThe full branch is here: https://github.com/hebasto/bitcoin/tree/230721-univalue.3.\r\n\r\nDiffs are simpler and smaller. A new helper does not depend on symbols from the `libbitcoin_consensus` library.\r\n\r\nFeel free to take it :)",
      "created_at" : "2023-07-22T06:03:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28113#issuecomment-1646499733",
      "id" : 1646499733,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28113",
      "node_id" : "IC_kwDOABII585iI5eV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1646499733/reactions"
      },
      "updated_at" : "2023-07-22T06:03:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1646499733",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
