{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Fixing #28057.\r\n\r\nThe legacy wallet allows to import any raw script (#28126), without\r\nchecking if it was valid or not. Appending it to the watch-only set.\r\n\r\nThis causes a crash in the migration process because we are only\r\nexpecting to find valid scripts inside the legacy spkm.\r\n\r\nThese stored scripts internally map to `ISMINE_NO` (same as if they\r\nweren't stored at all..).\r\n\r\nSo we need to check for these special case, and take into account that\r\nthe legacy spkm could be storing invalid not watched scripts.\r\n\r\nWhich, in code words, means `IsMineInner()` returning\r\n`IsMineResult::INVALID` for them.\r\n\r\nNote:\r\nTo verify this, can run the test commit on top of master.\r\n`wallet_migration.py` will crash without the bugfix commit.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28125/comments",
   "created_at" : "2023-07-22T14:02:24Z",
   "draft" : false,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28125/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/28125",
   "id" : 1816776054,
   "labels" : [
      {
         "color" : "08a781",
         "default" : false,
         "description" : null,
         "id" : 149424,
         "name" : "Wallet",
         "node_id" : "MDU6TGFiZWwxNDk0MjQ=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28125/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII585WJfAS",
   "number" : 28125,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/28125.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28125",
      "merged_at" : null,
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/28125.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28125"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28125/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28125/timeline",
   "title" : "wallet: bugfix, disallow migration of invalid scripts",
   "updated_at" : "2023-07-22T14:05:33Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28125",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
      "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
      "followers_url" : "https://api.github.com/users/furszy/followers",
      "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
      "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/furszy",
      "id" : 5377650,
      "login" : "furszy",
      "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
      "organizations_url" : "https://api.github.com/users/furszy/orgs",
      "received_events_url" : "https://api.github.com/users/furszy/received_events",
      "repos_url" : "https://api.github.com/users/furszy/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/furszy"
   }
}
