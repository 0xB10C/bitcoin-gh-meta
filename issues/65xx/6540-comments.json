[
   {
      "body" : "What version of Boost and operating system?",
      "created_at" : "2015-08-10T17:25:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6540#issuecomment-129537184",
      "id" : 129537184,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6540",
      "updated_at" : "2015-08-10T17:25:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/129537184",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Can you \"info threads\" and \"bt\" from more than just the one thread?",
      "created_at" : "2015-08-13T11:18:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6540#issuecomment-130625501",
      "id" : 130625501,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6540",
      "updated_at" : "2015-08-13T11:18:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/130625501",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Oh, and can you reproduce with -DDEBUG_LOCKORDER?",
      "created_at" : "2015-08-13T11:19:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6540#issuecomment-130626383",
      "id" : 130626383,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6540",
      "updated_at" : "2015-08-13T11:19:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/130626383",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "@posita: I think I observed this/a related issue some weeks ago, too: https://github.com/bitcoin/bitcoin/pull/6278#issuecomment-112802113\r\n\r\nBack then I didn't strip the files.",
      "created_at" : "2015-08-14T02:17:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6540#issuecomment-130926347",
      "id" : 130926347,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6540",
      "updated_at" : "2015-08-14T02:53:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/130926347",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5836089?v=3",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "body" : "> What version of Boost and operating system?\r\n\r\nDebian stable (\"jessie\") w/ Boost 1.55.0.2:\r\n\r\n```\r\nroot@f7c305516d72:/# uname -a\r\nLinux f7c305516d72 4.0.7-boot2docker #1 SMP Wed Jul 15 00:01:41 UTC 2015 x86_64 GNU/Linux\r\nroot@f7c305516d72:/# cat /etc/debian_version\r\n8.1\r\nroot@f7c305516d72:/# dpkg -l libboost-all-dev\r\nDesired=Unknown/Install/Remove/Purge/Hold\r\n| Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend\r\n|/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)\r\n||/ Name                             Version               Architecture          Description\r\n+++-================================-=====================-=====================-=====================================================================\r\nii  libboost-all-dev                 1.55.0.2              amd64                 Boost C++ Libraries development files (ALL) (default version)\r\n```",
      "created_at" : "2015-08-14T04:02:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6540#issuecomment-130959029",
      "id" : 130959029,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6540",
      "updated_at" : "2015-08-14T04:11:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/130959029",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/222581?v=3",
         "events_url" : "https://api.github.com/users/posita/events{/privacy}",
         "followers_url" : "https://api.github.com/users/posita/followers",
         "following_url" : "https://api.github.com/users/posita/following{/other_user}",
         "gists_url" : "https://api.github.com/users/posita/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/posita",
         "id" : 222581,
         "login" : "posita",
         "organizations_url" : "https://api.github.com/users/posita/orgs",
         "received_events_url" : "https://api.github.com/users/posita/received_events",
         "repos_url" : "https://api.github.com/users/posita/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/posita/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/posita/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/posita"
      }
   },
   {
      "body" : "> Can you \"info threads\" and \"bt\" from more than just the one thread?\r\n\r\n```\r\nroot@f7c305516d72:/# gdb -s .../bin/test_bitcoin.debug .../bin/test_bitcoin <PID>\r\n...\r\n(gdb) info threads\r\n  Id   Target Id         Frame\r\n  4    Thread 0x7f6084889700 (LWP 85) \"test_bitcoin\" 0x00007f608905308f in pthread_cond_wait@@GLIBC_2.3.2 ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n  3    Thread 0x7f6077fff700 (LWP 86) \"test_bitcoin\" 0x00007f608905308f in pthread_cond_wait@@GLIBC_2.3.2 ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n  2    Thread 0x7f60777fe700 (LWP 87) \"test_bitcoin\" 0x00007f608905308f in pthread_cond_wait@@GLIBC_2.3.2 ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n* 1    Thread 0x7f608bbf0740 (LWP 30) \"test_bitcoin\" 0x00007f608905308f in pthread_cond_wait@@GLIBC_2.3.2 ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n(gdb) thread apply all bt\r\n\r\nThread 4 (Thread 0x7f6084889700 (LWP 85)):\r\n#0  0x00007f608905308f in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#1  0x00007f608b568a9b in boost::condition_variable::wait (this=0x7ffe01924da0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73\r\n#2  0x00007f608b733976 in CScheduler::serviceQueue (this=0x7ffe01924d70) at scheduler.cpp:40\r\n#3  0x00007f608a9b4aea in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.55.0\r\n#4  0x00007f608904f0a4 in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#5  0x00007f6088d8404d in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\n\r\nThread 3 (Thread 0x7f6077fff700 (LWP 86)):\r\n#0  0x00007f608905308f in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#1  0x00007f608b568a9b in boost::condition_variable::wait (this=0x7ffe01924da0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73\r\n#2  0x00007f608b733976 in CScheduler::serviceQueue (this=0x7ffe01924d70) at scheduler.cpp:40\r\n#3  0x00007f608a9b4aea in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.55.0\r\n#4  0x00007f608904f0a4 in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#5  0x00007f6088d8404d in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\n\r\nThread 2 (Thread 0x7f60777fe700 (LWP 87)):\r\n#0  0x00007f608905308f in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#1  0x00007f608b568a9b in boost::condition_variable::wait (this=0x7ffe01924da0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73\r\n#2  0x00007f608b733976 in CScheduler::serviceQueue (this=0x7ffe01924d70) at scheduler.cpp:40\r\n#3  0x00007f608a9b4aea in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.55.0\r\n#4  0x00007f608904f0a4 in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#5  0x00007f6088d8404d in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\n\r\nThread 1 (Thread 0x7f608bbf0740 (LWP 30)):\r\n#0  0x00007f608905308f in pthread_cond_wait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\r\n#1  0x00007f608b568a9b in boost::condition_variable::wait (this=0x7f608dc2e4e8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73\r\n#2  0x00007f608a9b55ac in boost::thread::join_noexcept() () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.55.0\r\n#3  0x00007f608b5693e6 in join (this=0x7f608dbcc170) at /usr/include/boost/thread/detail/thread.hpp:756\r\n#4  boost::thread_group::join_all (this=this@entry=0x7ffe01924e30) at /usr/include/boost/thread/detail/thread_group.hpp:118\r\n#5  0x00007f608b566c7e in scheduler_tests::manythreads::test_method (this=this@entry=0x7ffe01925b27) at test/scheduler_tests.cpp:109\r\n#6  0x00007f608b5670ce in scheduler_tests::manythreads_invoker () at test/scheduler_tests.cpp:43\r\n#7  0x00007f608b4e0bf7 in invoke<void (*)()> (this=<optimized out>, f=<optimized out>) at /usr/include/boost/test/utils/callback.hpp:56\r\n#8  boost::unit_test::ut_detail::callback0_impl_t<boost::unit_test::ut_detail::unused, void (*)()>::invoke (this=<optimized out>)\r\n    at /usr/include/boost/test/utils/callback.hpp:89\r\n#9  0x00007f608a55d8f1 in ?? () from /usr/lib/x86_64-linux-gnu/libboost_unit_test_framework.so.1.55.0\r\n#10 0x00007f608a5346de in boost::execution_monitor::catch_signals(boost::unit_test::callback0<int> const&) ()\r\n   from /usr/lib/x86_64-linux-gnu/libboost_unit_test_framework.so.1.55.0\r\n#11 0x00007f608a534f33 in boost::execution_monitor::execute(boost::unit_test::callback0<int> const&) ()\r\n   from /usr/lib/x86_64-linux-gnu/libboost_unit_test_framework.so.1.55.0\r\n#12 0x00007f608a55da05 in boost::unit_test::unit_test_monitor_t::execute_and_translate(boost::unit_test::test_case const&) ()\r\n   from /usr/lib/x86_64-linux-gnu/libboost_unit_test_framework.so.1.55.0\r\n#13 0x00007f608a5444af in boost::unit_test::framework_impl::visit(boost::unit_test::test_case const&) ()\r\n   from /usr/lib/x86_64-linux-gnu/libboost_unit_test_framework.so.1.55.0\r\n#14 0x00007f608a578a33 in boost::unit_test::traverse_test_tree(boost::unit_test::test_suite const&, boost::unit_test::test_tree_visitor&) ()\r\n   from /usr/lib/x86_64-linux-gnu/libboost_unit_test_framework.so.1.55.0\r\n#15 0x00007f608a578a33 in boost::unit_test::traverse_test_tree(boost::unit_test::test_suite const&, boost::unit_test::test_tree_visitor&) ()\r\n   from /usr/lib/x86_64-linux-gnu/libboost_unit_test_framework.so.1.55.0\r\n#16 0x00007f608a53f9fa in boost::unit_test::framework::run(unsigned long, bool) ()\r\n   from /usr/lib/x86_64-linux-gnu/libboost_unit_test_framework.so.1.55.0\r\n#17 0x00007f608a55b697 in boost::unit_test::unit_test_main(bool (*)(), int, char**) ()\r\n   from /usr/lib/x86_64-linux-gnu/libboost_unit_test_framework.so.1.55.0\r\n#18 0x00007f6088cbfb45 in __libc_start_main () from /lib/x86_64-linux-gnu/libc.so.6\r\n#19 0x00007f608b4c7b7e in _start ()\r\n...\r\n```\r\n\r\nSo it looks like [scheduler.cpp#L40](https://github.com/bitcoin/bitcoin/blob/v0.11.0/src/scheduler.cpp#L40)?",
      "created_at" : "2015-08-14T04:03:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6540#issuecomment-130959080",
      "id" : 130959080,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6540",
      "updated_at" : "2015-08-14T14:36:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/130959080",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/222581?v=3",
         "events_url" : "https://api.github.com/users/posita/events{/privacy}",
         "followers_url" : "https://api.github.com/users/posita/followers",
         "following_url" : "https://api.github.com/users/posita/following{/other_user}",
         "gists_url" : "https://api.github.com/users/posita/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/posita",
         "id" : 222581,
         "login" : "posita",
         "organizations_url" : "https://api.github.com/users/posita/orgs",
         "received_events_url" : "https://api.github.com/users/posita/received_events",
         "repos_url" : "https://api.github.com/users/posita/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/posita/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/posita/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/posita"
      }
   }
]
