[
   {
      "body" : "concept ACK",
      "created_at" : "2015-08-21T05:20:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-133289586",
      "id" : 133289586,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-21T05:20:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/133289586",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37608063"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37608063"
         }
      },
      "body" : "Oh actually, I was thinking for the first release, not only allow pfrom->nVersion < NO_BLOOM_VERSION clients to send filterX messages, but also respond to them, to give a bit of time for those clients to be upgraded. (this could even be gated to some fixed deadline in the future)\r\n\r\nMy original logic re: disconnecting clients immediately was to give those clients an opportunity to find another node quickly.",
      "commit_id" : "1fcc433a65311b6c113fd9f29f4b0e40a746bc32",
      "created_at" : "2015-08-21T05:50:11Z",
      "diff_hunk" : "@@ -4590,6 +4590,19 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n     }\n \n \n+    else if (!(nLocalServices & NODE_BLOOM) &&\n+              (strCommand == \"filterload\" ||\n+               strCommand == \"filteradd\" ||\n+               strCommand == \"filterclear\"))\n+    {\n+        if (pfrom->nVersion >= NO_BLOOM_VERSION)\n+            Misbehaving(pfrom->GetId(), 100);\n+        //TODO: Enable this after reasonable network upgrade\n+        //else\n+        //    pfrom->fDisconnect = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37608063",
      "id" : 37608063,
      "original_commit_id" : "2fec72d37dfb6e66648dd9dc843fdfba7b493180",
      "original_position" : 13,
      "path" : "src/main.cpp",
      "position" : 15,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579",
      "updated_at" : "2015-08-21T17:08:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37608063",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37608079"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37608079"
         }
      },
      "body" : "stray space",
      "commit_id" : "1fcc433a65311b6c113fd9f29f4b0e40a746bc32",
      "created_at" : "2015-08-21T05:50:43Z",
      "diff_hunk" : "@@ -49,12 +49,13 @@ UniValue getinfo(const UniValue& params, bool fHelp)\n             \"{\\n\"\n             \"  \\\"version\\\": xxxxx,           (numeric) the server version\\n\"\n             \"  \\\"protocolversion\\\": xxxxx,   (numeric) the protocol version\\n\"\n+            \"  \\\"services\\\": \\\"xxxxxxxx\\\",     (string) the local services\\n\"\n             \"  \\\"walletversion\\\": xxxxx,     (numeric) the wallet version\\n\"\n             \"  \\\"balance\\\": xxxxxxx,         (numeric) the total bitcoin balance of the wallet\\n\"\n             \"  \\\"blocks\\\": xxxxxx,           (numeric) the current number of blocks processed in the server\\n\"\n             \"  \\\"timeoffset\\\": xxxxx,        (numeric) the time offset\\n\"\n             \"  \\\"connections\\\": xxxxx,       (numeric) the number of connections\\n\"\n-            \"  \\\"proxy\\\": \\\"host:port\\\",     (string, optional) the proxy used by the server\\n\"\n+            \"  \\\"proxy\\\": \\\"host:port\\\",       (string, optional) the proxy used by the server\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37608079",
      "id" : 37608079,
      "original_commit_id" : "2fec72d37dfb6e66648dd9dc843fdfba7b493180",
      "original_position" : 11,
      "path" : "src/rpcmisc.cpp",
      "position" : 11,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579",
      "updated_at" : "2015-08-21T17:08:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37608079",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37608087"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37608087"
         }
      },
      "body" : "another stray space",
      "commit_id" : "1fcc433a65311b6c113fd9f29f4b0e40a746bc32",
      "created_at" : "2015-08-21T05:50:55Z",
      "diff_hunk" : "@@ -62,7 +63,7 @@ UniValue getinfo(const UniValue& params, bool fHelp)\n             \"  \\\"unlocked_until\\\": ttt,      (numeric) the timestamp in seconds since epoch (midnight Jan 1 1970 GMT) that the wallet is unlocked for transfers, or 0 if the wallet is locked\\n\"\n             \"  \\\"paytxfee\\\": x.xxxx,         (numeric) the transaction fee set in \" + CURRENCY_UNIT + \"/kB\\n\"\n             \"  \\\"relayfee\\\": x.xxxx,         (numeric) minimum relay fee for non-free transactions in \" + CURRENCY_UNIT + \"/kB\\n\"\n-            \"  \\\"errors\\\": \\\"...\\\"           (string) any error messages\\n\"\n+            \"  \\\"errors\\\": \\\"...\\\"             (string) any error messages\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37608087",
      "id" : 37608087,
      "original_commit_id" : "2fec72d37dfb6e66648dd9dc843fdfba7b493180",
      "original_position" : 20,
      "path" : "src/rpcmisc.cpp",
      "position" : 20,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579",
      "updated_at" : "2015-08-21T17:08:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37608087",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37608346"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37608346"
         }
      },
      "body" : "I believe that there is sufficient time for clients that need the NODE_BLOOM commands to upgrade before a client with this patch is even significantly deployed to the network, much less bloom filters widely disabled.",
      "commit_id" : "1fcc433a65311b6c113fd9f29f4b0e40a746bc32",
      "created_at" : "2015-08-21T05:59:38Z",
      "diff_hunk" : "@@ -4590,6 +4590,19 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n     }\n \n \n+    else if (!(nLocalServices & NODE_BLOOM) &&\n+              (strCommand == \"filterload\" ||\n+               strCommand == \"filteradd\" ||\n+               strCommand == \"filterclear\"))\n+    {\n+        if (pfrom->nVersion >= NO_BLOOM_VERSION)\n+            Misbehaving(pfrom->GetId(), 100);\n+        //TODO: Enable this after reasonable network upgrade\n+        //else\n+        //    pfrom->fDisconnect = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37608346",
      "id" : 37608346,
      "original_commit_id" : "2fec72d37dfb6e66648dd9dc843fdfba7b493180",
      "original_position" : 13,
      "path" : "src/main.cpp",
      "position" : 15,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579",
      "updated_at" : "2015-08-21T17:08:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37608346",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37608662"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37608662"
         }
      },
      "body" : "Is the else part required? With a score of 100 it get directly banned (with the default `-banscore`) anyways?",
      "commit_id" : "1fcc433a65311b6c113fd9f29f4b0e40a746bc32",
      "created_at" : "2015-08-21T06:10:12Z",
      "diff_hunk" : "@@ -4590,6 +4590,19 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n     }\n \n \n+    else if (!(nLocalServices & NODE_BLOOM) &&\n+              (strCommand == \"filterload\" ||\n+               strCommand == \"filteradd\" ||\n+               strCommand == \"filterclear\"))\n+    {\n+        if (pfrom->nVersion >= NO_BLOOM_VERSION)\n+            Misbehaving(pfrom->GetId(), 100);\n+        //TODO: Enable this after reasonable network upgrade",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37608662",
      "id" : 37608662,
      "original_commit_id" : "2fec72d37dfb6e66648dd9dc843fdfba7b493180",
      "original_position" : 11,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579",
      "updated_at" : "2015-08-21T17:08:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37608662",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "utACK.",
      "created_at" : "2015-08-21T06:11:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-133298746",
      "id" : 133298746,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-21T06:11:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/133298746",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37608724"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37608724"
         }
      },
      "body" : "True, and of course it's easy to patch the DNS seeds that the affected wallets use to only return nodes that have NODE_BLOOM set - BitcoinJ doesn't do any peer addr caching, relying totally on the DNS seeds every time.",
      "commit_id" : "1fcc433a65311b6c113fd9f29f4b0e40a746bc32",
      "created_at" : "2015-08-21T06:11:58Z",
      "diff_hunk" : "@@ -4590,6 +4590,19 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n     }\n \n \n+    else if (!(nLocalServices & NODE_BLOOM) &&\n+              (strCommand == \"filterload\" ||\n+               strCommand == \"filteradd\" ||\n+               strCommand == \"filterclear\"))\n+    {\n+        if (pfrom->nVersion >= NO_BLOOM_VERSION)\n+            Misbehaving(pfrom->GetId(), 100);\n+        //TODO: Enable this after reasonable network upgrade\n+        //else\n+        //    pfrom->fDisconnect = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37608724",
      "id" : 37608724,
      "original_commit_id" : "2fec72d37dfb6e66648dd9dc843fdfba7b493180",
      "original_position" : 13,
      "path" : "src/main.cpp",
      "position" : 15,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579",
      "updated_at" : "2015-08-21T17:08:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37608724",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37608755"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37608755"
         }
      },
      "body" : "Well, the idea would be that >= NO_BLOOM_VERSION should *know* not to send filters to non-bloom-supporting peers - it's misbehavior in that case.",
      "commit_id" : "1fcc433a65311b6c113fd9f29f4b0e40a746bc32",
      "created_at" : "2015-08-21T06:13:14Z",
      "diff_hunk" : "@@ -4590,6 +4590,19 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n     }\n \n \n+    else if (!(nLocalServices & NODE_BLOOM) &&\n+              (strCommand == \"filterload\" ||\n+               strCommand == \"filteradd\" ||\n+               strCommand == \"filterclear\"))\n+    {\n+        if (pfrom->nVersion >= NO_BLOOM_VERSION)\n+            Misbehaving(pfrom->GetId(), 100);\n+        //TODO: Enable this after reasonable network upgrade",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37608755",
      "id" : 37608755,
      "original_commit_id" : "2fec72d37dfb6e66648dd9dc843fdfba7b493180",
      "original_position" : 11,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579",
      "updated_at" : "2015-08-21T17:08:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37608755",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "utACK (testing now)",
      "created_at" : "2015-08-21T06:14:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-133299448",
      "id" : 133299448,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-21T06:14:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/133299448",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "body" : "Concept ACK.\r\nProcess-wise, this indeed does need a BIP.\r\n",
      "created_at" : "2015-08-21T08:00:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-133320397",
      "id" : 133320397,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-21T08:00:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/133320397",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "BIP on the mailing list (still unnumbered).\r\n\r\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-August/010535.html",
      "created_at" : "2015-08-21T10:25:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-133365934",
      "id" : 133365934,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-21T10:26:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/133365934",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13894884?v=3",
         "events_url" : "https://api.github.com/users/evGUzQIEQaL4/events{/privacy}",
         "followers_url" : "https://api.github.com/users/evGUzQIEQaL4/followers",
         "following_url" : "https://api.github.com/users/evGUzQIEQaL4/following{/other_user}",
         "gists_url" : "https://api.github.com/users/evGUzQIEQaL4/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/evGUzQIEQaL4",
         "id" : 13894884,
         "login" : "evGUzQIEQaL4",
         "organizations_url" : "https://api.github.com/users/evGUzQIEQaL4/orgs",
         "received_events_url" : "https://api.github.com/users/evGUzQIEQaL4/received_events",
         "repos_url" : "https://api.github.com/users/evGUzQIEQaL4/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/evGUzQIEQaL4/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/evGUzQIEQaL4/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/evGUzQIEQaL4"
      }
   },
   {
      "body" : "Libbitcoin doesn't support BIP37 (and doesn't intend to). This allows us to fix the resulting protocol break.",
      "created_at" : "2015-08-21T11:18:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-133375376",
      "id" : 133375376,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-21T11:18:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/133375376",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1369335?v=3",
         "events_url" : "https://api.github.com/users/evoskuil/events{/privacy}",
         "followers_url" : "https://api.github.com/users/evoskuil/followers",
         "following_url" : "https://api.github.com/users/evoskuil/following{/other_user}",
         "gists_url" : "https://api.github.com/users/evoskuil/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/evoskuil",
         "id" : 1369335,
         "login" : "evoskuil",
         "organizations_url" : "https://api.github.com/users/evoskuil/orgs",
         "received_events_url" : "https://api.github.com/users/evoskuil/received_events",
         "repos_url" : "https://api.github.com/users/evoskuil/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/evoskuil/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/evoskuil/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/evoskuil"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37655045"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37655045"
         }
      },
      "body" : "Nope, purposeful space. It makes it lign up on RPC output.",
      "commit_id" : "1fcc433a65311b6c113fd9f29f4b0e40a746bc32",
      "created_at" : "2015-08-21T17:07:06Z",
      "diff_hunk" : "@@ -49,12 +49,13 @@ UniValue getinfo(const UniValue& params, bool fHelp)\n             \"{\\n\"\n             \"  \\\"version\\\": xxxxx,           (numeric) the server version\\n\"\n             \"  \\\"protocolversion\\\": xxxxx,   (numeric) the protocol version\\n\"\n+            \"  \\\"services\\\": \\\"xxxxxxxx\\\",     (string) the local services\\n\"\n             \"  \\\"walletversion\\\": xxxxx,     (numeric) the wallet version\\n\"\n             \"  \\\"balance\\\": xxxxxxx,         (numeric) the total bitcoin balance of the wallet\\n\"\n             \"  \\\"blocks\\\": xxxxxx,           (numeric) the current number of blocks processed in the server\\n\"\n             \"  \\\"timeoffset\\\": xxxxx,        (numeric) the time offset\\n\"\n             \"  \\\"connections\\\": xxxxx,       (numeric) the number of connections\\n\"\n-            \"  \\\"proxy\\\": \\\"host:port\\\",     (string, optional) the proxy used by the server\\n\"\n+            \"  \\\"proxy\\\": \\\"host:port\\\",       (string, optional) the proxy used by the server\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37655045",
      "id" : 37655045,
      "original_commit_id" : "2fec72d37dfb6e66648dd9dc843fdfba7b493180",
      "original_position" : 11,
      "path" : "src/rpcmisc.cpp",
      "position" : 11,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579",
      "updated_at" : "2015-08-21T17:08:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37655045",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37655047"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37655047"
         }
      },
      "body" : "Nope, purposeful space. It makes it lign up on RPC output.",
      "commit_id" : "1fcc433a65311b6c113fd9f29f4b0e40a746bc32",
      "created_at" : "2015-08-21T17:07:09Z",
      "diff_hunk" : "@@ -62,7 +63,7 @@ UniValue getinfo(const UniValue& params, bool fHelp)\n             \"  \\\"unlocked_until\\\": ttt,      (numeric) the timestamp in seconds since epoch (midnight Jan 1 1970 GMT) that the wallet is unlocked for transfers, or 0 if the wallet is locked\\n\"\n             \"  \\\"paytxfee\\\": x.xxxx,         (numeric) the transaction fee set in \" + CURRENCY_UNIT + \"/kB\\n\"\n             \"  \\\"relayfee\\\": x.xxxx,         (numeric) minimum relay fee for non-free transactions in \" + CURRENCY_UNIT + \"/kB\\n\"\n-            \"  \\\"errors\\\": \\\"...\\\"           (string) any error messages\\n\"\n+            \"  \\\"errors\\\": \\\"...\\\"             (string) any error messages\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37655047",
      "id" : 37655047,
      "original_commit_id" : "2fec72d37dfb6e66648dd9dc843fdfba7b493180",
      "original_position" : 20,
      "path" : "src/rpcmisc.cpp",
      "position" : 20,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579",
      "updated_at" : "2015-08-21T17:08:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37655047",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37655176"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37655176"
         }
      },
      "body" : "Oops, yes, I meant to do what @petertodd said first, happens when you write code then change it without thinking :).",
      "commit_id" : "1fcc433a65311b6c113fd9f29f4b0e40a746bc32",
      "created_at" : "2015-08-21T17:08:45Z",
      "diff_hunk" : "@@ -4590,6 +4590,19 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n     }\n \n \n+    else if (!(nLocalServices & NODE_BLOOM) &&\n+              (strCommand == \"filterload\" ||\n+               strCommand == \"filteradd\" ||\n+               strCommand == \"filterclear\"))\n+    {\n+        if (pfrom->nVersion >= NO_BLOOM_VERSION)\n+            Misbehaving(pfrom->GetId(), 100);\n+        //TODO: Enable this after reasonable network upgrade\n+        //else\n+        //    pfrom->fDisconnect = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#discussion_r37655176",
      "id" : 37655176,
      "original_commit_id" : "2fec72d37dfb6e66648dd9dc843fdfba7b493180",
      "original_position" : 13,
      "path" : "src/main.cpp",
      "position" : 15,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6579",
      "updated_at" : "2015-08-21T17:08:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/37655176",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "I'm happy to see this being added.  We've wanted this in btcd for quite some time as currently the only ways to not support bloom filters are either a protocol break or simply not applying the filters while claiming to do so.",
      "created_at" : "2015-08-21T17:59:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-133513576",
      "id" : 133513576,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-21T18:01:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/133513576",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2115102?v=3",
         "events_url" : "https://api.github.com/users/davecgh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/davecgh/followers",
         "following_url" : "https://api.github.com/users/davecgh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/davecgh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/davecgh",
         "id" : 2115102,
         "login" : "davecgh",
         "organizations_url" : "https://api.github.com/users/davecgh/orgs",
         "received_events_url" : "https://api.github.com/users/davecgh/received_events",
         "repos_url" : "https://api.github.com/users/davecgh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/davecgh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/davecgh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/davecgh"
      }
   },
   {
      "body" : "Tested ACK (tested w/ Android Bitcoin Wallet, rescans with and without NODE_BLOOM work as expected)",
      "created_at" : "2015-08-24T02:09:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-133991022",
      "id" : 133991022,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-24T02:09:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/133991022",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "ACK conditional on not breaking notable groups of users in the field.  @petertodd testing w/ Android Bitcoin Wallet is much appreciated and is excellent test coverage.\r\n\r\nThe \"some wallets are moving to centralized servers\" argument is weak.  The desire is robust service for users - especially those using decentralized wallets; would not want to hurt active, decentralized solutions because some other wallets are abandoning DC. &lt;/general principle&gt;\r\n",
      "created_at" : "2015-08-24T03:47:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-134009655",
      "id" : 134009655,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-24T03:48:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/134009655",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Hum.  Some further thoughts:\r\n\r\nThe general goal is to phase out this feature, yes?\r\n\r\nCurrently we have bloom support + no node_bloom bit.\r\n\r\nSeems silly to introduce a NODE_BLOOM bit only to eliminate bloom support - the natural end state of a default-bloom-disabled eventual ship mode after this + further changes, subsequently widely deployed.\r\n\r\nFurther, the end user client PoV is that P2P nodes that _do_ support a protocol version with fRelayTx randomly do not respond to filter*  NODE_BLOOM does not help the end user client.  Old software will not know about this new bit, and will randomly fail.\r\n\r\nTherefore, why add planned-obsolete bit?\r\n\r\nAnyone wanting to keep bloom support could advertise the service via #4657 (NODE_EXT_SERVICE) or a similar optional-service advertisement & rendezvous mechanism.  The breakage (explained above) is the same for end users as default-disabled NODE_BLOOM.  \r\n",
      "created_at" : "2015-08-24T04:04:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-134021930",
      "id" : 134021930,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-24T04:04:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/134021930",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "> The general goal is to phase out this feature, yes?\r\n\r\nI didn't bump the BIP with that in mind. The intent is just to be able to signal to wallet users that there's no point wasting your time and bandwidth sending filterload messages that are never going to do anything. Many SPV wallets seem to blindly follow whatever DNS seeds return, so if you punt them they just come straight back with the same request. libbitcoin, bitcoin-ruby, pseudonode and btcd already break the expected P2P protocol by simply ignoring these messages. \r\n\r\nIf and when the network evolves to have partial history storage nodes, or some majority of pruned nodes this messaging will need to happen one way or another as nodes will simply not be able to respond with merkleblock messages for blocks they do not have on disk. \r\n\r\nI don't really have an opinion on how this is executed, I would just like both to be able to \r\n\r\n* signal intent to ignore those messages so I don't denial of service attack peoples wallets\r\n\r\n* easily disable BIP37 on high reliability nodes without having to manually patch ",
      "created_at" : "2015-08-24T04:10:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-134024497",
      "id" : 134024497,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-24T04:41:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/134024497",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13894884?v=3",
         "events_url" : "https://api.github.com/users/evGUzQIEQaL4/events{/privacy}",
         "followers_url" : "https://api.github.com/users/evGUzQIEQaL4/followers",
         "following_url" : "https://api.github.com/users/evGUzQIEQaL4/following{/other_user}",
         "gists_url" : "https://api.github.com/users/evGUzQIEQaL4/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/evGUzQIEQaL4",
         "id" : 13894884,
         "login" : "evGUzQIEQaL4",
         "organizations_url" : "https://api.github.com/users/evGUzQIEQaL4/orgs",
         "received_events_url" : "https://api.github.com/users/evGUzQIEQaL4/received_events",
         "repos_url" : "https://api.github.com/users/evGUzQIEQaL4/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/evGUzQIEQaL4/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/evGUzQIEQaL4/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/evGUzQIEQaL4"
      }
   },
   {
      "body" : "IMO, the goal of this is not to phase out the feature. Sure, it could be phased out at some point but some SPV wallets are using it so there is no hurry.\r\n\r\nThe goal is to make it optional for node implementations to implement it. As bloom filters are unnecessary for inter-full-node communications, IMO coupling NODE_NETWORK and support for bloom filters was a mistake and this corrects that.\r\n",
      "created_at" : "2015-08-24T10:31:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-134139438",
      "id" : 134139438,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-24T10:31:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/134139438",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "NACK - we went around all this in 2013 and the same arguments were made then. Nothing has changed since that time.\r\n\r\nThere is no need to make this optional, it doesn't help anyone and it can easily hurt. For instance, the next thing that will happen is that Peter Todd runs around telling everyone it's dangerous and they should disable it (he is wrong, but he'll do so anyway).\r\n\r\nYes, obviously it adds work to fully implement the protocol. So does implementing the other bits. If you want to write a full serving node, then you should implement all of the Bitcoin protocol, not just the bits of it you happen to like. If you don't want to do that, or are worried about unpredictable resource usage, then don't open a listening port: very simple. You are then a client and can implement whatever minimum subset you like.\r\n\r\nWRT phasing out - it's very obviously the intent to do exactly that, as Matt said on the BIP thread:\r\n\r\n> The proposal will not break any existing clients in the first release. After sufficient time to upgrade SPV clients, a new version will be released which will result in older SPV clients finding themselves disconnected from peers when they send filter* commands, so they can go find other peers which do support bloom filtering\r\n\r\nSPV wallets will not stop using this feature. There is no \"phasing out\". There is only Bitcoin Core deciding it doesn't want to support P2P smartphone wallets anymore. And why would you do that?",
      "created_at" : "2015-08-24T14:20:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-134222138",
      "id" : 134222138,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-24T14:20:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/134222138",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "I agree with @mikehearn on this one. Bloom filters are important for smartphone wallets and nothing is won by not supporting them.",
      "created_at" : "2015-08-24T14:32:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-134227463",
      "id" : 134227463,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-24T14:32:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/134227463",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/743306?v=3",
         "events_url" : "https://api.github.com/users/schildbach/events{/privacy}",
         "followers_url" : "https://api.github.com/users/schildbach/followers",
         "following_url" : "https://api.github.com/users/schildbach/following{/other_user}",
         "gists_url" : "https://api.github.com/users/schildbach/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/schildbach",
         "id" : 743306,
         "login" : "schildbach",
         "organizations_url" : "https://api.github.com/users/schildbach/orgs",
         "received_events_url" : "https://api.github.com/users/schildbach/received_events",
         "repos_url" : "https://api.github.com/users/schildbach/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/schildbach/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/schildbach/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/schildbach"
      }
   },
   {
      "body" : "I'm personally in support with the intent pointed out by @evGUzQIEQaL4,  such that the PR should:\r\n\r\n* Signal intent to ignore those messages so I don't denial of service attack peoples wallets\r\n* [Allow ability to] easily disable BIP37 on high reliability nodes without having to manually patch\r\n\r\nI also think that the current default behaviour of supporting BIP37 should **not** be disabled until a suitable replacement is found.\r\nNACK for `NO_BLOOM_VERSION`,  concept ACK for listed intents.",
      "created_at" : "2015-08-24T14:44:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-134230406",
      "id" : 134230406,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-24T14:54:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/134230406",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "1) It sounds like this does negatively impact major user segments.\r\n\r\n2) The problem of bit inversion & backwards compatibility remains.  In-field client experience will be of nodes randomly failing to produce a proper filter* response as expected, because they are unaware of NODE_BLOOM.\r\n",
      "created_at" : "2015-08-24T14:51:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-134232071",
      "id" : 134232071,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-24T14:51:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/134232071",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "NACK from me, I'll repeat what I said last year: \"no consensus this is a good idea.\"",
      "created_at" : "2015-08-24T15:08:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-134239911",
      "id" : 134239911,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-24T15:08:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/134239911",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Exactly @dcousens.\r\nFYI this **doesn't** change the default of supporting bloom filters in Bitcoin Core. It does make it possible to *signal* not supporting it for implementations that - generally already -  do not support it (such as btcd, obelisk)\r\n```c++\r\nif (GetBoolArg(\"-peerbloomfilters\", true))\r\n    nLocalServices |= NODE_BLOOM;\r\n```\r\nMost SPV wallets are mobile applications, thus easily updated to pay attention to this bit.",
      "created_at" : "2015-08-24T15:09:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-134240037",
      "id" : 134240037,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-24T15:09:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/134240037",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "\"I assume applications may be easily updated\" is a poor approach to backwards compat.\r\n",
      "created_at" : "2015-08-24T15:10:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-134240995",
      "id" : 134240995,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-24T15:10:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/134240995",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Well the alternative (as currently used) is to ignore bloom commands without signaling it. Or disconnecting clients that request filtering functionality.\r\nIs that better for backwards compatiblity?",
      "created_at" : "2015-08-24T15:12:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6579#issuecomment-134241719",
      "id" : 134241719,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6579",
      "updated_at" : "2015-08-24T15:12:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/134241719",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
