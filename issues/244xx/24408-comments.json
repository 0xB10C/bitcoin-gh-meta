[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24408#discussion_r811327243"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24408"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/811327243"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It looks like there aren't any dedicated test files for `getmempoolentry`, `getmempoolancestors` and `getmempooldescendants` (I wanted to insert my tests in such a file).\r\n\r\nShould I create a new `rpc_getmempoolpendingtx.py` to put more tests (e.g. some failure cases)?",
      "commit_id" : "cc038b6b09ecc36b2f915669116eddf8b6018cf9",
      "created_at" : "2022-02-21T17:27:55Z",
      "diff_hunk" : "@@ -100,6 +100,11 @@ def run_test(self):\n             entry = self.nodes[0].getmempoolentry(x)\n             assert_equal(entry, mempool[x])\n \n+            # Check that getmempoolspendingtx is consistent with getrawmempool",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24408#discussion_r811327243",
      "id" : 811327243,
      "line" : 103,
      "node_id" : "PRRC_kwDOABII584wW98L",
      "original_commit_id" : "2a7db52cec1cb1c4962e384374da6d79fd200b61",
      "original_line" : 103,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/functional/mempool_packages.py",
      "position" : 4,
      "pull_request_review_id" : 888961324,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24408",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/811327243/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-21T17:27:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/811327243",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/31281497?v=4",
         "events_url" : "https://api.github.com/users/t-bast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/t-bast/followers",
         "following_url" : "https://api.github.com/users/t-bast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/t-bast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/t-bast",
         "id" : 31281497,
         "login" : "t-bast",
         "node_id" : "MDQ6VXNlcjMxMjgxNDk3",
         "organizations_url" : "https://api.github.com/users/t-bast/orgs",
         "received_events_url" : "https://api.github.com/users/t-bast/received_events",
         "repos_url" : "https://api.github.com/users/t-bast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/t-bast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/t-bast"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "For this usecase, why not using `getmempoolentry`'s `spentby` field?",
      "created_at" : "2022-02-21T17:28:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24408#issuecomment-1047099947",
      "id" : 1047099947,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24408",
      "node_id" : "IC_kwDOABII584-aXor",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047099947/reactions"
      },
      "updated_at" : "2022-02-21T17:28:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047099947",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> For this usecase, why not using getmempoolentry's spentby field?\r\n\r\nBecause that wouldn't work for confirmed utxos!\r\n\r\nMy funding transaction (or any L2 protocol initial state) has been confirmed on-chain and I want to check who spends it in the mempool. I can't use `getmempoolentry` because I don't know yet the `txid` of the spending tx...\r\n\r\nMaybe the RPC name is misleading, because its inputs (`txid` and `vout`) aren't necessarily for a mempool tx (and most of the time will not), but the RPC output will be a mempool tx (or `null`).",
      "created_at" : "2022-02-21T17:30:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24408#issuecomment-1047101622",
      "id" : 1047101622,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24408",
      "node_id" : "IC_kwDOABII584-aYC2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047101622/reactions"
      },
      "updated_at" : "2022-02-21T17:31:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047101622",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/31281497?v=4",
         "events_url" : "https://api.github.com/users/t-bast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/t-bast/followers",
         "following_url" : "https://api.github.com/users/t-bast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/t-bast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/t-bast",
         "id" : 31281497,
         "login" : "t-bast",
         "node_id" : "MDQ6VXNlcjMxMjgxNDk3",
         "organizations_url" : "https://api.github.com/users/t-bast/orgs",
         "received_events_url" : "https://api.github.com/users/t-bast/received_events",
         "repos_url" : "https://api.github.com/users/t-bast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/t-bast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/t-bast"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Right, sorry, i shouldn't have inferred the behaviour from the name. I see it's in the context of `txindex` then, so i don't have an opinion.",
      "created_at" : "2022-02-21T17:39:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24408#issuecomment-1047107192",
      "id" : 1047107192,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24408",
      "node_id" : "IC_kwDOABII584-aZZ4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047107192/reactions"
      },
      "updated_at" : "2022-02-21T17:39:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047107192",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "It's much weaker than `txindex`, it's exposing a `txindex` for mempool contents, which is why I think it's acceptable (I'm only querying existing mempool functions).",
      "created_at" : "2022-02-21T17:50:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24408#issuecomment-1047114442",
      "id" : 1047114442,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24408",
      "node_id" : "IC_kwDOABII584-abLK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047114442/reactions"
      },
      "updated_at" : "2022-02-21T17:51:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047114442",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/31281497?v=4",
         "events_url" : "https://api.github.com/users/t-bast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/t-bast/followers",
         "following_url" : "https://api.github.com/users/t-bast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/t-bast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/t-bast",
         "id" : 31281497,
         "login" : "t-bast",
         "node_id" : "MDQ6VXNlcjMxMjgxNDk3",
         "organizations_url" : "https://api.github.com/users/t-bast/orgs",
         "received_events_url" : "https://api.github.com/users/t-bast/received_events",
         "repos_url" : "https://api.github.com/users/t-bast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/t-bast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/t-bast"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > For this usecase, why not using getmempoolentry's spentby field?\r\n> \r\n> Because that wouldn't work for confirmed utxos!\r\n> \r\n> My funding transaction (or any L2 protocol initial state) has been confirmed on-chain and I want to check who spends it in the mempool. I can't use `getmempoolentry` because I don't know yet the `txid` of the spending tx...\r\n> \r\n> Maybe the RPC name is misleading, because its inputs (`txid` and `vout`) aren't necessarily for a mempool tx (and most of the time will not), but the RPC output will be a mempool tx (or `null`).\r\n\r\nIs it possible to add it in existing RPC `getmempoolentry` by adding more arguments (optional)?",
      "created_at" : "2022-02-22T02:04:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24408#issuecomment-1047356352",
      "id" : 1047356352,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24408",
      "node_id" : "IC_kwDOABII584-bWPA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047356352/reactions"
      },
      "updated_at" : "2022-02-22T02:04:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047356352",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Is it possible to add it in existing RPC getmempoolentry by adding more arguments (optional)?\r\n\r\nI'm not sure it would be very ergonomic, because `getmempoolentry` requires the `txid` of the mempool transaction you're fetching. If we wanted to overload it, it would have the following two distinct sets of behaviors:\r\n\r\n- a `txid` is provided, so we return a mempool transaction that matches this `txid`\r\n- a `txid` (probably named differently to avoid confusion) and a `vout` are provided, so we return a mempool transaction spending this given `txid:vout`\r\n\r\nCorrectly defining the arguments lists (and which are required) to support both use-cases without creating confusion seems hard to be honest...",
      "created_at" : "2022-02-22T08:48:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24408#issuecomment-1047557230",
      "id" : 1047557230,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24408",
      "node_id" : "IC_kwDOABII584-cHRu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047557230/reactions"
      },
      "updated_at" : "2022-02-22T08:48:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047557230",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/31281497?v=4",
         "events_url" : "https://api.github.com/users/t-bast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/t-bast/followers",
         "following_url" : "https://api.github.com/users/t-bast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/t-bast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/t-bast",
         "id" : 31281497,
         "login" : "t-bast",
         "node_id" : "MDQ6VXNlcjMxMjgxNDk3",
         "organizations_url" : "https://api.github.com/users/t-bast/orgs",
         "received_events_url" : "https://api.github.com/users/t-bast/received_events",
         "repos_url" : "https://api.github.com/users/t-bast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/t-bast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/t-bast"
      }
   }
]
