[
   {
      "body" : "ACK",
      "created_at" : "2017-08-11T12:21:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11027#issuecomment-321798704",
      "id" : 321798704,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11027",
      "updated_at" : "2017-08-11T12:21:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/321798704",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "utACK e029c6e, as this is a bug fix. Though, could this potentially break client when `-rpcserialversion=0`? I am thinking about how different json implementations handle duplicate keys in a dict, where each key points to a different value.",
      "created_at" : "2017-08-11T13:21:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11027#issuecomment-321810304",
      "id" : 321810304,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11027",
      "updated_at" : "2017-08-11T13:21:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/321810304",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "@MarcoFalke Hmm. That might be a problem since `RPCSerializationFlags` are not passed to `EncodeHexTx` in `TxToUniv`.",
      "created_at" : "2017-08-11T18:54:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11027#issuecomment-321892253",
      "id" : 321892253,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11027",
      "updated_at" : "2017-08-11T18:54:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/321892253",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "> That might be a problem since `RPCSerializationFlags` are not passed to `EncodeHexTx` in `TxToUniv`.\r\n\r\nThat seems to be a bug on its own.",
      "created_at" : "2017-08-11T19:00:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11027#issuecomment-321893521",
      "id" : 321893521,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11027",
      "updated_at" : "2017-08-11T19:00:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/321893521",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Another thing is that not everything that uses `TxToUniv` needs to have hex output, e.g. `decoderawtransaction`",
      "created_at" : "2017-08-11T19:05:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11027#issuecomment-321894569",
      "id" : 321894569,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11027",
      "updated_at" : "2017-08-11T19:05:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/321894569",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "I added a commit which passes the `RPCSerializationFlags` to `TxToUniv` and a boolean for whether to give `hex` output or not.",
      "created_at" : "2017-08-11T19:22:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11027#issuecomment-321897893",
      "id" : 321897893,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11027",
      "updated_at" : "2017-08-11T19:22:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/321897893",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11027#discussion_r132772723"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/132772723"
         }
      },
      "body" : "Marking a by-value parameter as `const` is redundant. Also, style nit on `serializeFlags`.",
      "commit_id" : "9381d8625b8319f4b6c1042953d81eef577074f2",
      "created_at" : "2017-08-11T20:01:12Z",
      "diff_hunk" : "@@ -31,6 +31,6 @@ UniValue ValueFromAmount(const CAmount& amount);\n std::string FormatScript(const CScript& script);\n std::string EncodeHexTx(const CTransaction& tx, const int serializeFlags = 0);\n void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex);\n-void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry);\n+void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, const int serializeFlags = 0, bool include_hex = true);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11027#discussion_r132772723",
      "id" : 132772723,
      "original_commit_id" : "eb1dcaa52abd10cb787e8800edb50d542bde111a",
      "original_position" : 5,
      "path" : "src/core_io.h",
      "position" : null,
      "pull_request_review_id" : 55894083,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11027",
      "updated_at" : "2017-08-11T20:11:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/132772723",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11027#discussion_r132774417"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/132774417"
         }
      },
      "body" : "Fixed. It was copy and pasted from two lines above in `EncodeHexTx` :)",
      "commit_id" : "9381d8625b8319f4b6c1042953d81eef577074f2",
      "created_at" : "2017-08-11T20:11:49Z",
      "diff_hunk" : "@@ -31,6 +31,6 @@ UniValue ValueFromAmount(const CAmount& amount);\n std::string FormatScript(const CScript& script);\n std::string EncodeHexTx(const CTransaction& tx, const int serializeFlags = 0);\n void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex);\n-void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry);\n+void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, const int serializeFlags = 0, bool include_hex = true);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11027#discussion_r132774417",
      "id" : 132774417,
      "original_commit_id" : "eb1dcaa52abd10cb787e8800edb50d542bde111a",
      "original_position" : 5,
      "path" : "src/core_io.h",
      "position" : null,
      "pull_request_review_id" : 55896162,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11027",
      "updated_at" : "2017-08-11T20:11:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/132774417",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
