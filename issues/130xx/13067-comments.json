[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13067#discussion_r183756224"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13067"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/183756224"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This shadows `pathTemp`, you might as well rename it `m_path_temp` according to the developer guidelines",
      "commit_id" : "73f239ed07a520b78b7c936a1ee5f6ef4e128dd0",
      "created_at" : "2018-04-24T14:38:26Z",
      "diff_hunk" : "@@ -68,7 +68,7 @@ TestingSetup::TestingSetup(const std::string& chainName) : BasicTestingSetup(cha\n \n         RegisterAllCoreRPCCommands(tableRPC);\n         ClearDatadirCache();\n-        pathTemp = fs::temp_directory_path() / strprintf(\"test_bitcoin_%lu_%i\", (unsigned long)GetTime(), (int)(InsecureRandRange(100000)));\n+        fs::path pathTemp = util_tests::unit_test_directory(\"test_bitcoin\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13067#discussion_r183756224",
      "id" : 183756224,
      "original_commit_id" : "73f239ed07a520b78b7c936a1ee5f6ef4e128dd0",
      "original_position" : 5,
      "path" : "src/test/test_bitcoin.cpp",
      "position" : 5,
      "pull_request_review_id" : 114814502,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13067",
      "updated_at" : "2018-04-24T14:38:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/183756224",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13067#discussion_r183757725"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13067"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/183757725"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The dir will exist when the previous run was not shut down cleanly or when running two `test_bitcoin` at the same time. I don't think we should silently continue here.",
      "commit_id" : "73f239ed07a520b78b7c936a1ee5f6ef4e128dd0",
      "created_at" : "2018-04-24T14:41:34Z",
      "diff_hunk" : "@@ -21,6 +21,26 @@\n \n #include <boost/test/unit_test.hpp>\n \n+namespace util_tests {\n+    // Create and return temporary subdirectory for test outputs\n+    fs::path unit_test_directory(const std::string fileName){\n+\n+        std::string sub_dir = \"bitcoin_unit_tests\";\n+        fs::path dir(fs::temp_directory_path() / sub_dir);\n+        fs::path test_dir(dir / fileName / std::string(boost::unit_test::framework::current_test_case().p_name));\n+\n+        if(!fs::exists(dir))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13067#discussion_r183757725",
      "id" : 183757725,
      "original_commit_id" : "73f239ed07a520b78b7c936a1ee5f6ef4e128dd0",
      "original_position" : 12,
      "path" : "src/test/util_tests.cpp",
      "position" : 12,
      "pull_request_review_id" : 114816295,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13067",
      "updated_at" : "2018-04-24T14:41:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/183757725",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needs rebase",
      "created_at" : "2018-04-24T14:41:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13067#issuecomment-383958187",
      "id" : 383958187,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13067",
      "updated_at" : "2018-04-24T14:41:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383958187",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Still needs rebase",
      "created_at" : "2018-04-30T18:11:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13067#issuecomment-385482305",
      "id" : 385482305,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13067",
      "updated_at" : "2018-04-30T18:11:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/385482305",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
