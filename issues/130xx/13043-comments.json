[
   {
      "author_association" : "OWNER",
      "body" : "Concept ACK, will test and review. THanks a lot for adding this.",
      "created_at" : "2018-04-23T10:58:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-383535951",
      "id" : 383535951,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13043",
      "updated_at" : "2018-04-23T10:58:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383535951",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Nice! Concept ACK.\r\nThanks for adding this\r\nOne thought: why not adding this (additionally) to the intro screen (including showing the approximate disk usage reduction)?",
      "created_at" : "2018-04-23T11:56:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-383549378",
      "id" : 383549378,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13043",
      "updated_at" : "2018-04-23T11:56:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383549378",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "> The default suggested value is 20 GB; ~1 month of worst case data. Minimum is 1 GB (550 MB rounded up).\r\n\r\nWhat would be the motivation to not to default to the minimum?\r\n\r\nTested OK:\r\n- Enabled the checkbox (without changing the default of 20GB), restarted the client, next run it prunes:\r\n```\r\n2018-04-23T13:27:38Z init message: Pruning blockstore...\r\n2018-04-23T13:28:20Z Prune: UnlinkPrunedFiles deleted blk/rev (00000)\r\n...\r\n2018-04-23T13:28:20Z Prune: UnlinkPrunedFiles deleted blk/rev (00783)\r\n```\r\n- Re-enabling the checkbox and restarting causes the client to re-download the block chain, as expected, after the following dialog and clicking OK:\r\n![untitled](https://user-images.githubusercontent.com/126646/39129974-44bcdca8-470c-11e8-89b2-217bf8b3f37e.png)\r\n\r\n",
      "created_at" : "2018-04-23T13:27:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-383574598",
      "id" : 383574598,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13043",
      "updated_at" : "2018-04-23T13:38:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383574598",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> why not adding this (additionally) to the intro screen (including showing the approximate disk usage reduction)?\r\n\r\nThat's what I had in mind as well, but I figured it can go in a separate PR.\r\n\r\n> What would be the motivation to not to default to the minimum?\r\n\r\nTo be on the safe side in case of a very large reorg, e.g. if some contentious user activated soft fork gets majority cumulative difficulty after a few weeks. If people think it's overkill, I'm happy to set it to 1 GB. If I remember correctly the limit of 550 MB was decided before SegWit, so maybe 2 GB would be a better default?",
      "created_at" : "2018-04-25T10:48:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-384245255",
      "id" : 384245255,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13043",
      "updated_at" : "2018-04-25T10:48:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384245255",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "> To be on the safe side in case of a very large reorg, e.g. if some contentious user activated soft fork gets majority cumulative difficulty after a few weeks. If people think it's overkill, I'm happy to set it to 1 GB. If I remember correctly the limit of 550 MB was decided before SegWit, so maybe 2 GB would be a better default?\r\n\r\nOh, right, good point. From what I remember, the minimum was meant to be 550 blocks, reserving 1MiB per block, so 550MiB. This is no longer a good assumption with segwit blocks so having a higher default makes sense.\r\n\r\nAlso: `NODE_NETWORK_LIMITED` (BIP159) requires 288 blocks.\r\n",
      "created_at" : "2018-04-25T14:08:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-384300279",
      "id" : 384300279,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13043",
      "updated_at" : "2018-04-25T14:09:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384300279",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "@jonasschnelli can you trigger a build for this PR? Would be useful to have so people can test, I think.",
      "created_at" : "2018-04-25T14:10:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-384300751",
      "id" : 384300751,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13043",
      "updated_at" : "2018-04-25T14:10:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384300751",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Gitian build: https://bitcoin.jonasschnelli.ch/build/584",
      "created_at" : "2018-04-26T06:43:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-384530982",
      "id" : 384530982,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13043",
      "updated_at" : "2018-04-26T06:43:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384530982",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This adds a new QSettings prune option, distinct from the conf file. But the option cannot be set separately for GUI vs bitcoind, so this makes no sense...",
      "created_at" : "2018-04-26T07:03:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-384535180",
      "id" : 384535180,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13043",
      "updated_at" : "2018-04-26T07:03:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384535180",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Oh, right, good point. From what I remember, the minimum was meant to be 550 blocks, reserving 1MiB per block, so 550MiB. This is no longer a good assumption with segwit blocks so having a higher default makes sense.\r\n> \r\n> Also: NODE_NETWORK_LIMITED (BIP159) requires 288 blocks.\r\n\r\nThe `-prune=<value>` is a \"target\" and there is a pruning protection of block files that contain blocks higher in the chain then the `MIN_BLOCKS_TO_KEEP` constant (288 blocks).\r\nAFAIK it is impossible with the current code to prune blocks height then the 288 limit.\r\n\r\nBut, I agree that that the prune min target of 550 is misleading because it seems like that 550 can no longer be reached.\r\n\r\nI also think it should be labeled as \"target\" (something we want to reach but not sure we can).",
      "created_at" : "2018-04-26T07:22:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13043#issuecomment-384540194",
      "id" : 384540194,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13043",
      "updated_at" : "2018-04-26T07:22:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384540194",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   }
]
