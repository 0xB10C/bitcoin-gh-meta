[
   {
      "body" : "ACK concept.\r\n\r\nLong unconfirmed chains are inefficient - use RBF to replace txs with ones with more outputs - and post problems for future scalability improvements as they reduce parallelism opportunities in block processing.\r\n\r\nI'd implement it differently though as an additional depth value recorded for each tx in the mempool - nMaxDepth - where nMaxDepth = max(nMaxDepth of all parent txs) This is efficient to calculate, requiring only a single O(n) pass every time a block is found. There's lots of other use-cases for that kind of architecture too.",
      "created_at" : "2015-07-09T04:08:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6403#issuecomment-119809551",
      "id" : 119809551,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6403",
      "updated_at" : "2015-07-09T04:08:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119809551",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "ACK concept and functionality.\r\n\r\nI've been testing this commit since last night and it seems to work as intended.",
      "created_at" : "2015-07-09T15:18:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6403#issuecomment-120029710",
      "id" : 120029710,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6403",
      "updated_at" : "2015-07-09T15:18:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120029710",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1316379?v=3",
         "events_url" : "https://api.github.com/users/wizkid057/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wizkid057/followers",
         "following_url" : "https://api.github.com/users/wizkid057/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wizkid057/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wizkid057",
         "id" : 1316379,
         "login" : "wizkid057",
         "organizations_url" : "https://api.github.com/users/wizkid057/orgs",
         "received_events_url" : "https://api.github.com/users/wizkid057/received_events",
         "repos_url" : "https://api.github.com/users/wizkid057/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wizkid057/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wizkid057/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wizkid057"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6403#discussion_r34267443"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6403"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34267443"
         }
      },
      "body" : "How often do I need to tell you to NOT do this in 2 lines ;)? @laanwj Also did this...",
      "commit_id" : "fe520922c6200c706d4d7c21dec989aa3da3dc6b",
      "created_at" : "2015-07-09T15:26:29Z",
      "diff_hunk" : "@@ -745,6 +745,32 @@ int64 GetMinFee(const CTransaction& tx, bool fAllowFree, enum GetMinFee_mode mod\n }\n \n \n+static",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6403#discussion_r34267443",
      "id" : 34267443,
      "original_commit_id" : "fe520922c6200c706d4d7c21dec989aa3da3dc6b",
      "original_position" : 4,
      "path" : "src/main.cpp",
      "position" : 4,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6403",
      "updated_at" : "2015-07-09T15:26:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34267443",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6403#discussion_r34267486"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6403"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34267486"
         }
      },
      "body" : "Nit: ``size_t``?",
      "commit_id" : "fe520922c6200c706d4d7c21dec989aa3da3dc6b",
      "created_at" : "2015-07-09T15:26:56Z",
      "diff_hunk" : "@@ -745,6 +745,32 @@ int64 GetMinFee(const CTransaction& tx, bool fAllowFree, enum GetMinFee_mode mod\n }\n \n \n+static\n+unsigned int TxSearchForLongChain(const CTransaction& tx, const CTxMemPool& pool, unsigned int nDepthLimit, unsigned int nDepth = 0)\n+{\n+    unsigned int nMaxDepth = nDepth;\n+    for (unsigned int i = 0; i < tx.vin.size(); ++i)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6403#discussion_r34267486",
      "id" : 34267486,
      "original_commit_id" : "fe520922c6200c706d4d7c21dec989aa3da3dc6b",
      "original_position" : 8,
      "path" : "src/main.cpp",
      "position" : 8,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6403",
      "updated_at" : "2015-07-09T15:26:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34267486",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6403#discussion_r34267673"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6403"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34267673"
         }
      },
      "body" : "Couldn't you directly save from GetArg as unsigned int or cast there?",
      "commit_id" : "fe520922c6200c706d4d7c21dec989aa3da3dc6b",
      "created_at" : "2015-07-09T15:28:31Z",
      "diff_hunk" : "@@ -798,6 +824,14 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n             break;\n         }\n     }\n+\n+        const int nDepthLimit = GetArg(\"-limitunconfdepth\", 0);\n+        if (nDepthLimit > 0) {\n+            const unsigned int nMaxDepth = TxSearchForLongChain(tx, pool, nDepthLimit);\n+            if (nMaxDepth >= (unsigned int)nDepthLimit) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6403#discussion_r34267673",
      "id" : 34267673,
      "original_commit_id" : "fe520922c6200c706d4d7c21dec989aa3da3dc6b",
      "original_position" : 41,
      "path" : "src/main.cpp",
      "position" : 41,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6403",
      "updated_at" : "2015-07-09T15:28:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34267673",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6403#discussion_r34267721"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6403"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34267721"
         }
      },
      "body" : "Is it intended to be not mentioned in the help message?",
      "commit_id" : "fe520922c6200c706d4d7c21dec989aa3da3dc6b",
      "created_at" : "2015-07-09T15:28:52Z",
      "diff_hunk" : "@@ -798,6 +824,14 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n             break;\n         }\n     }\n+\n+        const int nDepthLimit = GetArg(\"-limitunconfdepth\", 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6403#discussion_r34267721",
      "id" : 34267721,
      "original_commit_id" : "fe520922c6200c706d4d7c21dec989aa3da3dc6b",
      "original_position" : 38,
      "path" : "src/main.cpp",
      "position" : 38,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6403",
      "updated_at" : "2015-07-09T15:28:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34267721",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Concept ACK",
      "created_at" : "2015-07-09T18:34:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6403#issuecomment-120097679",
      "id" : 120097679,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6403",
      "updated_at" : "2015-07-09T18:34:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120097679",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "Just worried this patch will increase the incentive to have output spam (especially in light of the current attack). Shred outputs on each block and spend them with more transactions until you hit dust limit and repeat.",
      "created_at" : "2015-07-09T20:39:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6403#issuecomment-120138582",
      "id" : 120138582,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6403",
      "updated_at" : "2015-07-09T20:39:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120138582",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4904?v=3",
         "events_url" : "https://api.github.com/users/matthieu/events{/privacy}",
         "followers_url" : "https://api.github.com/users/matthieu/followers",
         "following_url" : "https://api.github.com/users/matthieu/following{/other_user}",
         "gists_url" : "https://api.github.com/users/matthieu/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/matthieu",
         "id" : 4904,
         "login" : "matthieu",
         "organizations_url" : "https://api.github.com/users/matthieu/orgs",
         "received_events_url" : "https://api.github.com/users/matthieu/received_events",
         "repos_url" : "https://api.github.com/users/matthieu/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/matthieu/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/matthieu/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/matthieu"
      }
   },
   {
      "body" : "NACK, this will exacerbate the effect of full blocks / long confirmation wait times on legitimate users. \r\n\r\nIt impacts scenarios where the wallet software must send out several transactions without knowing the recipients in advance, e.g. users with one unspent sending to multiple payees, exchange wallets that start with one/few unspents (e.g. after refilling a hot wallet). Full RBF to replace txs with more outputs is not a solution today.\r\n\r\nAlso not sure if the benefits are clear, spammers can send to more outputs. ",
      "created_at" : "2015-07-09T21:23:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6403#issuecomment-120147895",
      "id" : 120147895,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6403",
      "updated_at" : "2015-07-09T21:24:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120147895",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/141983?v=3",
         "events_url" : "https://api.github.com/users/bencxr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bencxr/followers",
         "following_url" : "https://api.github.com/users/bencxr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bencxr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bencxr",
         "id" : 141983,
         "login" : "bencxr",
         "organizations_url" : "https://api.github.com/users/bencxr/orgs",
         "received_events_url" : "https://api.github.com/users/bencxr/received_events",
         "repos_url" : "https://api.github.com/users/bencxr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bencxr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bencxr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bencxr"
      }
   },
   {
      "body" : "@bencxr It won't do anything unless explicitly enabled. Finding the ideal limit to use is an exercise for relay/miner nodes.",
      "created_at" : "2015-07-09T21:40:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6403#issuecomment-120151096",
      "id" : 120151096,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6403",
      "updated_at" : "2015-07-09T21:40:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120151096",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr what limit would you recommend? 10 - 20? \r\nmany relay/miner node operators do not have the resources to determine the best limit or understand implications.",
      "created_at" : "2015-07-09T21:54:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6403#issuecomment-120155850",
      "id" : 120155850,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6403",
      "updated_at" : "2015-07-09T21:54:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120155850",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/141983?v=3",
         "events_url" : "https://api.github.com/users/bencxr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bencxr/followers",
         "following_url" : "https://api.github.com/users/bencxr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bencxr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bencxr",
         "id" : 141983,
         "login" : "bencxr",
         "organizations_url" : "https://api.github.com/users/bencxr/orgs",
         "received_events_url" : "https://api.github.com/users/bencxr/received_events",
         "repos_url" : "https://api.github.com/users/bencxr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bencxr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bencxr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bencxr"
      }
   }
]
