[
   {
      "body" : "I just ran bitcoind on the off chance the result might be different.  It wasn't:\r\n\r\n```\r\nbash-4.2$ /usr/local/bitcoin/bitcoind\r\n: Error opening block database.\r\n\r\nDo you want to rebuild the block database now?\r\nbash-4.2$ ls -l\r\ntotal 17111400\r\n-rwxr-xr-x 0 ben root        1710 Jun  3 06:49 bitcoin.conf~\r\n-rwxr-xr-x 0 ben root        1712 Jun  3 06:56 bitcoin.conf0\r\ndrwxr-xr-x 0 ben root           0 Jun  3 06:59 blocks\r\n-rwxr-xr-x 0 ben root 17522056398 Jun  3 06:21 bootstrap.dat\r\ndrwxr-xr-x 0 ben root           0 Jun  3 06:59 database\r\n-rwxr-xr-x 0 ben root           0 Jun  3 06:59 db.log\r\n-rwxr-xr-x 0 ben root        2784 Jun  3 08:07 debug.log\r\n-rwxr-xr-x 0 ben root        1106 Jun  3 08:07 peers.dat\r\nbash-4.2$ ls -l blocks/index/\r\ntotal 16\r\n-rwxr-xr-x 0 ben root   0 Jun  3 06:59 000003.log\r\n-rwxr-xr-x 0 ben root   0 Jun  3 08:08 000004.log\r\n-rwxr-xr-x 0 ben root  16 Jun  3 06:59 CURRENT\r\n-rwxr-xr-x 0 ben root   0 Jun  3 06:59 LOCK\r\n-rwxr-xr-x 0 ben root 166 Jun  3 08:07 LOG\r\n-rwxr-xr-x 0 ben root 112 Jun  3 06:59 LOG.old\r\n-rwxr-xr-x 0 ben root  41 Jun  3 06:59 MANIFEST-000001\r\nbash-4.2$ cat blocks/index/LOG\r\n2014/06/03-08:08:31.021803 b6c9b700 Recovering log #3\r\n2014/06/03-08:08:31.044073 b6c9b700 MANIFEST write: IO error: /home/ben/.bitcoin/blocks/index: Invalid argument\r\nbash-4.2$ \r\n```\r\n\r\nAnd the debug.log output (with the previous data and numerous blank lines culled), again, no surprises.  The same thing happens:\r\n\r\n```\r\n2014-06-02 22:08:30 \r\n\r\n\r\n\r\n2014-06-02 22:08:30 Bitcoin version v0.9.1.0-g026a939-beta (Tue, 8 Apr 2014 12:04:06 +0200)\r\n2014-06-02 22:08:30 Using OpenSSL version OpenSSL 1.0.1g 7 Apr 2014\r\n2014-06-02 22:08:30 Default data directory /home/ben/.bitcoin\r\n2014-06-02 22:08:30 Using data directory /home/ben/.bitcoin\r\n2014-06-02 22:08:30 Using at most 125 connections (1024 file descriptors available)\r\n2014-06-02 22:08:30 Using wallet wallet.dat\r\n2014-06-02 22:08:30 init message: Verifying wallet...\r\n2014-06-02 22:08:30 dbenv.open LogDir=/home/ben/.bitcoin/database ErrorFile=/home/ben/.bitcoin/db.log\r\n2014-06-02 22:08:30 Bound to [::]:8333\r\n2014-06-02 22:08:30 Bound to 0.0.0.0:8333\r\n2014-06-02 22:08:30 init message: Loading block index...\r\n2014-06-02 22:08:30 Opening LevelDB in /home/ben/.bitcoin/blocks/index\r\n2014-06-02 22:08:31 IO error: /home/ben/.bitcoin/blocks/index: Invalid argument\r\n2014-06-02 22:08:31 : Error opening block database.\r\n\r\nDo you want to rebuild the block database now?\r\n2014-06-02 22:08:31 Aborted block database rebuild. Exiting.\r\n2014-06-02 22:08:31 Shutdown : In progress...\r\n2014-06-02 22:08:31 StopNode()\r\n2014-06-02 22:08:31 Shutdown : done\r\n```\r\n",
      "created_at" : "2014-06-02T22:18:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4276#issuecomment-44898551",
      "id" : 44898551,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4276",
      "updated_at" : "2014-06-02T22:18:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44898551",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2611615?v=3",
         "events_url" : "https://api.github.com/users/Hasimir/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Hasimir/followers",
         "following_url" : "https://api.github.com/users/Hasimir/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Hasimir/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Hasimir",
         "id" : 2611615,
         "login" : "Hasimir",
         "organizations_url" : "https://api.github.com/users/Hasimir/orgs",
         "received_events_url" : "https://api.github.com/users/Hasimir/received_events",
         "repos_url" : "https://api.github.com/users/Hasimir/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Hasimir/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Hasimir/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Hasimir"
      }
   },
   {
      "body" : "No, this is LevelDB reporting that an internal system call returned with an error status indicating that an invalid argument was passed.\r\n\r\nI assume that the samba filesystem does not offer certain functionality that LevelDB requires of its databases, such a certain types of locking, syncing or mmaping.",
      "created_at" : "2014-06-02T22:54:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4276#issuecomment-44901301",
      "id" : 44901301,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4276",
      "updated_at" : "2014-06-02T22:55:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44901301",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Ah, interesting ... nothing would surprise me with samba.  I'll be upgrading the server in a few days (also to Slack 14.1) and try running it there with no VM and no samba and we'll see what happens.",
      "created_at" : "2014-06-02T23:02:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4276#issuecomment-44901842",
      "id" : 44901842,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4276",
      "updated_at" : "2014-06-02T23:02:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44901842",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2611615?v=3",
         "events_url" : "https://api.github.com/users/Hasimir/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Hasimir/followers",
         "following_url" : "https://api.github.com/users/Hasimir/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Hasimir/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Hasimir",
         "id" : 2611615,
         "login" : "Hasimir",
         "organizations_url" : "https://api.github.com/users/Hasimir/orgs",
         "received_events_url" : "https://api.github.com/users/Hasimir/received_events",
         "repos_url" : "https://api.github.com/users/Hasimir/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Hasimir/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Hasimir/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Hasimir"
      }
   },
   {
      "body" : "Closing, will raise a new issue if I suffer the same pain on a real system.",
      "created_at" : "2014-06-02T23:04:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4276#issuecomment-44901944",
      "id" : 44901944,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4276",
      "updated_at" : "2014-06-02T23:04:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44901944",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2611615?v=3",
         "events_url" : "https://api.github.com/users/Hasimir/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Hasimir/followers",
         "following_url" : "https://api.github.com/users/Hasimir/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Hasimir/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Hasimir",
         "id" : 2611615,
         "login" : "Hasimir",
         "organizations_url" : "https://api.github.com/users/Hasimir/orgs",
         "received_events_url" : "https://api.github.com/users/Hasimir/received_events",
         "repos_url" : "https://api.github.com/users/Hasimir/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Hasimir/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Hasimir/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Hasimir"
      }
   },
   {
      "body" : "Looks like you were right, but there being more than one way to skin a cat I thought I'd leave this here in case anyone else had the same issue (which bound to happen the larger the blockchain gets):\r\n\r\nRather than try to mount a samba share containing the blockchain and related data if using a VM like me, do this:\r\n\r\n* Create a virtual disk on the file/network server.\r\n* Get VirtualBox (or VMWare or whatever) to see that.\r\n* Mount the disk image as normal.\r\n* As far as the VM/OS is concerned it's just an ordinary drive.\r\n* This means you can do other nifty things to such a drive (like encrypt it with LUKS/dm-crypt).\r\n\r\nMy work here is done ...  ;)\r\n",
      "created_at" : "2014-06-03T01:39:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4276#issuecomment-44911312",
      "id" : 44911312,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4276",
      "updated_at" : "2014-06-03T01:39:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44911312",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2611615?v=3",
         "events_url" : "https://api.github.com/users/Hasimir/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Hasimir/followers",
         "following_url" : "https://api.github.com/users/Hasimir/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Hasimir/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Hasimir",
         "id" : 2611615,
         "login" : "Hasimir",
         "organizations_url" : "https://api.github.com/users/Hasimir/orgs",
         "received_events_url" : "https://api.github.com/users/Hasimir/received_events",
         "repos_url" : "https://api.github.com/users/Hasimir/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Hasimir/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Hasimir/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Hasimir"
      }
   }
]
