[
   {
      "body" : "@jgarzik You originally nack'd non-recursive, but I think your opinion has shifted since. You've got right of first refusal :)",
      "created_at" : "2014-05-28T18:38:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4241#issuecomment-44447583",
      "id" : 44447583,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4241",
      "updated_at" : "2014-05-28T18:38:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44447583",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Untested ACK.\r\n\r\nBuild-system changes like this shouldn't require extensive review; if the pull-tester is happy, I say pull it and do the final changes/tweaks as future pull requests.\r\n",
      "created_at" : "2014-05-28T18:50:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4241#issuecomment-44448961",
      "id" : 44448961,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4241",
      "updated_at" : "2014-05-28T18:50:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44448961",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Build works fine for me.\r\n\r\nI tried to reproduce #3955:\r\n```bash\r\n$ touch src/checkpoints.cpp\r\n$ make src/bitcoind\r\nmake: `src/bitcoind' is up to date.\r\n```\r\nSeems it doesn't detect the change in another directory even with the non-recursive make.\r\n",
      "created_at" : "2014-05-28T19:39:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4241#issuecomment-44454478",
      "id" : 44454478,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4241",
      "updated_at" : "2014-05-28T19:39:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44454478",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "The top-level is disconnected from the others, that hasn't changed. You're looking for: `make -C src bitcoind`.\r\n\r\nI could move it all up a dir so that would work, but I'm not sure there's much to gain from that?",
      "created_at" : "2014-05-28T20:26:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4241#issuecomment-44459805",
      "id" : 44459805,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4241",
      "updated_at" : "2014-05-28T20:26:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44459805",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Don't care much, but changes look fine to me.",
      "created_at" : "2014-05-28T21:53:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4241#issuecomment-44469626",
      "id" : 44469626,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4241",
      "updated_at" : "2014-05-28T21:53:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44469626",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Whoops, didn't mean to close.",
      "created_at" : "2014-05-28T23:22:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4241#issuecomment-44477163",
      "id" : 44477163,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4241",
      "updated_at" : "2014-05-28T23:22:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44477163",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "@theuni I don't mind, but I'd like to be able to close that issue and others that claim 'the build system is broken!&!!'. Thanks for explaining.\r\n\r\nACK in any case as this speeds up the build.\r\n",
      "created_at" : "2014-05-29T06:00:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4241#issuecomment-44497285",
      "id" : 44497285,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4241",
      "updated_at" : "2014-05-29T06:00:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44497285",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "No objection if others want it.\r\n",
      "created_at" : "2014-06-04T19:06:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4241#issuecomment-45137014",
      "id" : 45137014,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4241",
      "updated_at" : "2014-06-04T19:06:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45137014",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Pushed a cleaned up and rebased version with some additional changes. On @gavinandresen's advise, I'm not going to bother breaking the move from .am's to .include's into smaller chunks for the sake of easier review. It's a pretty straightforward change.\r\n\r\nNow that we're non-recursive, things like AM_CPPFLAGS become global to all builds. I've removed our usage of those globals in favor of setting the flags per-target.\r\n\r\nAlso (mainly to help in my testing of the changes) I've silenced the qt build spew. Now, the usual ```make V=1``` shows the full output as would be expected.\r\n\r\nAs discussed with @laanwj yesterday: This does not address the issue in #3955, but it doesn't regress it eaither. That can be addressed as a follow-up.\r\n\r\nI've removed the RFC description as (if pull-tester is happy) I believe this is now merge-ready.",
      "created_at" : "2014-06-05T20:18:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4241#issuecomment-45268904",
      "id" : 45268904,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4241",
      "updated_at" : "2014-06-05T20:18:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45268904",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/efe6888407186b8a468f357fa7084c0a8c3de503 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-06-05T20:24:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4241#issuecomment-45269550",
      "id" : 45269550,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4241",
      "updated_at" : "2014-06-05T20:24:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45269550",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "Pulltester is happy. I've done some testing as well\r\n- Normal build: OK\r\n- Disablewallet build: OK\r\n- `-DDEBUG_LOCKORDER build`: OK\r\n\r\n**Note** that before pulling you need to remove the old generated Makefles, as otherwise you get a file collision error.\r\n```bash\r\nrm src/test/Makefile src/qt/Makefile src/qt/test/Makefile\r\n```\r\n(or alternatively, `git clean -f -x -d` to return to a clean working directory)\r\n",
      "created_at" : "2014-06-06T05:57:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4241#issuecomment-45305351",
      "id" : 45305351,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4241",
      "updated_at" : "2014-06-06T05:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45305351",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Doing make -j2 check in src/:\r\n\r\nIt seems that when descending into make check-TESTS, all libbitcoin_server and libbitcoin_common objects are rebuilt (very fast, probably ccache'd), but still... I'd expect the makefiles to only build them once?\r\n",
      "created_at" : "2014-06-06T11:25:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4241#issuecomment-45326752",
      "id" : 45326752,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4241",
      "updated_at" : "2014-06-06T11:25:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45326752",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
