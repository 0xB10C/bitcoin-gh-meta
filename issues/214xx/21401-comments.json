[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21401#discussion_r590855515"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21401"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590855515"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "We usually do these comments as `/* active= */ false` I think",
      "commit_id" : "f75f5835e3b3db630cb0d2c4c1df33f12a088625",
      "created_at" : "2021-03-10T00:17:58Z",
      "diff_hunk" : "@@ -340,18 +324,10 @@ class SigNetParams : public CChainParams {\n         consensus.nMinerConfirmationWindow = 2016; // nPowTargetTimespan / nPowTargetSpacing\n         consensus.MinVBitsWarningHeight = 0;\n         consensus.powLimit = uint256S(\"00000377ae000000000000000000000000000000000000000000000000000000\");\n-        consensus.m_deployments[Consensus::DEPLOYMENT_TESTDUMMY].bit = 28;\n-        consensus.m_deployments[Consensus::DEPLOYMENT_TESTDUMMY].startheight = Consensus::VBitsDeployment::NEVER_ACTIVE;\n-        consensus.m_deployments[Consensus::DEPLOYMENT_TESTDUMMY].timeoutheight = Consensus::VBitsDeployment::NEVER_ACTIVE;\n-        consensus.m_deployments[Consensus::DEPLOYMENT_TESTDUMMY].threshold = 1916; // 95% of 2016\n-        consensus.m_deployments[Consensus::DEPLOYMENT_TESTDUMMY].m_min_activation_height = 0; // No minimum activation height\n-\n-        // Activation of Taproot (BIPs 340-342)\n-        consensus.m_deployments[Consensus::DEPLOYMENT_TAPROOT].bit = 2;\n-        consensus.m_deployments[Consensus::DEPLOYMENT_TAPROOT].startheight = Consensus::VBitsDeployment::ALWAYS_ACTIVE;\n-        consensus.m_deployments[Consensus::DEPLOYMENT_TAPROOT].timeoutheight = Consensus::VBitsDeployment::NO_TIMEOUT;\n-        consensus.m_deployments[Consensus::DEPLOYMENT_TAPROOT].threshold = 1916; // 95% of 2016\n-        consensus.m_deployments[Consensus::DEPLOYMENT_TAPROOT].m_min_activation_height = 0; // No minimum activation height\n+        consensus.m_deployments.emplace(Consensus::DEPLOYMENT_TESTDUMMY, Consensus::VBitsDeployment(28, false /* active */));\n+\n+        // Deployment of Taproot (BIPs 340-342)\n+        consensus.m_deployments.emplace(Consensus::DEPLOYMENT_TAPROOT, Consensus::VBitsDeployment(2, true /* active */));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21401#discussion_r590855515",
      "id" : 590855515,
      "line" : 330,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDg1NTUxNQ==",
      "original_commit_id" : "c2549d032643cbe5139e3e35ff6a18e57da65239",
      "original_line" : 330,
      "original_position" : 61,
      "original_start_line" : null,
      "path" : "src/chainparams.cpp",
      "position" : 74,
      "pull_request_review_id" : 608225217,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21401",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-10T00:56:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590855515",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Ah, a different approach that might be worth considering:\r\n\r\nThat doesn't seem that much different from what we already do now.\r\n\r\n> Not keen on the map -- the possibility that `deployments.at(DEPLOYMENT_FOO)` might throw doesn't seem that great to me; and if you're just using `deployments[DEPLOYMENT_FOO]` and relying on it getting default initialised to something sane, might as well give VBitsDeployment a default initiaizer and just use the array?\r\n\r\nIt seems better to me to throw (and hard shutdown) than to use some defaults, or worse, uninitialized members. I don't really like the idea of consensus params being initialized with default values that might not actually be what is wanted.",
      "created_at" : "2021-03-10T02:33:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21401#issuecomment-794763205",
      "id" : 794763205,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21401",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc5NDc2MzIwNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-10T02:33:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/794763205",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
