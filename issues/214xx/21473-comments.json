[
   {
      "author_association" : "MEMBER",
      "body" : "This was tried very recently already: #21445",
      "created_at" : "2021-03-19T01:18:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21473#issuecomment-802437836",
      "id" : 802437836,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21473",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMjQzNzgzNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-19T01:18:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/802437836",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "We tested this in #21445, but didn't seem to see any advantage, potentially the builds were even [being under resourced](https://github.com/bitcoin/bitcoin/pull/21445#issuecomment-800039758):\r\n> It seems this will result in a slow-down. E.g. https://cirrus-ci.com/task/6631575736549376?command=ci#L5821 vs https://cirrus-ci.com/task/5477946514210816?command=ci#L5513\r\n\r\n> Looks like it is only using 0.3 CPU even though 2 have been requested?\r\n\r\nIs this no longer the case?",
      "created_at" : "2021-03-19T01:18:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21473#issuecomment-802437851",
      "id" : 802437851,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21473",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMjQzNzg1MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-19T01:18:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/802437851",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Didn't know you already tried it. Seem weird since the new cluster is using much faster CPUs (they have better single core performance 3.1 GHz vs 2.6 GHz). Let's see how this run will perform.\r\n\r\nBTW how does your build system detect how many cores available? Could it be that it detect wrongly and tries to use 32 cores of the host VM which causes the actual 2 cores being overwhelmed. ð¤ ",
      "created_at" : "2021-03-19T01:30:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21473#issuecomment-802444607",
      "id" : 802444607,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21473",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMjQ0NDYwNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-19T01:30:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/802444607",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/989066?v=4",
         "events_url" : "https://api.github.com/users/fkorotkov/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fkorotkov/followers",
         "following_url" : "https://api.github.com/users/fkorotkov/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fkorotkov/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fkorotkov",
         "id" : 989066,
         "login" : "fkorotkov",
         "node_id" : "MDQ6VXNlcjk4OTA2Ng==",
         "organizations_url" : "https://api.github.com/users/fkorotkov/orgs",
         "received_events_url" : "https://api.github.com/users/fkorotkov/received_events",
         "repos_url" : "https://api.github.com/users/fkorotkov/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fkorotkov/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fkorotkov/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fkorotkov"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Our ci scripts use `MAKEJOBS` to pass down to `make` and the python tests. It is set to `\"-j4\"`, so that the 2 CPU we requested are filled most of the time.\r\n\r\nI believe the difference between the regular containers and the kvm cluster is that the kvm will spin up a \"private\" vm with the requested CPUs, whereas the regular cluster will use a large shared vm. So if 20 Cirrus users compete for the SSD on the shared vm, it might be faster to use a HDD on the private vm. The CPU will wait idle while the SSD is working.",
      "created_at" : "2021-03-19T06:37:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21473#issuecomment-802594219",
      "id" : 802594219,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21473",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMjU5NDIxOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-19T06:37:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/802594219",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
