[
   {
      "body" : "How did you test this?\r\n",
      "created_at" : "2014-10-28T19:17:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#issuecomment-60814787",
      "id" : 60814787,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5158",
      "updated_at" : "2014-10-28T19:17:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/60814787",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "I tested this by running it over a derivative of #4701 on syncing, reindexing and up-to-date nodes. Those cases were broken before this patch, and work well after.\r\n\r\nThe dependence on local time is ugly, but that was there before, anyway...",
      "created_at" : "2014-10-28T19:59:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#issuecomment-60821107",
      "id" : 60821107,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5158",
      "updated_at" : "2014-10-28T19:59:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/60821107",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1192483?v=3",
         "events_url" : "https://api.github.com/users/rdponticelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rdponticelli/followers",
         "following_url" : "https://api.github.com/users/rdponticelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rdponticelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rdponticelli",
         "id" : 1192483,
         "login" : "rdponticelli",
         "organizations_url" : "https://api.github.com/users/rdponticelli/orgs",
         "received_events_url" : "https://api.github.com/users/rdponticelli/received_events",
         "repos_url" : "https://api.github.com/users/rdponticelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rdponticelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rdponticelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rdponticelli"
      }
   },
   {
      "body" : "This gets rid of the nLastUpdate static, I'm happy about that. This seems reasonable to me. utACK.",
      "created_at" : "2014-10-28T23:06:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#issuecomment-60847400",
      "id" : 60847400,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5158",
      "updated_at" : "2014-10-28T23:06:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/60847400",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19588127"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19588127"
         }
      },
      "body" : "Shouldnt you just check if the best header index has received the block contents? Nodes could be mean and not relay contents, but that means either they're running an incredibly expensive annoyance or you're behind a strange sybil.",
      "commit_id" : "9ec75c5ef4182a38e261beaafdc94325785cc7c5",
      "created_at" : "2014-10-30T05:15:06Z",
      "diff_hunk" : "@@ -1177,15 +1177,8 @@ bool IsInitialBlockDownload()\n     LOCK(cs_main);\n     if (fImporting || fReindex || chainActive.Height() < Checkpoints::GetTotalBlocksEstimate())\n         return true;\n-    static int64_t nLastUpdate;\n-    static CBlockIndex* pindexLastBest;\n-    if (chainActive.Tip() != pindexLastBest)\n-    {\n-        pindexLastBest = chainActive.Tip();\n-        nLastUpdate = GetTime();\n-    }\n-    return (GetTime() - nLastUpdate < 10 &&\n-            chainActive.Tip()->GetBlockTime() < GetTime() - 24 * 60 * 60);\n+    return (chainActive.Height() < pindexBestHeader->nHeight - 24 * 6 ||",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19588127",
      "id" : 19588127,
      "original_commit_id" : "a2d0fc658a7b21d2d41ef2a6c657d24114b6c49e",
      "original_position" : 13,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158",
      "updated_at" : "2014-11-07T18:21:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19588127",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19588188"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19588188"
         }
      },
      "body" : "I don't think we want to eroniously think we're caught up when the best tip is far behind the local time (e.g. because we're broken for some reason).\r\n\r\nOTOH, there is a ... somewhat corner case that might be wort worring about:  With this proposed code, if the network goes 24 hours without a block (uh what?) everyone running this will stop mining. :P",
      "commit_id" : "9ec75c5ef4182a38e261beaafdc94325785cc7c5",
      "created_at" : "2014-10-30T05:18:36Z",
      "diff_hunk" : "@@ -1177,15 +1177,8 @@ bool IsInitialBlockDownload()\n     LOCK(cs_main);\n     if (fImporting || fReindex || chainActive.Height() < Checkpoints::GetTotalBlocksEstimate())\n         return true;\n-    static int64_t nLastUpdate;\n-    static CBlockIndex* pindexLastBest;\n-    if (chainActive.Tip() != pindexLastBest)\n-    {\n-        pindexLastBest = chainActive.Tip();\n-        nLastUpdate = GetTime();\n-    }\n-    return (GetTime() - nLastUpdate < 10 &&\n-            chainActive.Tip()->GetBlockTime() < GetTime() - 24 * 60 * 60);\n+    return (chainActive.Height() < pindexBestHeader->nHeight - 24 * 6 ||",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19588188",
      "id" : 19588188,
      "original_commit_id" : "a2d0fc658a7b21d2d41ef2a6c657d24114b6c49e",
      "original_position" : 13,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158",
      "updated_at" : "2014-11-07T18:21:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19588188",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19588225"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19588225"
         }
      },
      "body" : "Sorry, I meant just like walk pindexBestHeader back N blocks, if we still havent received the data for that block, consider us to be in IBD.",
      "commit_id" : "9ec75c5ef4182a38e261beaafdc94325785cc7c5",
      "created_at" : "2014-10-30T05:21:18Z",
      "diff_hunk" : "@@ -1177,15 +1177,8 @@ bool IsInitialBlockDownload()\n     LOCK(cs_main);\n     if (fImporting || fReindex || chainActive.Height() < Checkpoints::GetTotalBlocksEstimate())\n         return true;\n-    static int64_t nLastUpdate;\n-    static CBlockIndex* pindexLastBest;\n-    if (chainActive.Tip() != pindexLastBest)\n-    {\n-        pindexLastBest = chainActive.Tip();\n-        nLastUpdate = GetTime();\n-    }\n-    return (GetTime() - nLastUpdate < 10 &&\n-            chainActive.Tip()->GetBlockTime() < GetTime() - 24 * 60 * 60);\n+    return (chainActive.Height() < pindexBestHeader->nHeight - 24 * 6 ||",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19588225",
      "id" : 19588225,
      "original_commit_id" : "a2d0fc658a7b21d2d41ef2a6c657d24114b6c49e",
      "original_position" : 13,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158",
      "updated_at" : "2014-11-07T18:21:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19588225",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19589282"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19589282"
         }
      },
      "body" : "I'm not sure what behavior we want here. If the best header is still a day back, then we know we're not in sync.",
      "commit_id" : "9ec75c5ef4182a38e261beaafdc94325785cc7c5",
      "created_at" : "2014-10-30T06:22:43Z",
      "diff_hunk" : "@@ -1177,15 +1177,8 @@ bool IsInitialBlockDownload()\n     LOCK(cs_main);\n     if (fImporting || fReindex || chainActive.Height() < Checkpoints::GetTotalBlocksEstimate())\n         return true;\n-    static int64_t nLastUpdate;\n-    static CBlockIndex* pindexLastBest;\n-    if (chainActive.Tip() != pindexLastBest)\n-    {\n-        pindexLastBest = chainActive.Tip();\n-        nLastUpdate = GetTime();\n-    }\n-    return (GetTime() - nLastUpdate < 10 &&\n-            chainActive.Tip()->GetBlockTime() < GetTime() - 24 * 60 * 60);\n+    return (chainActive.Height() < pindexBestHeader->nHeight - 24 * 6 ||",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19589282",
      "id" : 19589282,
      "original_commit_id" : "a2d0fc658a7b21d2d41ef2a6c657d24114b6c49e",
      "original_position" : 13,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158",
      "updated_at" : "2014-11-07T18:21:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19589282",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19589525"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19589525"
         }
      },
      "body" : "I wasnt suggesting it exclusively...sorry if that was unclear.",
      "commit_id" : "9ec75c5ef4182a38e261beaafdc94325785cc7c5",
      "created_at" : "2014-10-30T06:38:06Z",
      "diff_hunk" : "@@ -1177,15 +1177,8 @@ bool IsInitialBlockDownload()\n     LOCK(cs_main);\n     if (fImporting || fReindex || chainActive.Height() < Checkpoints::GetTotalBlocksEstimate())\n         return true;\n-    static int64_t nLastUpdate;\n-    static CBlockIndex* pindexLastBest;\n-    if (chainActive.Tip() != pindexLastBest)\n-    {\n-        pindexLastBest = chainActive.Tip();\n-        nLastUpdate = GetTime();\n-    }\n-    return (GetTime() - nLastUpdate < 10 &&\n-            chainActive.Tip()->GetBlockTime() < GetTime() - 24 * 60 * 60);\n+    return (chainActive.Height() < pindexBestHeader->nHeight - 24 * 6 ||",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19589525",
      "id" : 19589525,
      "original_commit_id" : "a2d0fc658a7b21d2d41ef2a6c657d24114b6c49e",
      "original_position" : 13,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158",
      "updated_at" : "2014-11-07T18:21:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19589525",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19724980"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19724980"
         }
      },
      "body" : "> With this proposed code, if the network goes 24 hours without a block (uh what?) everyone running this will stop mining. :P\r\n\r\nArguably, we should never stop mining whatever happens. During a run of Bitcoin Core we should never go from `!IsInitialBlockDownload()` to `IsInitialBlockDownload()`. That just doesn't make sense, so we can add a check to prevent it.\r\n",
      "commit_id" : "9ec75c5ef4182a38e261beaafdc94325785cc7c5",
      "created_at" : "2014-11-03T10:03:53Z",
      "diff_hunk" : "@@ -1177,15 +1177,8 @@ bool IsInitialBlockDownload()\n     LOCK(cs_main);\n     if (fImporting || fReindex || chainActive.Height() < Checkpoints::GetTotalBlocksEstimate())\n         return true;\n-    static int64_t nLastUpdate;\n-    static CBlockIndex* pindexLastBest;\n-    if (chainActive.Tip() != pindexLastBest)\n-    {\n-        pindexLastBest = chainActive.Tip();\n-        nLastUpdate = GetTime();\n-    }\n-    return (GetTime() - nLastUpdate < 10 &&\n-            chainActive.Tip()->GetBlockTime() < GetTime() - 24 * 60 * 60);\n+    return (chainActive.Height() < pindexBestHeader->nHeight - 24 * 6 ||",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19724980",
      "id" : 19724980,
      "original_commit_id" : "a2d0fc658a7b21d2d41ef2a6c657d24114b6c49e",
      "original_position" : 13,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158",
      "updated_at" : "2014-11-07T18:21:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19724980",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "In what ways is IsInitialBlockDownload broken now? Not a criticism, just trying to understand :)",
      "created_at" : "2014-11-04T12:55:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#issuecomment-61635359",
      "id" : 61635359,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5158",
      "updated_at" : "2014-11-04T12:55:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61635359",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "It randomly returns true or false during all the  IBD.",
      "created_at" : "2014-11-04T15:00:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#issuecomment-61652023",
      "id" : 61652023,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5158",
      "updated_at" : "2014-11-04T15:00:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61652023",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1192483?v=3",
         "events_url" : "https://api.github.com/users/rdponticelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rdponticelli/followers",
         "following_url" : "https://api.github.com/users/rdponticelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rdponticelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rdponticelli",
         "id" : 1192483,
         "login" : "rdponticelli",
         "organizations_url" : "https://api.github.com/users/rdponticelli/orgs",
         "received_events_url" : "https://api.github.com/users/rdponticelli/received_events",
         "repos_url" : "https://api.github.com/users/rdponticelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rdponticelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rdponticelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rdponticelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19899942"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19899942"
         }
      },
      "body" : "Wouldn't a deep reorg caused by the reconnection of some long split nodes cause a possible valid case of !IsInitialBlockDownload() to IsInitialBlockDownload()?",
      "commit_id" : "9ec75c5ef4182a38e261beaafdc94325785cc7c5",
      "created_at" : "2014-11-05T19:49:58Z",
      "diff_hunk" : "@@ -1177,15 +1177,8 @@ bool IsInitialBlockDownload()\n     LOCK(cs_main);\n     if (fImporting || fReindex || chainActive.Height() < Checkpoints::GetTotalBlocksEstimate())\n         return true;\n-    static int64_t nLastUpdate;\n-    static CBlockIndex* pindexLastBest;\n-    if (chainActive.Tip() != pindexLastBest)\n-    {\n-        pindexLastBest = chainActive.Tip();\n-        nLastUpdate = GetTime();\n-    }\n-    return (GetTime() - nLastUpdate < 10 &&\n-            chainActive.Tip()->GetBlockTime() < GetTime() - 24 * 60 * 60);\n+    return (chainActive.Height() < pindexBestHeader->nHeight - 24 * 6 ||",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19899942",
      "id" : 19899942,
      "original_commit_id" : "a2d0fc658a7b21d2d41ef2a6c657d24114b6c49e",
      "original_position" : 13,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158",
      "updated_at" : "2014-11-07T18:21:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19899942",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1192483?v=3",
         "events_url" : "https://api.github.com/users/rdponticelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rdponticelli/followers",
         "following_url" : "https://api.github.com/users/rdponticelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rdponticelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rdponticelli",
         "id" : 1192483,
         "login" : "rdponticelli",
         "organizations_url" : "https://api.github.com/users/rdponticelli/orgs",
         "received_events_url" : "https://api.github.com/users/rdponticelli/received_events",
         "repos_url" : "https://api.github.com/users/rdponticelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rdponticelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rdponticelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rdponticelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19901072"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19901072"
         }
      },
      "body" : "By definition in that case you'll be on a longer chain than what already got you past the initial download check; so I think it shouldn't.   ",
      "commit_id" : "9ec75c5ef4182a38e261beaafdc94325785cc7c5",
      "created_at" : "2014-11-05T20:03:56Z",
      "diff_hunk" : "@@ -1177,15 +1177,8 @@ bool IsInitialBlockDownload()\n     LOCK(cs_main);\n     if (fImporting || fReindex || chainActive.Height() < Checkpoints::GetTotalBlocksEstimate())\n         return true;\n-    static int64_t nLastUpdate;\n-    static CBlockIndex* pindexLastBest;\n-    if (chainActive.Tip() != pindexLastBest)\n-    {\n-        pindexLastBest = chainActive.Tip();\n-        nLastUpdate = GetTime();\n-    }\n-    return (GetTime() - nLastUpdate < 10 &&\n-            chainActive.Tip()->GetBlockTime() < GetTime() - 24 * 60 * 60);\n+    return (chainActive.Height() < pindexBestHeader->nHeight - 24 * 6 ||",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19901072",
      "id" : 19901072,
      "original_commit_id" : "a2d0fc658a7b21d2d41ef2a6c657d24114b6c49e",
      "original_position" : 13,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158",
      "updated_at" : "2014-11-07T18:21:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19901072",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19901759"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19901759"
         }
      },
      "body" : "But it would be valid for the nodes going from the shortest chain to the longest one, right?",
      "commit_id" : "9ec75c5ef4182a38e261beaafdc94325785cc7c5",
      "created_at" : "2014-11-05T20:13:12Z",
      "diff_hunk" : "@@ -1177,15 +1177,8 @@ bool IsInitialBlockDownload()\n     LOCK(cs_main);\n     if (fImporting || fReindex || chainActive.Height() < Checkpoints::GetTotalBlocksEstimate())\n         return true;\n-    static int64_t nLastUpdate;\n-    static CBlockIndex* pindexLastBest;\n-    if (chainActive.Tip() != pindexLastBest)\n-    {\n-        pindexLastBest = chainActive.Tip();\n-        nLastUpdate = GetTime();\n-    }\n-    return (GetTime() - nLastUpdate < 10 &&\n-            chainActive.Tip()->GetBlockTime() < GetTime() - 24 * 60 * 60);\n+    return (chainActive.Height() < pindexBestHeader->nHeight - 24 * 6 ||",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19901759",
      "id" : 19901759,
      "original_commit_id" : "a2d0fc658a7b21d2d41ef2a6c657d24114b6c49e",
      "original_position" : 13,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158",
      "updated_at" : "2014-11-07T18:21:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19901759",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1192483?v=3",
         "events_url" : "https://api.github.com/users/rdponticelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rdponticelli/followers",
         "following_url" : "https://api.github.com/users/rdponticelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rdponticelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rdponticelli",
         "id" : 1192483,
         "login" : "rdponticelli",
         "organizations_url" : "https://api.github.com/users/rdponticelli/orgs",
         "received_events_url" : "https://api.github.com/users/rdponticelli/received_events",
         "repos_url" : "https://api.github.com/users/rdponticelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rdponticelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rdponticelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rdponticelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19903330"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19903330"
         }
      },
      "body" : "I think what we're trying to approximate here is \"are you caught up to at least the point that you should have been at when you got the software\", without having to insert a block height or total work into every download as it ships. And it's okay if it sometimes falsely returns false too early. It's not really okay if it returns true too late.\r\n\r\nEsp since right now it'll make you stop mining, meaning you can potentially get a remotely triggerable attack out of it.  So probably I think wumpus' idea is good: once it turns on, never go off again.  ... and then we can be pretty conservative with turning it on the first time.",
      "commit_id" : "9ec75c5ef4182a38e261beaafdc94325785cc7c5",
      "created_at" : "2014-11-05T20:34:21Z",
      "diff_hunk" : "@@ -1177,15 +1177,8 @@ bool IsInitialBlockDownload()\n     LOCK(cs_main);\n     if (fImporting || fReindex || chainActive.Height() < Checkpoints::GetTotalBlocksEstimate())\n         return true;\n-    static int64_t nLastUpdate;\n-    static CBlockIndex* pindexLastBest;\n-    if (chainActive.Tip() != pindexLastBest)\n-    {\n-        pindexLastBest = chainActive.Tip();\n-        nLastUpdate = GetTime();\n-    }\n-    return (GetTime() - nLastUpdate < 10 &&\n-            chainActive.Tip()->GetBlockTime() < GetTime() - 24 * 60 * 60);\n+    return (chainActive.Height() < pindexBestHeader->nHeight - 24 * 6 ||",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19903330",
      "id" : 19903330,
      "original_commit_id" : "a2d0fc658a7b21d2d41ef2a6c657d24114b6c49e",
      "original_position" : 13,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158",
      "updated_at" : "2014-11-07T18:21:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19903330",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Added a commit implementing @laanwj suggestion to deal with @gmaxwell's concern.",
      "created_at" : "2014-11-06T13:08:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#issuecomment-61975939",
      "id" : 61975939,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5158",
      "updated_at" : "2014-11-06T13:08:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61975939",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1192483?v=3",
         "events_url" : "https://api.github.com/users/rdponticelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rdponticelli/followers",
         "following_url" : "https://api.github.com/users/rdponticelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rdponticelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rdponticelli",
         "id" : 1192483,
         "login" : "rdponticelli",
         "organizations_url" : "https://api.github.com/users/rdponticelli/orgs",
         "received_events_url" : "https://api.github.com/users/rdponticelli/received_events",
         "repos_url" : "https://api.github.com/users/rdponticelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rdponticelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rdponticelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rdponticelli"
      }
   },
   {
      "body" : "A single boolean would suffice, no?",
      "created_at" : "2014-11-06T13:13:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#issuecomment-61976576",
      "id" : 61976576,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5158",
      "updated_at" : "2014-11-06T13:13:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61976576",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Simplified to use a single boolean.",
      "created_at" : "2014-11-06T14:32:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#issuecomment-61986638",
      "id" : 61986638,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5158",
      "updated_at" : "2014-11-06T14:32:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61986638",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1192483?v=3",
         "events_url" : "https://api.github.com/users/rdponticelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rdponticelli/followers",
         "following_url" : "https://api.github.com/users/rdponticelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rdponticelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rdponticelli",
         "id" : 1192483,
         "login" : "rdponticelli",
         "organizations_url" : "https://api.github.com/users/rdponticelli/orgs",
         "received_events_url" : "https://api.github.com/users/rdponticelli/received_events",
         "repos_url" : "https://api.github.com/users/rdponticelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rdponticelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rdponticelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rdponticelli"
      }
   },
   {
      "body" : "utACK.",
      "created_at" : "2014-11-06T17:48:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#issuecomment-62020492",
      "id" : 62020492,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5158",
      "updated_at" : "2014-11-06T17:48:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62020492",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19965703"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19965703"
         }
      },
      "body" : "Nit: Can you make this lockIbdState or perhaps even lockIBDState to be readable? What do the others think.",
      "commit_id" : "9ec75c5ef4182a38e261beaafdc94325785cc7c5",
      "created_at" : "2014-11-06T18:57:39Z",
      "diff_hunk" : "@@ -1177,15 +1177,14 @@ bool IsInitialBlockDownload()\n     LOCK(cs_main);\n     if (fImporting || fReindex || chainActive.Height() < Checkpoints::GetTotalBlocksEstimate())\n         return true;\n-    static int64_t nLastUpdate;\n-    static CBlockIndex* pindexLastBest;\n-    if (chainActive.Tip() != pindexLastBest)\n-    {\n-        pindexLastBest = chainActive.Tip();\n-        nLastUpdate = GetTime();\n-    }\n-    return (GetTime() - nLastUpdate < 10 &&\n-            chainActive.Tip()->GetBlockTime() < GetTime() - 24 * 60 * 60);\n+    static bool lockibdstate;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r19965703",
      "id" : 19965703,
      "original_commit_id" : "fc37ef38eead36db43d4f4233959adbcc25dd387",
      "original_position" : 13,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158",
      "updated_at" : "2014-11-07T18:21:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19965703",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "utACK: http://bitcoin.ninja/TheBlueMatt-5158.txt",
      "created_at" : "2014-11-06T23:56:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#issuecomment-62073900",
      "id" : 62073900,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5158",
      "updated_at" : "2014-11-06T23:58:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62073900",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r20003550"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20003550"
         }
      },
      "body" : "I don't mind how it's called (scope is just local anyhow), although I'd like an explicit\r\n\r\n    static bool lockibdstate = false;\r\n\r\n...for readability\r\n",
      "commit_id" : "9ec75c5ef4182a38e261beaafdc94325785cc7c5",
      "created_at" : "2014-11-07T10:32:41Z",
      "diff_hunk" : "@@ -1177,15 +1177,14 @@ bool IsInitialBlockDownload()\n     LOCK(cs_main);\n     if (fImporting || fReindex || chainActive.Height() < Checkpoints::GetTotalBlocksEstimate())\n         return true;\n-    static int64_t nLastUpdate;\n-    static CBlockIndex* pindexLastBest;\n-    if (chainActive.Tip() != pindexLastBest)\n-    {\n-        pindexLastBest = chainActive.Tip();\n-        nLastUpdate = GetTime();\n-    }\n-    return (GetTime() - nLastUpdate < 10 &&\n-            chainActive.Tip()->GetBlockTime() < GetTime() - 24 * 60 * 60);\n+    static bool lockibdstate;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r20003550",
      "id" : 20003550,
      "original_commit_id" : "fc37ef38eead36db43d4f4233959adbcc25dd387",
      "original_position" : 13,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158",
      "updated_at" : "2014-11-07T18:21:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20003550",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r20029224"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20029224"
         }
      },
      "body" : "Added.",
      "commit_id" : "9ec75c5ef4182a38e261beaafdc94325785cc7c5",
      "created_at" : "2014-11-07T18:57:48Z",
      "diff_hunk" : "@@ -1177,15 +1177,14 @@ bool IsInitialBlockDownload()\n     LOCK(cs_main);\n     if (fImporting || fReindex || chainActive.Height() < Checkpoints::GetTotalBlocksEstimate())\n         return true;\n-    static int64_t nLastUpdate;\n-    static CBlockIndex* pindexLastBest;\n-    if (chainActive.Tip() != pindexLastBest)\n-    {\n-        pindexLastBest = chainActive.Tip();\n-        nLastUpdate = GetTime();\n-    }\n-    return (GetTime() - nLastUpdate < 10 &&\n-            chainActive.Tip()->GetBlockTime() < GetTime() - 24 * 60 * 60);\n+    static bool lockibdstate;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#discussion_r20029224",
      "id" : 20029224,
      "original_commit_id" : "fc37ef38eead36db43d4f4233959adbcc25dd387",
      "original_position" : 13,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5158",
      "updated_at" : "2014-11-07T18:57:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20029224",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1192483?v=3",
         "events_url" : "https://api.github.com/users/rdponticelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rdponticelli/followers",
         "following_url" : "https://api.github.com/users/rdponticelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rdponticelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rdponticelli",
         "id" : 1192483,
         "login" : "rdponticelli",
         "organizations_url" : "https://api.github.com/users/rdponticelli/orgs",
         "received_events_url" : "https://api.github.com/users/rdponticelli/received_events",
         "repos_url" : "https://api.github.com/users/rdponticelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rdponticelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rdponticelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rdponticelli"
      }
   },
   {
      "body" : "still ACK  (though only tested pretty lightly)",
      "created_at" : "2014-11-07T20:21:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#issuecomment-62206048",
      "id" : 62206048,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5158",
      "updated_at" : "2014-11-07T20:21:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62206048",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Note that #5241 reduces the number of conditionals that are based on IsInitialBlockdownload().",
      "created_at" : "2014-11-17T16:22:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#issuecomment-63330057",
      "id" : 63330057,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5158",
      "updated_at" : "2014-11-17T16:22:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63330057",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "utACK",
      "created_at" : "2014-11-17T16:23:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#issuecomment-63330258",
      "id" : 63330258,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5158",
      "updated_at" : "2014-11-17T16:23:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63330258",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "utACK only commithashes 9ec75c5ef4182a38e261beaafdc94325785cc7c5 + a2d0fc658a7b21d2d41ef2a6c657d24114b6c49e: http://bitcoin.ninja/TheBlueMatt-5158.txt",
      "created_at" : "2014-11-20T05:07:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5158#issuecomment-63761943",
      "id" : 63761943,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5158",
      "updated_at" : "2014-11-20T05:07:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63761943",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   }
]
