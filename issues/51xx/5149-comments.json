[
   {
      "body" : "Good idea, but at least mention this in contrib/README.md\r\n\r\nEdit: Looking through the commits, all jgarzik's commits and merges are signed with: Primary key fingerprint: AF8B E07C 7049 F3A2 6B23  9D53 25B3 0832 0178 2B2F\r\n",
      "created_at" : "2014-10-27T08:19:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#issuecomment-60560879",
      "id" : 60560879,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5149",
      "updated_at" : "2014-10-27T08:22:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/60560879",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19392145"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19392145"
         }
      },
      "body" : "This script seems to use bashisms, so better mark its interpreter as bash (it doesn't work here).",
      "commit_id" : "adaa568722e59cde510c5fe1997c49cbb9d7db12",
      "created_at" : "2014-10-27T08:26:40Z",
      "diff_hunk" : "@@ -0,0 +1,54 @@\n+#!/bin/sh",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19392145",
      "id" : 19392145,
      "original_commit_id" : "a3c6bda921f89fc4dcd0cf5bed5dd0e9bbd159e2",
      "original_position" : 1,
      "path" : "contrib/verify-commits/verify-commits.sh",
      "position" : 1,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149",
      "updated_at" : "2014-12-20T05:39:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19392145",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19392186"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19392186"
         }
      },
      "body" : "Why 2x 'HEAD' ?",
      "commit_id" : "adaa568722e59cde510c5fe1997c49cbb9d7db12",
      "created_at" : "2014-10-27T08:27:45Z",
      "diff_hunk" : "@@ -0,0 +1,54 @@\n+#!/bin/sh\n+\n+DIR=$(dirname \"$0\")\n+\n+echo \"Please verify all commits in the following list are not evil:\"\n+git log \"$DIR\"\n+\n+VERIFIED_ROOT=$(cat \"${DIR}/trusted-git-root\")\n+\n+ORIG_GPG=$(git config --local gpg.program)\n+git config gpg.program \"${DIR}/gpg.sh\"\n+\n+HAVE_FAILED=false\n+function IS_SIGNED () {\n+\tif [ $1 = $VERIFIED_ROOT ]; then\n+\t\treturn 0;\n+\tfi\n+\tif ! git verify-commit $1 > /dev/null 2>&1; then\n+\t\treturn 1;\n+\tfi\n+\tlocal PARENTS=$(git show -s --format=format:%P $1)\n+\tfor PARENT in $PARENTS; do\n+\t\tif IS_SIGNED $PARENT $1 > /dev/null; then\n+\t\t\treturn 0;\n+\t\tfi\n+\tdone\n+\tif ! \"$HAVE_FAILED\"; then\n+\t\techo \"No parent of $1 was signed with a trusted key!\" > /dev/stderr\n+\t\techo \"Parents are:\" > /dev/stderr\n+\t\tfor PARENT in $PARENTS; do\n+\t\t\tgit show -s $PARENT > /dev/stderr\n+\t\tdone\n+\t\tHAVE_FAILED=true\n+\tfi\n+\treturn 1;\n+}\n+\n+IS_SIGNED HEAD HEAD",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19392186",
      "id" : 19392186,
      "original_commit_id" : "a3c6bda921f89fc4dcd0cf5bed5dd0e9bbd159e2",
      "original_position" : 38,
      "path" : "contrib/verify-commits/verify-commits.sh",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149",
      "updated_at" : "2014-12-20T05:39:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19392186",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19392273"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19392273"
         }
      },
      "body" : "You can use:\r\n```\r\ngit -c \"gpg.program=${DIR}/gpg.sh\" command [args]\r\n```\r\ninstead of\r\n```\r\ngit config gpg.program \"${DIR}/gpg.sh\"\r\ngit command [args]\r\n```\r\n",
      "commit_id" : "adaa568722e59cde510c5fe1997c49cbb9d7db12",
      "created_at" : "2014-10-27T08:30:08Z",
      "diff_hunk" : "@@ -0,0 +1,54 @@\n+#!/bin/sh\n+\n+DIR=$(dirname \"$0\")\n+\n+echo \"Please verify all commits in the following list are not evil:\"\n+git log \"$DIR\"\n+\n+VERIFIED_ROOT=$(cat \"${DIR}/trusted-git-root\")\n+\n+ORIG_GPG=$(git config --local gpg.program)\n+git config gpg.program \"${DIR}/gpg.sh\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19392273",
      "id" : 19392273,
      "original_commit_id" : "a3c6bda921f89fc4dcd0cf5bed5dd0e9bbd159e2",
      "original_position" : 11,
      "path" : "contrib/verify-commits/verify-commits.sh",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149",
      "updated_at" : "2014-12-20T05:39:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19392273",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19392396"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19392396"
         }
      },
      "body" : "I don't think it's necessary to recurse into the second part (which is the commit being merged). Also, how many recursion levels does bash support? \r\n\r\nEDIT: misread the first time",
      "commit_id" : "adaa568722e59cde510c5fe1997c49cbb9d7db12",
      "created_at" : "2014-10-27T08:33:25Z",
      "diff_hunk" : "@@ -0,0 +1,54 @@\n+#!/bin/sh\n+\n+DIR=$(dirname \"$0\")\n+\n+echo \"Please verify all commits in the following list are not evil:\"\n+git log \"$DIR\"\n+\n+VERIFIED_ROOT=$(cat \"${DIR}/trusted-git-root\")\n+\n+ORIG_GPG=$(git config --local gpg.program)\n+git config gpg.program \"${DIR}/gpg.sh\"\n+\n+HAVE_FAILED=false\n+function IS_SIGNED () {\n+\tif [ $1 = $VERIFIED_ROOT ]; then\n+\t\treturn 0;\n+\tfi\n+\tif ! git verify-commit $1 > /dev/null 2>&1; then\n+\t\treturn 1;\n+\tfi\n+\tlocal PARENTS=$(git show -s --format=format:%P $1)\n+\tfor PARENT in $PARENTS; do\n+\t\tif IS_SIGNED $PARENT $1 > /dev/null; then",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19392396",
      "id" : 19392396,
      "original_commit_id" : "a3c6bda921f89fc4dcd0cf5bed5dd0e9bbd159e2",
      "original_position" : 23,
      "path" : "contrib/verify-commits/verify-commits.sh",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149",
      "updated_at" : "2014-12-20T05:39:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19392396",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19392507"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19392507"
         }
      },
      "body" : "$(</dev/stdin) is faster",
      "commit_id" : "adaa568722e59cde510c5fe1997c49cbb9d7db12",
      "created_at" : "2014-10-27T08:36:37Z",
      "diff_hunk" : "@@ -0,0 +1,15 @@\n+#!/bin/sh\n+INPUT=$(cat /dev/stdin)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19392507",
      "id" : 19392507,
      "original_commit_id" : "a3c6bda921f89fc4dcd0cf5bed5dd0e9bbd159e2",
      "original_position" : 2,
      "path" : "contrib/verify-commits/gpg.sh",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149",
      "updated_at" : "2014-12-20T05:39:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19392507",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19429616"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19429616"
         }
      },
      "body" : "Oh? Which ones?",
      "commit_id" : "adaa568722e59cde510c5fe1997c49cbb9d7db12",
      "created_at" : "2014-10-27T19:10:49Z",
      "diff_hunk" : "@@ -0,0 +1,54 @@\n+#!/bin/sh",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19429616",
      "id" : 19429616,
      "original_commit_id" : "a3c6bda921f89fc4dcd0cf5bed5dd0e9bbd159e2",
      "original_position" : 1,
      "path" : "contrib/verify-commits/verify-commits.sh",
      "position" : 1,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149",
      "updated_at" : "2014-12-20T05:39:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19429616",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19429771"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19429771"
         }
      },
      "body" : "I'm not sure it is either, but its easy enough and for completeness it should be there.",
      "commit_id" : "adaa568722e59cde510c5fe1997c49cbb9d7db12",
      "created_at" : "2014-10-27T19:13:03Z",
      "diff_hunk" : "@@ -0,0 +1,54 @@\n+#!/bin/sh\n+\n+DIR=$(dirname \"$0\")\n+\n+echo \"Please verify all commits in the following list are not evil:\"\n+git log \"$DIR\"\n+\n+VERIFIED_ROOT=$(cat \"${DIR}/trusted-git-root\")\n+\n+ORIG_GPG=$(git config --local gpg.program)\n+git config gpg.program \"${DIR}/gpg.sh\"\n+\n+HAVE_FAILED=false\n+function IS_SIGNED () {\n+\tif [ $1 = $VERIFIED_ROOT ]; then\n+\t\treturn 0;\n+\tfi\n+\tif ! git verify-commit $1 > /dev/null 2>&1; then\n+\t\treturn 1;\n+\tfi\n+\tlocal PARENTS=$(git show -s --format=format:%P $1)\n+\tfor PARENT in $PARENTS; do\n+\t\tif IS_SIGNED $PARENT $1 > /dev/null; then",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19429771",
      "id" : 19429771,
      "original_commit_id" : "a3c6bda921f89fc4dcd0cf5bed5dd0e9bbd159e2",
      "original_position" : 23,
      "path" : "contrib/verify-commits/verify-commits.sh",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149",
      "updated_at" : "2014-12-20T05:39:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19429771",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19451539"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19451539"
         }
      },
      "body" : "functions, for one.",
      "commit_id" : "adaa568722e59cde510c5fe1997c49cbb9d7db12",
      "created_at" : "2014-10-28T03:14:23Z",
      "diff_hunk" : "@@ -0,0 +1,54 @@\n+#!/bin/sh",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19451539",
      "id" : 19451539,
      "original_commit_id" : "a3c6bda921f89fc4dcd0cf5bed5dd0e9bbd159e2",
      "original_position" : 1,
      "path" : "contrib/verify-commits/verify-commits.sh",
      "position" : 1,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149",
      "updated_at" : "2014-12-20T05:39:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19451539",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "The verify script seems overly complex to me if it's just supposed to be verifying merge commits. I took a stab at it and came up with:\r\n```bash\r\n#!/bin/sh\r\nDIR=\"`git rev-parse --show-toplevel`/contrib/verify-commits\"\r\nVERIFIED_ROOT=`< \"${DIR}/trusted-git-root\"`\r\nTEST_COMMIT=\"$1\"\r\nRET=0\r\nfor i in `git rev-list --min-parents=2 --max-parents=2 \"${VERIFIED_ROOT}\"..\"${TEST_COMMIT}\"`; do\r\n  git -c \"gpg.program=${DIR}/gpg.sh\" verify-commit $i >/dev/null || \\\r\n    ( echo \"$i was not signed with a trusted key!\"; false ) || RET=`expr $RET + 1`\r\ndone\r\nexit $RET\r\n```\r\nIs there a reason for using recursive bottom-up traversal rather than the simpler top-down from the merges?",
      "created_at" : "2014-10-28T07:18:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#issuecomment-60717867",
      "id" : 60717867,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5149",
      "updated_at" : "2014-10-28T07:18:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/60717867",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "@theuni that would not catch non-merge commits that get pushed directly rather than via a merge commit.",
      "created_at" : "2014-10-28T07:31:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#issuecomment-60718670",
      "id" : 60718670,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5149",
      "updated_at" : "2014-10-28T07:31:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/60718670",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "`git rev-list --first-parent` seems to do the thing we want (though it seems @TheBlueMatt also wants to cover the case where a (recursively) signed commit is signed merged into a non-signed branch).",
      "created_at" : "2014-10-28T07:53:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#issuecomment-60720153",
      "id" : 60720153,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5149",
      "updated_at" : "2014-10-28T07:53:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/60720153",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19497155"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19497155"
         }
      },
      "body" : "Ehh, almost all shells people use support functions, not sure which one(s) dont at this point.",
      "commit_id" : "adaa568722e59cde510c5fe1997c49cbb9d7db12",
      "created_at" : "2014-10-28T19:32:10Z",
      "diff_hunk" : "@@ -0,0 +1,54 @@\n+#!/bin/sh",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19497155",
      "id" : 19497155,
      "original_commit_id" : "a3c6bda921f89fc4dcd0cf5bed5dd0e9bbd159e2",
      "original_position" : 1,
      "path" : "contrib/verify-commits/verify-commits.sh",
      "position" : 1,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149",
      "updated_at" : "2014-12-20T05:39:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19497155",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Technically, merge commit parents dont have to be in a specific order, so even though if using the merge shell script in contrib you wouldnt hit it, it is not unreasonable for someone to have been developing on their own branch, merging two pulls or so, and then merging that branch.",
      "created_at" : "2014-10-28T19:37:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#issuecomment-60817766",
      "id" : 60817766,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5149",
      "updated_at" : "2014-10-28T19:37:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/60817766",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19656207"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19656207"
         }
      },
      "body" : "And apparently function definitions are indeed standard POSIX. But the 'function' keyword is not. You can just remove the 'function ' in front.",
      "commit_id" : "adaa568722e59cde510c5fe1997c49cbb9d7db12",
      "created_at" : "2014-10-31T08:34:56Z",
      "diff_hunk" : "@@ -0,0 +1,54 @@\n+#!/bin/sh",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19656207",
      "id" : 19656207,
      "original_commit_id" : "a3c6bda921f89fc4dcd0cf5bed5dd0e9bbd159e2",
      "original_position" : 1,
      "path" : "contrib/verify-commits/verify-commits.sh",
      "position" : 1,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149",
      "updated_at" : "2014-12-20T05:39:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19656207",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@TheBlueMatt Well, sure, but \"git merge branch\" will have the current HEAD as first parent and branch as second parent (assuming it wasn't a fast forward), so I don't see how anything merged into master should not have its first parent (and its first parents) signed.",
      "created_at" : "2014-10-31T16:17:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#issuecomment-61285783",
      "id" : 61285783,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5149",
      "updated_at" : "2014-10-31T16:17:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61285783",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa Indeed, though my point was more that its not unreasonable to be on a separate branch and merge in master. While we try to keep our git history clean of that kind of confusion, its not incorrect and not unreasonable for it to happen, so I find it better to support it.",
      "created_at" : "2014-11-01T22:41:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#issuecomment-61386519",
      "id" : 61386519,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5149",
      "updated_at" : "2014-11-01T22:41:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61386519",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19708354"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19708354"
         }
      },
      "body" : "Already had :)",
      "commit_id" : "adaa568722e59cde510c5fe1997c49cbb9d7db12",
      "created_at" : "2014-11-01T22:41:52Z",
      "diff_hunk" : "@@ -0,0 +1,54 @@\n+#!/bin/sh",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#discussion_r19708354",
      "id" : 19708354,
      "original_commit_id" : "a3c6bda921f89fc4dcd0cf5bed5dd0e9bbd159e2",
      "original_position" : 1,
      "path" : "contrib/verify-commits/verify-commits.sh",
      "position" : 1,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5149",
      "updated_at" : "2014-12-20T05:39:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19708354",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Updated the commit base because @gavinandresen insists on merging without signing his commits and squashed.",
      "created_at" : "2014-11-12T23:44:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#issuecomment-62816621",
      "id" : 62816621,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5149",
      "updated_at" : "2014-11-12T23:44:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62816621",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "I believe this code can lead to exponential time in the number of merges :)",
      "created_at" : "2014-11-13T10:28:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#issuecomment-62870793",
      "id" : 62870793,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5149",
      "updated_at" : "2014-11-13T10:28:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62870793",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "In an unrealistic worst-case, yes...if someone who's key was on the list started signing all of their commits, it is possible that it would go quite far down both sides of a merge, however, in any other case, it wont pass one commit down a merge branch that isnt followed by other merges.",
      "created_at" : "2014-11-13T19:45:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#issuecomment-62953714",
      "id" : 62953714,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5149",
      "updated_at" : "2014-11-13T19:45:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62953714",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "One solution employed in kernel-land is hooks.  I wonder how possible it is to hook something like this PR's script with a pre-commit hook that prevents pushes containing unsigned merge commits.\r\n\r\n",
      "created_at" : "2014-11-14T04:28:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#issuecomment-63009062",
      "id" : 63009062,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5149",
      "updated_at" : "2014-11-14T04:28:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63009062",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "@jgarzik sounds good...is there a way to limit a hook to only apply if you're pushing to github.com/bitcoin/bitcoin?",
      "created_at" : "2014-11-14T07:27:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#issuecomment-63019343",
      "id" : 63019343,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5149",
      "updated_at" : "2014-11-14T07:27:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63019343",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "@jgarzik To answer your question, yes. I updated this pull to (a) include @gmaxwell's pubkey, (b) there were several unsigned merges, so had to update the trusted root, (c) include a contrib/verify-commits/pre-push-hook.sh which, if copied to .git/hooks/pre-push (and you have bash installed), will prevent the pushing of unsigned commits to master on bitcoin/bitcoin (but not apply for any other repos).",
      "created_at" : "2014-12-20T05:41:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#issuecomment-67726007",
      "id" : 67726007,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5149",
      "updated_at" : "2014-12-20T05:41:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67726007",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "of course, people can hit the merge button on github, and then the script will be broken after that, no?",
      "created_at" : "2014-12-20T08:02:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#issuecomment-67728618",
      "id" : 67728618,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5149",
      "updated_at" : "2014-12-20T08:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67728618",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Yes, this is why the script only applies to people with push access...if you hit the merge button, you'll require everyone else to update contrib/verify-commits/trusted-git-root (or simply disable the hook). Its enough that it'll remind everyone to sign their merges, but it doesnt block all unsigned code from getting uploaded, ie its easy to work around.",
      "created_at" : "2014-12-20T08:13:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5149#issuecomment-67728802",
      "id" : 67728802,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5149",
      "updated_at" : "2014-12-20T08:13:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67728802",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   }
]
