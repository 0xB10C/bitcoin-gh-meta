[
   {
      "body" : "Have you solved this?  What is /opt/openssl-compat-bitcoin?  Have you tried doing a full build of the depends tree?  (ie: make depends)?",
      "created_at" : "2015-02-23T16:35:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5795#issuecomment-75578027",
      "id" : 75578027,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5795",
      "updated_at" : "2015-02-23T16:35:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/75578027",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/430315?v=3",
         "events_url" : "https://api.github.com/users/ajweiss/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajweiss/followers",
         "following_url" : "https://api.github.com/users/ajweiss/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajweiss/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajweiss",
         "id" : 430315,
         "login" : "ajweiss",
         "organizations_url" : "https://api.github.com/users/ajweiss/orgs",
         "received_events_url" : "https://api.github.com/users/ajweiss/received_events",
         "repos_url" : "https://api.github.com/users/ajweiss/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajweiss/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajweiss/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajweiss"
      }
   },
   {
      "body" : "That's a clean build of OpenSSL against which bitcoin is linked. It doesn't appear to be relevant.\r\n\r\nFrom further testing it looks like some sort of bizarre race condition in the boost test framework itself. If I pass `--catch_system_errors=no`, which is supposed to make it dump core on a segfault, then the test passes. Without it, when this defaults to yes, I get the segfault and core dump!\r\n\r\nA more verbose run is:\r\n\r\n```\r\n[error@buildserver2 test]$ ./test_bitcoin --log_level=all --catch_system_errors=yes\r\nRunning 133 test cases...\r\nEntering test suite \"Bitcoin Test Suite\"\r\nEntering test suite \"Alert_tests\"\r\nEntering test case \"AlertApplies\"\r\n...\r\nLeaving test case \"AlertApplies\"; testing time: 301504mks\r\nEntering test case \"AlertNotify\"\r\nSegmentation fault (core dumped)\r\n```\r\n\r\nThe successful run is:\r\n\r\n```\r\n[error@buildserver2 test]$ ./test_bitcoin --log_level=all --catch_system_errors=no\r\nRunning 133 test cases...\r\nEntering test suite \"Bitcoin Test Suite\"\r\nEntering test suite \"Alert_tests\"\r\nEntering test case \"AlertApplies\"\r\n...\r\nLeaving test case \"AlertApplies\"; testing time: 298194mks\r\nEntering test case \"AlertNotify\"\r\ntest/alert_tests.cpp(170): info: check r.size() == 4u passed\r\ntest/alert_tests.cpp(176): info: check r[0] == \"Alert 1\" passed\r\ntest/alert_tests.cpp(177): info: check r[1] == \"Alert 2, cancels 1\" passed\r\ntest/alert_tests.cpp(178): info: check r[2] == \"Alert 2, cancels 1\" passed\r\ntest/alert_tests.cpp(179): info: check r[3] == \"Evil Alert; /bin/ls; echo \" passed\r\nLeaving test case \"AlertNotify\"; testing time: 346342mks\r\nLeaving test suite \"Alert_tests\"\r\n...\r\n```\r\n\r\nSince this is _probably_ a bug in Boost rather than in Bitcoin, and I have a workaround available, I don't really expect any further action. But I'm presenting it here just in case it _is_ a bug in the Bitcoin tests and that isn't obvious to me for some reason.",
      "created_at" : "2015-02-28T16:30:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5795#issuecomment-76533070",
      "id" : 76533070,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5795",
      "updated_at" : "2015-02-28T16:30:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/76533070",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/198207?v=3",
         "events_url" : "https://api.github.com/users/error10/events{/privacy}",
         "followers_url" : "https://api.github.com/users/error10/followers",
         "following_url" : "https://api.github.com/users/error10/following{/other_user}",
         "gists_url" : "https://api.github.com/users/error10/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/error10",
         "id" : 198207,
         "login" : "error10",
         "organizations_url" : "https://api.github.com/users/error10/orgs",
         "received_events_url" : "https://api.github.com/users/error10/received_events",
         "repos_url" : "https://api.github.com/users/error10/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/error10/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/error10/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/error10"
      }
   }
]
