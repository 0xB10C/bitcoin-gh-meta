{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "Iâm exploring the opportunity to âsaveâ threads by moving some of the stuff to the scheduler.\r\nI need this so that we can make some room for blocking execution of #18421 and other similar features in future. Later I want to add #18421 to the scheduler too.\r\n\r\n@laanwj initially suggested to use libevent for #18421, but @thebluematt pointed out that itâs undesirable to add that extra dependency on somewhat limited non-standard libevent functions.\r\nMatt also suggested an idea of this PR as an alternative. \r\n\r\nI suggest to compare the safety of this approach to status-quo (which seems to be working well).\r\nIf weâll have 2 threads for scheduler, the requirement is *at most one long blocking task is allowed*.\r\n\r\nRight now, everything in scheduling is pretty fast. Tor stuff and OpenAddedConnections both seem to be fast too (thatâs where Iâd use some extra eyes and experience!), so weâre safe, and thereâs even room for an extra task. (#18421).\r\n\r\nIf there are any concerns, note that we can drop either Tor or OpenAddedConnections from the scheduler, and still be fine. Or we can add third thread to the scheduler, and be even with status quo.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18925/comments",
   "created_at" : "2020-05-09T19:10:05Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18925/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/18925",
   "id" : 615241573,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18925/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0NDE1NjE3NjUx",
   "number" : 18925,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/18925.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18925",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/18925.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18925"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Add extra thread for scheduler, move TorControl and OpenAddedConnections to scheduler",
   "updated_at" : "2020-05-09T19:25:22Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18925",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/7975071?v=4",
      "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
      "followers_url" : "https://api.github.com/users/naumenkogs/followers",
      "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
      "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/naumenkogs",
      "id" : 7975071,
      "login" : "naumenkogs",
      "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
      "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
      "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
      "repos_url" : "https://api.github.com/users/naumenkogs/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/naumenkogs"
   }
}
