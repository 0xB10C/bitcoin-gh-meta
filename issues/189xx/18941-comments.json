[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18637 (coins: allow cache resize after init by jamesob)\n* #10443 (Add fee_est tool for debugging fee estimation code by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-05-11T07:47:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18941#issuecomment-626532576",
      "id" : 626532576,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18941",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNjUzMjU3Ng==",
      "updated_at" : "2020-05-11T07:47:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/626532576",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Motivated by https://github.com/bitcoin/bitcoin/pull/15218#issuecomment-456558815\r\n> we wanted to make the cache actually more useful on startup (something I've thought we should do for a while)",
      "created_at" : "2020-05-12T03:28:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18941#issuecomment-627086019",
      "id" : 627086019,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18941",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNzA4NjAxOQ==",
      "updated_at" : "2020-05-12T03:28:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/627086019",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm not sure this is useful.\r\n\r\nMy information is several years old, so take this with a grain of salt. Actual benchmarks would of course be better.\r\n\r\nI experimented with several different designs for partial flushing, where some data remained in the cache at the time it was flushed, and surprisingly, they were invariably all slower than just wiping everything every time. The reason is that our cache isn't really a cache but a buffer: its performance gains come from the fact that it (dramatically) reduces disk writes (it also reduces disk reads, but the impact of those is far less). The reason is that most UTXOs get created and spent within a short time frame, and if they happen within a cache window, without flush in between, the created UTXO is deleted from memory, without ever hitting disk. At least on the systems I tested on, reserving a portion of the cache as \"flushed but still cached\" was never better than just using that area as additional write-saving buffer.",
      "created_at" : "2020-05-12T03:41:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18941#issuecomment-627089592",
      "id" : 627089592,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18941",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNzA4OTU5Mg==",
      "updated_at" : "2020-05-12T03:41:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/627089592",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
