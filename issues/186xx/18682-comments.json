[
   {
      "author_association" : "MEMBER",
      "body" : "It's kind of bizarre that we're calling private functions in the first placeâthere's no guarantee they keep existing at all or with the same signature which we hard-code here.\r\nI guess the only reason that this is acceptable is because this is not production code but only a fuzzer.\r\nThanks for the workaround anyhow, this makes sure xenial with libevent 2.0.21 can compile the fuzzers.\r\n(though I wouldn't actually recommend spending time fuzzing libevent 2.0.21, it's 8 years old)",
      "created_at" : "2020-04-17T12:27:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18682#issuecomment-615216308",
      "id" : 615216308,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18682",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNTIxNjMwOA==",
      "updated_at" : "2020-04-17T12:27:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/615216308",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18682#discussion_r410218023"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18682"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410218023"
         }
      },
      "author_association" : "MEMBER",
      "body" : "cc @practicalswift Can this fuzzer be adjusted to remove `evhttp_parse_firstline_`?",
      "commit_id" : "a9f657ca6ee9350eb2b1d41bcc4062457633b67c",
      "created_at" : "2020-04-17T13:22:15Z",
      "diff_hunk" : "@@ -17,8 +17,24 @@\n #include <string>\n #include <vector>\n \n+// workaround for libevent versions before 2.1.1,\n+// when internal functions didn't have underscores at the end\n+#if _EVENT_NUMERIC_VERSION < 0x02010100\n+extern \"C\" int evhttp_parse_firstline(struct evhttp_request*, struct evbuffer*);\n+extern \"C\" int evhttp_parse_headers(struct evhttp_request*, struct evbuffer*);\n+inline int evhttp_parse_firstline_(struct evhttp_request* r, struct evbuffer* b)\n+{\n+    return evhttp_parse_firstline(r, b);\n+}\n+inline int evhttp_parse_headers_(struct evhttp_request* r, struct evbuffer* b)\n+{\n+    return evhttp_parse_headers(r, b);\n+}\n+#else\n extern \"C\" int evhttp_parse_firstline_(struct evhttp_request*, struct evbuffer*);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18682#discussion_r410218023",
      "id" : 410218023,
      "line" : 34,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDIxODAyMw==",
      "original_commit_id" : "a9f657ca6ee9350eb2b1d41bcc4062457633b67c",
      "original_line" : 34,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/test/fuzz/http_request.cpp",
      "position" : 18,
      "pull_request_review_id" : 395447887,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18682",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-17T13:22:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410218023",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
