[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18791 (wip: Only support shared validation interfaces by promag)\n* #18742 (miner: Avoid stack-use-after-return in validationinterface by MarcoFalke)\n* #18740 (Remove g_rpc_node global by ryanofsky)\n* #18731 (refactor: Make CCheckQueue RAII-styled by hebasto)\n* #18638 (net: Use mockable time for ping/pong, add tests by MarcoFalke)\n* #18637 (coins: allow cache resize after init by jamesob)\n* #18354 (Protect wallet by using shared pointers by bvbfan)\n* #17479 (Return BlockValidationState from ProcessNewBlock if CheckBlock/AcceptBlock fails by jnewbery)\n* #16426 (Reverse cs_main, cs_wallet lock order and reduce cs_main locking by ariard)\n* #16333 (test: Set BIP34Height = 2 for regtest by MarcoFalke)\n* #15367 (feature: Added ability for users to add a startup command by benthecarman)\n* #10443 (Add fee_est tool for debugging fee estimation code by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-04-18T16:45:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18698#issuecomment-615901610",
      "id" : 615901610,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18698",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNTkwMTYxMA==",
      "updated_at" : "2020-05-01T11:20:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/615901610",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK: very welcome from a fuzzing perspective!\r\n\r\nI know that I am repeating myself but nevertheless: thanks for doing these coupling cleanups :)",
      "created_at" : "2020-04-18T16:54:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18698#issuecomment-615902948",
      "id" : 615902948,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18698",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNTkwMjk0OA==",
      "updated_at" : "2020-04-18T16:54:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/615902948",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased due to conflict in tests",
      "created_at" : "2020-04-24T19:09:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18698#issuecomment-619192447",
      "id" : 619192447,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18698",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTE5MjQ0Nw==",
      "updated_at" : "2020-04-24T19:09:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619192447",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18698#discussion_r418440603"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18698"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/418440603"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"node: Add chainman alias for g_chainman\" (faad46a5358a12691c80c027caf666e91ca85a1e)\r\n\r\nHere and in test setup could consider replacing double redundant `::g_` prefix with just `g_`. If a variable name already begins with `g_` then `::` doesn't tell you much and gets in the way of creating namespaces",
      "commit_id" : "fa24ea2e67d9812a7b57f9820996a8695a8fef37",
      "created_at" : "2020-05-01T07:00:51Z",
      "diff_hunk" : "@@ -1361,6 +1362,9 @@ bool AppInitMain(NodeContext& node)\n     // which are all started after this, may use it from the node context.\n     assert(!node.mempool);\n     node.mempool = &::mempool;\n+    assert(!node.chainman);\n+    node.chainman = &::g_chainman;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18698#discussion_r418440603",
      "id" : 418440603,
      "line" : 1366,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODQ0MDYwMw==",
      "original_commit_id" : "faad46a5358a12691c80c027caf666e91ca85a1e",
      "original_line" : 1366,
      "original_position" : 60,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 60,
      "pull_request_review_id" : 404045390,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18698",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-01T07:28:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/418440603",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18698#discussion_r418444412"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18698"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/418444412"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"validation: Mark g_chainman DEPRECATED\" (fa24ea2e67d9812a7b57f9820996a8695a8fef37)\r\n\r\nCould enforce this by deleting extern declaration from validation.h, and just declaring it an extern variable right where it's used in init.cpp.",
      "commit_id" : "fa24ea2e67d9812a7b57f9820996a8695a8fef37",
      "created_at" : "2020-05-01T07:19:30Z",
      "diff_hunk" : "@@ -917,6 +917,7 @@ class ChainstateManager\n     void Reset();\n };\n \n+/** DEPRECATED! Please use node.chainman instead. May only be used in validation.cpp internally */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18698#discussion_r418444412",
      "id" : 418444412,
      "line" : 920,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODQ0NDQxMg==",
      "original_commit_id" : "fa24ea2e67d9812a7b57f9820996a8695a8fef37",
      "original_line" : 920,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 134,
      "pull_request_review_id" : 404045390,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18698",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-01T07:28:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/418444412",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-05-01T11:08:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18698#issuecomment-622346782",
      "id" : 622346782,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18698",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMjM0Njc4Mg==",
      "updated_at" : "2020-05-01T11:08:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/622346782",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
