[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18531 (rpc: Assert that RPCArg names are equal to CRPCCommand ones by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-04-12T22:09:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18607#issuecomment-612683546",
      "id" : 612683546,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18607",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMjY4MzU0Ng==",
      "updated_at" : "2020-04-12T22:09:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612683546",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18607#discussion_r409140885"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18607"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/409140885"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Since you create accessors for `m_names` (`GetName`, `GetFirstName`), it would make sense to make `m_names` private, no?\r\n\r\nPlus this would allow you to have a function `GetNames` similar to:\r\n```\r\nstd::vector<std::string> RPCArg::GetNames() const\r\n{\r\n    std::vector<std::string> names;\r\n    boost::split(names, m_names, boost::is_any_of(\"|\"));\r\n    return names;\r\n}\r\n```\r\nand do here more cleanly `for (const std::string& name : arg.GetNames()) {`\r\n\r\n(note that `Fallback`, `m_fallback`, `m_description`, `m_oneline_description` can also be made private without any additional code change) ",
      "commit_id" : "fa8a3e04a8dad84ff8cef05ac1e0bffd1208aea0",
      "created_at" : "2020-04-15T21:20:56Z",
      "diff_hunk" : "@@ -419,8 +422,12 @@ RPCHelpMan::RPCHelpMan(std::string name, std::string description, std::vector<RP\n {\n     std::set<std::string> named_args;\n     for (const auto& arg : m_args) {\n+        std::vector<std::string> names;\n+        boost::split(names, arg.m_names, boost::is_any_of(\"|\"));\n         // Should have unique named arguments\n-        CHECK_NONFATAL(named_args.insert(arg.m_name).second);\n+        for (const std::string& name : names) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18607#discussion_r409140885",
      "id" : 409140885,
      "line" : 428,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE0MDg4NQ==",
      "original_commit_id" : "fa8a3e04a8dad84ff8cef05ac1e0bffd1208aea0",
      "original_line" : 428,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "src/rpc/util.cpp",
      "position" : 45,
      "pull_request_review_id" : 394143876,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18607",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-15T21:24:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/409140885",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18607#discussion_r409141862"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18607"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/409141862"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "For style, I believe this could be a one-liner, no? `return m_names.substr(0, m_names.find(\"|\"));` (or have a better variable name than `ret`)\r\n\r\nBut this is personal taste (and you know the codebase style better than I do :)",
      "commit_id" : "fa8a3e04a8dad84ff8cef05ac1e0bffd1208aea0",
      "created_at" : "2020-04-15T21:23:03Z",
      "diff_hunk" : "@@ -506,6 +513,18 @@ std::string RPCHelpMan::ToString() const\n     return ret;\n }\n \n+std::string RPCArg::GetFirstName() const\n+{\n+    auto ret = m_names.substr(0, m_names.find(\"|\"));\n+    return ret;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18607#discussion_r409141862",
      "id" : 409141862,
      "line" : 519,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE0MTg2Mg==",
      "original_commit_id" : "fa8a3e04a8dad84ff8cef05ac1e0bffd1208aea0",
      "original_line" : 519,
      "original_position" : 67,
      "original_start_line" : null,
      "path" : "src/rpc/util.cpp",
      "position" : 67,
      "pull_request_review_id" : 394143876,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18607",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-15T21:24:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/409141862",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/946757?v=4",
         "events_url" : "https://api.github.com/users/pierreN/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pierreN/followers",
         "following_url" : "https://api.github.com/users/pierreN/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pierreN/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pierreN",
         "id" : 946757,
         "login" : "pierreN",
         "node_id" : "MDQ6VXNlcjk0Njc1Nw==",
         "organizations_url" : "https://api.github.com/users/pierreN/orgs",
         "received_events_url" : "https://api.github.com/users/pierreN/received_events",
         "repos_url" : "https://api.github.com/users/pierreN/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pierreN/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pierreN/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pierreN"
      }
   }
]
