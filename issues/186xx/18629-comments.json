[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\nCan we finally close #8248 after this?",
      "created_at" : "2020-04-14T06:13:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-613246232",
      "id" : 613246232,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18629",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMzI0NjIzMg==",
      "updated_at" : "2020-04-14T06:13:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/613246232",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "When I was reviewing the debian patches for inclusion in Guix, I did come across `default-secure-pe-flags.patch`, but chose not to include it, since it mostly just changed some defaults, and because of the recent removal fanquake mentioned.\r\n\r\n`<SHILL>`\r\n\r\n> I think Guix is going to bring great benefits when dealing with these kinds of issues.\r\n\r\nI believe that's true :smile:, with the recent upstreaming of [guix:b066c25026\r\n](http://git.savannah.gnu.org/cgit/guix.git/commit/?id=b066c25026f21fb57677aa34692a5034338e7ee3), we can use the `PACKAGE-WITH-EXTRA-PATCHES` procedure in our `manifest.scm` to apply custom patches to anything that constitutes part of our Guix build environment (`binutils`, `gcc`, etc.).\r\n\r\n`</SHILL>`\r\n\r\n-----\r\n\r\nPerhaps @skitt can provide more details as to why default PE protections were disabled for binutils 2.34 in [`452b3013`](https://salsa.debian.org/mingw-w64-team/binutils-mingw-w64/-/commit/452b3013b8280cbe35eaeb166a43621b88d5f8b7), as it seems that that's the first version of binutils to include [`dc9bd8c92a`](https://sourceware.org/git/gitweb.cgi?p=binutils-gdb.git;a=commit;h=dc9bd8c92af67947db44b3cb428c050259b15cd0) (I ran `git tag --contains dc9bd8c92a` in the binutils-gdb repo to check) and would therefore actually benefit from the default PE protections. Perhaps he knows something we don't.",
      "created_at" : "2020-04-14T14:52:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-613489914",
      "id" : 613489914,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18629",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMzQ4OTkxNA==",
      "updated_at" : "2020-04-14T14:52:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/613489914",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "w/re the actual change, won't this break Gitian builds right now since they are on binutils 2.30?",
      "created_at" : "2020-04-14T14:55:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-613491411",
      "id" : 613491411,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18629",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMzQ5MTQxMQ==",
      "updated_at" : "2020-04-14T14:55:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/613491411",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Previous releases of `binutils-mingw-w64` in Debian enabled hardening flags by default, but as mentioned elsewhere, this is actually misleading since the flags really require relocations, and those were dropped. When `--enable-reloc-section` was added, I experimented with enabling *that* by default, along with all the other flags; but enabling this by default breaks `ld` in a number of scenarios. In particular it breaks many, many test-cases in the test-suite, but it also causes some problems in real-world scenarios (I donât have the details to hand).\r\n\r\nSo I decided that it was better to advertise what we really do: by default, the cross-compiler setup produces binaries which donât support the various hardening flags available in Windows. Projects which know what theyâre doing can pass the relevant flags and get the improved security; in other cases, security analysis tools will flag binaries appropriately, and hopefully no one will be fooled.\r\n\r\nIf I (or someone else) can come up with a meaningful set of defaults, Iâll be more than happy to change them again.",
      "created_at" : "2020-04-14T15:08:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-613499283",
      "id" : 613499283,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18629",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMzQ5OTI4Mw==",
      "updated_at" : "2020-04-14T15:08:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/613499283",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/2128935?v=4",
         "events_url" : "https://api.github.com/users/skitt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/skitt/followers",
         "following_url" : "https://api.github.com/users/skitt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/skitt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/skitt",
         "id" : 2128935,
         "login" : "skitt",
         "node_id" : "MDQ6VXNlcjIxMjg5MzU=",
         "organizations_url" : "https://api.github.com/users/skitt/orgs",
         "received_events_url" : "https://api.github.com/users/skitt/received_events",
         "repos_url" : "https://api.github.com/users/skitt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/skitt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/skitt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/skitt"
      }
   }
]
