[
   {
      "body" : "Iterating though the entire mempool whenever the limit size is exceeded seems inefficient, especially with larger mempools. I would either keep an index ordered by priority/whatever, or use random deletes instead.\r\n\r\nAlso, needs a hook for the wallet to mark its own transactions as \"precious\", or the conflict detection mechanism will break.",
      "created_at" : "2015-06-14T13:11:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6281#issuecomment-111825309",
      "id" : 111825309,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6281",
      "updated_at" : "2015-06-14T13:11:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/111825309",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Also, priority seems to be the wrong metric, as most of the mempool sorting is done by fee/byte rather than by priority.",
      "created_at" : "2015-06-14T13:13:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6281#issuecomment-111825386",
      "id" : 111825386,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6281",
      "updated_at" : "2015-06-14T13:13:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/111825386",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "You should not remove any transactions that have dependencies before first removing their dependent transactions.\r\n\r\nAlso how about preserving nBlockPrioritySize worth of the highest priority transactions, and then pruning the rest based on fees.",
      "created_at" : "2015-06-14T14:06:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6281#issuecomment-111828867",
      "id" : 111828867,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6281",
      "updated_at" : "2015-06-14T14:06:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/111828867",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/549484?v=3",
         "events_url" : "https://api.github.com/users/ashleyholman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ashleyholman/followers",
         "following_url" : "https://api.github.com/users/ashleyholman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ashleyholman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ashleyholman",
         "id" : 549484,
         "login" : "ashleyholman",
         "organizations_url" : "https://api.github.com/users/ashleyholman/orgs",
         "received_events_url" : "https://api.github.com/users/ashleyholman/received_events",
         "repos_url" : "https://api.github.com/users/ashleyholman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ashleyholman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ashleyholman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ashleyholman"
      }
   },
   {
      "body" : "Actually, ignore what I said about dependents because I see that the remove() call will remove all of the dependent transactions, which seems like the right thing to do.",
      "created_at" : "2015-06-14T14:27:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6281#issuecomment-111831328",
      "id" : 111831328,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6281",
      "updated_at" : "2015-06-14T14:27:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/111831328",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/549484?v=3",
         "events_url" : "https://api.github.com/users/ashleyholman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ashleyholman/followers",
         "following_url" : "https://api.github.com/users/ashleyholman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ashleyholman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ashleyholman",
         "id" : 549484,
         "login" : "ashleyholman",
         "organizations_url" : "https://api.github.com/users/ashleyholman/orgs",
         "received_events_url" : "https://api.github.com/users/ashleyholman/received_events",
         "repos_url" : "https://api.github.com/users/ashleyholman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ashleyholman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ashleyholman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ashleyholman"
      }
   }
]
