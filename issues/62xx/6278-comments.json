[
   {
      "body" : "Hmmm.. that's interesting. Are you sure this is related to the comparison tool?\r\n\r\nI'm asking, because I've never seen timeouts in another project/fork, which is currently based on Bitcoin Core 0.10. There are probably less than 10 builds per day though. But what I actually noticed: after testing a migration to 0.11 (based on [053110d](https://github.com/bitcoin/bitcoin/commit/053110ddcb1cc5a20658075f1768da87681b98ec)), the Boost tests [timed out from time to time](https://travis-ci.org/dexX7/bitcoin/jobs/65724188#L1821), but not always.\r\n\r\nI assumed this was somehow a mistake on my part, or simply \"bad luck\". The number of 0.11 builds was very low, and right now 0.10 is still used, so this might not be related at all. On top, Travis builds are routed through the container based infrastructure.\r\n\r\nHowever, when running `./src/test/test_bitcoin --log_level=test_suite` in a loop locally (done a few minutes ago), it stops at some point here:\r\n```\r\nEntering test suite \"scheduler_tests\"\r\nEntering test case \"manythreads\"\r\n```\r\n\r\nI think this rules out that it's related to Travis. I'm going to test a clean version of Core now.",
      "created_at" : "2015-06-13T14:54:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6278#issuecomment-111716924",
      "id" : 111716924,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6278",
      "updated_at" : "2015-06-13T15:02:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/111716924",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5836089?v=3",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "body" : "The [current master](https://github.com/bitcoin/bitcoin/commit/ab0ec6790355473e96176ec3c2c2b1564ddb296d) seems to have the same problem. \r\n\r\nWhen running `test_bitcoin` in a loop, it stops at some point during the `scheduler_tests`.\r\n\r\nTested on Ubuntu 14.04 LTS x64 with:\r\n```\r\nBitcoin version v0.11.99.0-ab0ec67 (2015-06-12 16:49:53 +0200)\r\nUsing OpenSSL version OpenSSL 1.0.1f 6 Jan 2014\r\nUsing BerkeleyDB version Berkeley DB 4.8.30: (April  9, 2010)\r\n```",
      "created_at" : "2015-06-13T15:00:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6278#issuecomment-111717391",
      "id" : 111717391,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6278",
      "updated_at" : "2015-06-13T15:00:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/111717391",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5836089?v=3",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "body" : "The scheduler test is another possible source of hangs. It has been fixed a few times, but it's still possible for there to be some race condition that makes it either never finish or really slowly.\r\n\r\nAdding timestamps to the test output, as well as more verbose logging to test_bitcoin, may be a good idea.\r\n",
      "created_at" : "2015-06-15T05:52:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6278#issuecomment-111934313",
      "id" : 111934313,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6278",
      "updated_at" : "2015-06-15T05:52:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/111934313",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "On the other hand I see a lot of false positives in travis end in the comparison tool .e.g. the end usually looks like\r\n```\r\n11:06:51 15 BitcoindComparisonTool$1.onPreMessageReceived: Got empty header message from bitcoind\r\n11:06:51 1 BitcoindComparisonTool.main: Block \"b3\" completed processing\r\n11:06:51 1 BitcoindComparisonTool.main: Testing block b3 499b1ec0ece4c4ef3b123d7498e3a5cfc85685fc9998a3f07b0fc7c977433627\r\n11:06:51 1 BitcoindComparisonTool.main: Sent inv with block 499b1ec0ece4c4ef3b123d7498e3a5cfc85685fc9998a3f07b0fc7c977433627\r\n11:06:51 15 BitcoindComparisonTool$1.onPreMessageReceived: Got empty header message from bitcoind\r\nException in thread \"main\" java.lang.NullPointerException\r\nat com.google.bitcoin.core.BitcoindComparisonTool.main(BitcoindComparisonTool.java:311)\r\nNo output has been received in the last 10 minutes, this potentially indicates a stalled build or something wrong with the build itself.\r\n\r\nThe build has been terminated\r\n```\r\nI think this is the NULL pointer that @theuni is looking for too.\r\n",
      "created_at" : "2015-06-15T05:54:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6278#issuecomment-111934537",
      "id" : 111934537,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6278",
      "updated_at" : "2015-06-15T06:06:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/111934537",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
