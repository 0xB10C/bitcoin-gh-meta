[
   {
      "body" : "Needed rebase. Also replaced GetParamsHelpMessages with AppendParamsHelpMessages, which optionally takes a showDebugHelp boolean.",
      "created_at" : "2015-06-21T12:49:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6235#issuecomment-113896338",
      "id" : 113896338,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6235",
      "updated_at" : "2015-06-21T12:49:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/113896338",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "@theuni this may interact with your code.",
      "created_at" : "2015-06-25T18:53:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6235#issuecomment-115361224",
      "id" : 115361224,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6235",
      "updated_at" : "2015-06-25T18:53:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/115361224",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Closing for now to reduce noise",
      "created_at" : "2015-06-25T21:25:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6235#issuecomment-115403477",
      "id" : 115403477,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6235",
      "updated_at" : "2015-06-25T21:25:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/115403477",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Great. MAX_NETWORK_TYPES is removed in the second commit.",
      "created_at" : "2015-07-06T21:34:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6235#issuecomment-119004314",
      "id" : 119004314,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6235",
      "updated_at" : "2015-07-06T21:34:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119004314",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Ack (tested).",
      "created_at" : "2015-07-07T06:24:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6235#issuecomment-119085602",
      "id" : 119085602,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6235",
      "updated_at" : "2015-07-07T06:24:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119085602",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/775844?v=3",
         "events_url" : "https://api.github.com/users/rustyrussell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rustyrussell/followers",
         "following_url" : "https://api.github.com/users/rustyrussell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rustyrussell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rustyrussell",
         "id" : 775844,
         "login" : "rustyrussell",
         "organizations_url" : "https://api.github.com/users/rustyrussell/orgs",
         "received_events_url" : "https://api.github.com/users/rustyrussell/received_events",
         "repos_url" : "https://api.github.com/users/rustyrussell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rustyrussell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rustyrussell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rustyrussell"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6235#discussion_r34011498"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6235"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34011498"
         }
      },
      "body" : "Why move away from a switch case construct?",
      "commit_id" : "e9c4ee40732a2a76ed47c07ba8470168e5ee10cc",
      "created_at" : "2015-07-07T06:45:27Z",
      "diff_hunk" : "@@ -243,31 +244,20 @@ const CChainParams &Params() {\n     return *pCurrentParams;\n }\n \n-CChainParams &Params(CBaseChainParams::Network network) {\n-    switch (network) {\n-        case CBaseChainParams::MAIN:\n+CChainParams& Params(const std::string& chain)\n+{\n+    if (chain == CBaseChainParams::MAIN)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6235#discussion_r34011498",
      "id" : 34011498,
      "original_commit_id" : "e9c4ee40732a2a76ed47c07ba8470168e5ee10cc",
      "original_position" : 17,
      "path" : "src/chainparams.cpp",
      "position" : 17,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6235",
      "updated_at" : "2015-07-07T06:45:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34011498",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "General approach OK.  Comments:\r\n\r\n* Still repeating a chain lookup in chainparams.cpp & chainparamsbase.cpp\r\n* Only now it is worse because it is a more expensive (now duplicated) string comparison\r\n* Seeing this duplication hints that a table-driven approach, with each string inside the param struct, is superior to manually administered case statements (& duplicated) of chain strings.\r\n\r\nSeems like you want find_chain_by_string(), returns id, which can be passed around efficiently as 'network' -- which is consistent with what the rest of the code does now.\r\n",
      "created_at" : "2015-07-07T06:46:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6235#issuecomment-119090545",
      "id" : 119090545,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6235",
      "updated_at" : "2015-07-07T06:46:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119090545",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6235#discussion_r34012155"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6235"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34012155"
         }
      },
      "body" : "You can't switch on a string...",
      "commit_id" : "e9c4ee40732a2a76ed47c07ba8470168e5ee10cc",
      "created_at" : "2015-07-07T06:58:30Z",
      "diff_hunk" : "@@ -243,31 +244,20 @@ const CChainParams &Params() {\n     return *pCurrentParams;\n }\n \n-CChainParams &Params(CBaseChainParams::Network network) {\n-    switch (network) {\n-        case CBaseChainParams::MAIN:\n+CChainParams& Params(const std::string& chain)\n+{\n+    if (chain == CBaseChainParams::MAIN)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6235#discussion_r34012155",
      "id" : 34012155,
      "original_commit_id" : "e9c4ee40732a2a76ed47c07ba8470168e5ee10cc",
      "original_position" : 17,
      "path" : "src/chainparams.cpp",
      "position" : 17,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6235",
      "updated_at" : "2015-07-07T06:58:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34012155",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/775844?v=3",
         "events_url" : "https://api.github.com/users/rustyrussell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rustyrussell/followers",
         "following_url" : "https://api.github.com/users/rustyrussell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rustyrussell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rustyrussell",
         "id" : 775844,
         "login" : "rustyrussell",
         "organizations_url" : "https://api.github.com/users/rustyrussell/orgs",
         "received_events_url" : "https://api.github.com/users/rustyrussell/received_events",
         "repos_url" : "https://api.github.com/users/rustyrussell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rustyrussell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rustyrussell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rustyrussell"
      }
   },
   {
      "body" : "@jgarzik since each param has a strNetworkID which is exactly the same as the CBaseChainParams constants introduced, I think a set would be the simplest.\r\n\r\nRe-introducing an intermediate type would defeat the point of these patches for me, which is to allow me to easily create a new testnet.  I've been hacking bitcoind to run a megablocks testnet, for example.\r\n\r\nBut I like the simplicity of the patch's mechanical translation; easy to review.  A lookup mechanism on top could work well as a new patch.",
      "created_at" : "2015-07-07T07:16:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6235#issuecomment-119099072",
      "id" : 119099072,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6235",
      "updated_at" : "2015-07-07T07:16:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119099072",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/775844?v=3",
         "events_url" : "https://api.github.com/users/rustyrussell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rustyrussell/followers",
         "following_url" : "https://api.github.com/users/rustyrussell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rustyrussell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rustyrussell",
         "id" : 775844,
         "login" : "rustyrussell",
         "organizations_url" : "https://api.github.com/users/rustyrussell/orgs",
         "received_events_url" : "https://api.github.com/users/rustyrussell/received_events",
         "repos_url" : "https://api.github.com/users/rustyrussell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rustyrussell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rustyrussell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rustyrussell"
      }
   },
   {
      "body" : "> - Still repeating a chain lookup in chainparams.cpp & chainparamsbase.cpp\r\n> - Only now it is worse because it is a more expensive (now duplicated) string comparison\r\n\r\nYes, the string comparison is more expensive, but it's done on init or tests, so I think it's fine.\r\nWhat do you mean by \"now duplicated\". Can you point out what exactly am I duplicating here?\r\n\r\n> -Seeing this duplication hints that a table-driven approach, with each string inside the param struct, is superior to manually administered case statements (& duplicated) of chain strings.\r\n> Seems like you want find_chain_by_string(), returns id, which can be passed around efficiently as 'network' -- which is consistent with what the rest of the code does now.\r\n\r\n@jgarzik I'm not sure I understand your suggestion.\r\nYou mean a function like ```CBaseChainParams::Network networkEnumFromChainName(std::string)```?\r\nThat doesn't remove the duplicated switch/elifs for chainparams and basechainparams. The problem here with that duplication is having base chainparams in the first place. This is not doing anything against or in favor to that. I believe we could move the datadir to regular chainparams and have users select the bitcoin-cli port manually instead of indirectly through -testnet and -regtest. Anyway, that would belong in another PR.\r\nAnyway, this PR was open without replacing the enum with a string. I could reopen that again, but it's cleaner this way and there's many other things that require that replacement in #6382 .",
      "created_at" : "2015-07-07T07:58:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6235#issuecomment-119110111",
      "id" : 119110111,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6235",
      "updated_at" : "2015-07-07T07:58:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119110111",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "EDIT (after reverting #6077 ):\r\n~~This (and thus #6382) should fail the compilation if merged after #6077, I will rebase both: but don't merge this now.~~",
      "created_at" : "2015-07-28T17:00:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6235#issuecomment-125679240",
      "id" : 125679240,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6235",
      "updated_at" : "2015-07-29T11:32:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/125679240",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "ping @theuni . This should be useful for #6526 just like it's useful for #6382 ",
      "created_at" : "2015-08-20T23:26:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6235#issuecomment-133210340",
      "id" : 133210340,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6235",
      "updated_at" : "2015-08-20T23:26:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/133210340",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   }
]
