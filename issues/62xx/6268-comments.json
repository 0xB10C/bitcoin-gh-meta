[
   {
      "body" : "Just checked and right: `generate` does not use `keepKey()`.\r\nPR #5994 would fix this (next to decoupling wallet / miner). I'm also happy to write a standalone-fix for this issue if no one already started.",
      "created_at" : "2015-06-10T19:33:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6268#issuecomment-110886680",
      "id" : 110886680,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6268",
      "updated_at" : "2015-06-10T19:33:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/110886680",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "I think this was done on purpose, to avoid having to generate a new key for each block and thus speed up generation. @sipa do you remember?\r\n\r\nEdit: but of course, if you seriously need this, we could just make it a flag.",
      "created_at" : "2015-06-11T08:29:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6268#issuecomment-111040583",
      "id" : 111040583,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6268",
      "updated_at" : "2015-06-11T08:44:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/111040583",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "If I'm not mistaken, then this was introduced by https://github.com/bitcoin/bitcoin/commit/18379875bf7dd91637e4a206db58cd0968b5d47f.\r\n\r\nFor me this was pretty confusing, because it has an impact on `\"getnewaddress\"`, and the \"new\" address may already have received mined coins. To reproduce in regtest mode, starting from scratch:\r\n```shell\r\n./src/bitcoin-cli \"generate\" 101\r\n[\r\n  # block hashes\r\n]\r\n./src/bitcoin-cli \"listunspent\"\r\n[\r\n  {\r\n    \"txid\": \"b148b7d13c3351875d070d0567855bce47fcc797b3504247c4fcd68d902523ab\",\r\n    \"vout\": 0,\r\n    \"address\": \"mu1ZwmfRH4HHowDrrjSTsqSfMKLBeZkn2a\",\r\n    \"scriptPubKey\": \"2103ad57ff9cd560507938698630455ab926b070add217a3b30aead57cd578b935feac\",\r\n    \"amount\": 50.00000000,\r\n    \"confirmations\": 101,\r\n    \"spendable\": true\r\n  }\r\n]\r\n./src/bitcoin-cli \"getnewaddress\"   # ... or \"getrawchangeaddress\"\r\nmu1ZwmfRH4HHowDrrjSTsqSfMKLBeZkn2a  # the new address isn't empty, but has 50.0 BTC\r\n```\r\n\r\nAdditional coins will be mined to that address, too, if `\"generate\"` is used again.",
      "created_at" : "2015-06-13T23:56:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6268#issuecomment-111764103",
      "id" : 111764103,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6268",
      "updated_at" : "2015-06-13T23:56:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/111764103",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5836089?v=3",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   }
]
