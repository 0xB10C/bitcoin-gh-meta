[
   {
      "author_association" : "MEMBER",
      "body" : "If you enable to show threads in htop, what is the name of the thread that uses all the cpu?",
      "created_at" : "2019-05-10T11:17:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16004#issuecomment-491253686",
      "id" : 491253686,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16004",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTI1MzY4Ng==",
      "updated_at" : "2019-05-10T11:17:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491253686",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I've anbled \"Show Custom Thread Names\" and if not mistaken, `bitcoin-opencon` and `bitcoin-addcon` are the threads consuming CPU. Nearly all the time, it is `bitcoin-addcon`. Usually both. \r\n\r\n![imagen](https://user-images.githubusercontent.com/12942552/57524425-0a49b700-7328-11e9-8b10-067d11ec1476.png)\r\n",
      "created_at" : "2019-05-10T11:34:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16004#issuecomment-491257627",
      "id" : 491257627,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16004",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTI1NzYyNw==",
      "updated_at" : "2019-05-10T12:26:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491257627",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/12942552?v=4",
         "events_url" : "https://api.github.com/users/perefeliu/events{/privacy}",
         "followers_url" : "https://api.github.com/users/perefeliu/followers",
         "following_url" : "https://api.github.com/users/perefeliu/following{/other_user}",
         "gists_url" : "https://api.github.com/users/perefeliu/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/perefeliu",
         "id" : 12942552,
         "login" : "perefeliu",
         "node_id" : "MDQ6VXNlcjEyOTQyNTUy",
         "organizations_url" : "https://api.github.com/users/perefeliu/orgs",
         "received_events_url" : "https://api.github.com/users/perefeliu/received_events",
         "repos_url" : "https://api.github.com/users/perefeliu/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/perefeliu/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/perefeliu/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/perefeliu"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Might be the same as #15665.",
      "created_at" : "2019-05-10T11:35:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16004#issuecomment-491257973",
      "id" : 491257973,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16004",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTI1Nzk3Mw==",
      "updated_at" : "2019-05-10T11:35:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491257973",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This one also shows a spike in `addcon`",
      "created_at" : "2019-05-10T11:39:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16004#issuecomment-491258903",
      "id" : 491258903,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16004",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTI1ODkwMw==",
      "updated_at" : "2019-05-10T11:39:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491258903",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : " `addcon` is running nearly all the time, rather than a spike, it is more of a constant charge on CPU. `opencon` follows more an spike pattern. I'm trying #15665 but having some problems that I have written within #15665. I will come back with results.\r\n",
      "created_at" : "2019-05-10T12:16:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16004#issuecomment-491268194",
      "id" : 491268194,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16004",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTI2ODE5NA==",
      "updated_at" : "2019-05-10T12:16:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491268194",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/12942552?v=4",
         "events_url" : "https://api.github.com/users/perefeliu/events{/privacy}",
         "followers_url" : "https://api.github.com/users/perefeliu/followers",
         "following_url" : "https://api.github.com/users/perefeliu/following{/other_user}",
         "gists_url" : "https://api.github.com/users/perefeliu/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/perefeliu",
         "id" : 12942552,
         "login" : "perefeliu",
         "node_id" : "MDQ6VXNlcjEyOTQyNTUy",
         "organizations_url" : "https://api.github.com/users/perefeliu/orgs",
         "received_events_url" : "https://api.github.com/users/perefeliu/received_events",
         "repos_url" : "https://api.github.com/users/perefeliu/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/perefeliu/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/perefeliu/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/perefeliu"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I am having trouble following #15665 \r\n\r\nThis is what I get:\r\n\r\n```\r\n(gdb) run\r\nStarting program: /usr/local/bin/bitcoin-qt\r\nCannot parse expression `.L1185 4@r4'.\r\nwarning: Probes-based dynamic linker interface failed.\r\nReverting to original interface.\r\n\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/arm-linux-gnueabihf/libthread_db.so.1\".\r\nqt.qpa.screen: QXcbConnection: Could not connect to display\r\nCould not connect to any X display.\r\n[Inferior 1 (process 3987) exited with code 01]\r\n```\r\nDo I need a display to perform that action? I also assume that I need a the bitcoin daemon to be running.\r\n\r\nI also checked the flag `debug=net` and I don't see anything outside normal. Could it be a DoS by some of the nodes?",
      "created_at" : "2019-05-14T06:09:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16004#issuecomment-492092150",
      "id" : 492092150,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16004",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MjA5MjE1MA==",
      "updated_at" : "2019-05-14T06:09:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/492092150",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/12942552?v=4",
         "events_url" : "https://api.github.com/users/perefeliu/events{/privacy}",
         "followers_url" : "https://api.github.com/users/perefeliu/followers",
         "following_url" : "https://api.github.com/users/perefeliu/following{/other_user}",
         "gists_url" : "https://api.github.com/users/perefeliu/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/perefeliu",
         "id" : 12942552,
         "login" : "perefeliu",
         "node_id" : "MDQ6VXNlcjEyOTQyNTUy",
         "organizations_url" : "https://api.github.com/users/perefeliu/orgs",
         "received_events_url" : "https://api.github.com/users/perefeliu/received_events",
         "repos_url" : "https://api.github.com/users/perefeliu/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/perefeliu/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/perefeliu/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/perefeliu"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If you are not using the gui, but `bitcoind`, replace `bitcoin-qt` with `bitcoind` in those instructions, please",
      "created_at" : "2019-05-14T12:21:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16004#issuecomment-492214283",
      "id" : 492214283,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16004",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MjIxNDI4Mw==",
      "updated_at" : "2019-05-14T12:21:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/492214283",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Can confirm similar symptoms (1 of 4 cores running at 100% almost continually) in v0.18.0 when using a SOCKS5 proxy with Tor running locally. Network settings as per screenshot. This is on Ubuntu 18.04. I did not experience this issue in v0.17.1 with the same settings. Only workaround appears to be to stop using the proxy.\r\n\r\n![image](https://user-images.githubusercontent.com/3764715/57705229-fddc9b80-7652-11e9-85c7-be333ae3f111.png)\r\n",
      "created_at" : "2019-05-14T14:33:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16004#issuecomment-492263596",
      "id" : 492263596,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16004",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MjI2MzU5Ng==",
      "updated_at" : "2019-05-14T14:33:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/492263596",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3764715?v=4",
         "events_url" : "https://api.github.com/users/MatzFan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MatzFan/followers",
         "following_url" : "https://api.github.com/users/MatzFan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MatzFan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MatzFan",
         "id" : 3764715,
         "login" : "MatzFan",
         "node_id" : "MDQ6VXNlcjM3NjQ3MTU=",
         "organizations_url" : "https://api.github.com/users/MatzFan/orgs",
         "received_events_url" : "https://api.github.com/users/MatzFan/received_events",
         "repos_url" : "https://api.github.com/users/MatzFan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MatzFan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MatzFan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MatzFan"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Doing what is asked in #15665 does not appear to solve the issue, if I've done it correctly.\r\n\r\nTo be clear about what I've done, I've stopped the bitcoind as a service. After thatm I run `gdb` and wait until I see the `bitcoin-addcon` thread start, (which is instantly, no need to wait). To perform this action, I've stopped the LND service, so it does not appear that LND is causing the issue.\r\n\r\n```\r\nsudo systemctl stop bitcoind\r\ngdb --args /usr/local/bin/bitcoind\r\nrun\r\nCtrl+C\r\n```\r\n",
      "created_at" : "2019-05-14T19:10:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16004#issuecomment-492370321",
      "id" : 492370321,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16004",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MjM3MDMyMQ==",
      "updated_at" : "2019-05-14T19:10:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/492370321",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/12942552?v=4",
         "events_url" : "https://api.github.com/users/perefeliu/events{/privacy}",
         "followers_url" : "https://api.github.com/users/perefeliu/followers",
         "following_url" : "https://api.github.com/users/perefeliu/following{/other_user}",
         "gists_url" : "https://api.github.com/users/perefeliu/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/perefeliu",
         "id" : 12942552,
         "login" : "perefeliu",
         "node_id" : "MDQ6VXNlcjEyOTQyNTUy",
         "organizations_url" : "https://api.github.com/users/perefeliu/orgs",
         "received_events_url" : "https://api.github.com/users/perefeliu/received_events",
         "repos_url" : "https://api.github.com/users/perefeliu/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/perefeliu/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/perefeliu/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/perefeliu"
      }
   }
]
