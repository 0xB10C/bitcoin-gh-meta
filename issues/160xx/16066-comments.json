[
   {
      "author_association" : "MEMBER",
      "body" : "@promag Do you have any IBD measurements before vs after this change to share?",
      "created_at" : "2019-05-21T14:57:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16066#issuecomment-494427995",
      "id" : 494427995,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16066",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NDQyNzk5NQ==",
      "updated_at" : "2019-05-21T14:57:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494427995",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@practicalswift updated OP.",
      "created_at" : "2019-05-21T15:16:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16066#issuecomment-494435844",
      "id" : 494435844,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16066",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NDQzNTg0NA==",
      "updated_at" : "2019-05-21T15:16:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494435844",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16066#discussion_r286105254"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16066"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286105254"
         }
      },
      "author_association" : "MEMBER",
      "body" : "We shouldn't use a function that is only used to print debug statements in validation. Couldn't you replace this with a check `if (this_block_height < .9*total_header_height)`?",
      "commit_id" : "d9d41f210ef1f8504f755e05a22d767b9e7cbead",
      "created_at" : "2019-05-21T16:02:50Z",
      "diff_hunk" : "@@ -2459,7 +2459,7 @@ bool CChainState::ConnectTip(CValidationState& state, const CChainParams& chainp\n     int64_t nTime5 = GetTimeMicros(); nTimeChainState += nTime5 - nTime4;\n     LogPrint(BCLog::BENCH, \"  - Writing chainstate: %.2fms [%.2fs (%.2fms/blk)]\\n\", (nTime5 - nTime4) * MILLI, nTimeChainState * MICRO, nTimeChainState * MILLI / nBlocksTotal);\n     // Remove conflicting transactions from the mempool.;\n-    mempool.removeForBlock(blockConnecting.vtx, pindexNew->nHeight);\n+    mempool.removeForBlock(blockConnecting.vtx, pindexNew->nHeight, GuessVerificationProgress(chainparams.TxData(), pindexNew) > 0.9);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16066#discussion_r286105254",
      "id" : 286105254,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjEwNTI1NA==",
      "original_commit_id" : "8854ebbec6ca12ce03c02ee31625e78886b1a48d",
      "original_position" : 5,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 240148423,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16066",
      "updated_at" : "2019-05-21T16:58:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286105254",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke updated to take into account block age instead.",
      "created_at" : "2019-05-21T17:00:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16066#issuecomment-494474538",
      "id" : 494474538,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16066",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NDQ3NDUzOA==",
      "updated_at" : "2019-05-21T17:00:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494474538",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#14193](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14193.html) (validation: Add missing mempool locks by MarcoFalke)\n* [#10443](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/10443.html) (Add fee_est tool for debugging fee estimation code by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-05-21T17:00:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16066#issuecomment-494474560",
      "id" : 494474560,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16066",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NDQ3NDU2MA==",
      "updated_at" : "2019-05-21T17:00:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494474560",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16066#discussion_r286161109"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16066"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286161109"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should explain where this magic number comes from and why it is a safe choice considering the other constants in policy/fees.h. Ideally you'd express it using existing constants",
      "commit_id" : "d9d41f210ef1f8504f755e05a22d767b9e7cbead",
      "created_at" : "2019-05-21T18:19:12Z",
      "diff_hunk" : "@@ -107,6 +107,8 @@ static const int64_t BLOCK_DOWNLOAD_TIMEOUT_PER_PEER = 500000;\n static const int64_t DEFAULT_MAX_TIP_AGE = 24 * 60 * 60;\n /** Maximum age of our tip in seconds for us to be considered current for fee estimation */\n static const int64_t MAX_FEE_ESTIMATION_TIP_AGE = 3 * 60 * 60;\n+/** Maximum block age in seconds for us to be considered suitable for fee estimator */\n+static const int64_t MAX_FEE_ESTIMATOR_BLOCK_AGE = 48 * 60 * 60;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16066#discussion_r286161109",
      "id" : 286161109,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjE2MTEwOQ==",
      "original_commit_id" : "d9d41f210ef1f8504f755e05a22d767b9e7cbead",
      "original_position" : 5,
      "path" : "src/validation.h",
      "position" : 5,
      "pull_request_review_id" : 240219416,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16066",
      "updated_at" : "2019-05-21T18:19:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286161109",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16066#discussion_r286188245"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16066"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286188245"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No magic here, just picked 2 days .. I think it should be a value that would produce similar fee rates right?",
      "commit_id" : "d9d41f210ef1f8504f755e05a22d767b9e7cbead",
      "created_at" : "2019-05-21T19:29:08Z",
      "diff_hunk" : "@@ -107,6 +107,8 @@ static const int64_t BLOCK_DOWNLOAD_TIMEOUT_PER_PEER = 500000;\n static const int64_t DEFAULT_MAX_TIP_AGE = 24 * 60 * 60;\n /** Maximum age of our tip in seconds for us to be considered current for fee estimation */\n static const int64_t MAX_FEE_ESTIMATION_TIP_AGE = 3 * 60 * 60;\n+/** Maximum block age in seconds for us to be considered suitable for fee estimator */\n+static const int64_t MAX_FEE_ESTIMATOR_BLOCK_AGE = 48 * 60 * 60;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16066#discussion_r286188245",
      "id" : 286188245,
      "in_reply_to_id" : 286161109,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjE4ODI0NQ==",
      "original_commit_id" : "d9d41f210ef1f8504f755e05a22d767b9e7cbead",
      "original_position" : 5,
      "path" : "src/validation.h",
      "position" : 5,
      "pull_request_review_id" : 240253780,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16066",
      "updated_at" : "2019-05-21T19:29:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286188245",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
