[
   {
      "body" : "Most of the diff here is changing the signature of AcceptToMemoryPool trivially....",
      "created_at" : "2017-01-09T19:46:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9499#issuecomment-271387601",
      "id" : 271387601,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9499",
      "updated_at" : "2017-01-09T19:46:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/271387601",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "To clarify: only rejected transactions are limited based on memory-usage (to 100KB), everything else relies on the standardness limits - 400K weight, which would be 400KB of witness data, max.",
      "created_at" : "2017-01-09T19:51:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9499#issuecomment-271389008",
      "id" : 271389008,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9499",
      "updated_at" : "2017-01-09T19:51:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/271389008",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Concept ACK. nice implementation.\r\n\r\nYou should probably consider adding an extra count \"% from memory (% hits against extra),\" to the successful reconstruction log entry.\r\n\r\nThe count limit is unfortunate, merely 100 entries but 40MB max?  you could easily keep count of the worst case memory usage (ignoring the deduplication) and then just target 4MB-- lots less memory and a higher hitrate no doubt.  Ultimately reject will need to be separately limited (too easy for a single trouble maker to blow it out, and not just an attacker: an older peer without a fee filter) somehow but this should be fine for now.",
      "created_at" : "2017-01-09T20:32:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9499#issuecomment-271399263",
      "id" : 271399263,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9499",
      "updated_at" : "2017-01-09T20:35:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/271399263",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Indeed, doing smarter limiting would be nice, but this should do for a bare-bones help-the-default-case win for 0.14 (if it turns out to do enough and the fast progress we've been making on review continues through the end of the week). If we prefer it's not really any additional review burden to do a memory-based limit across the entire list.\n\nOn January 9, 2017 3:33:01 PM EST, Gregory Maxwell <notifications@github.com> wrote:\n>Concept ACK. nice implementation.\n>\n>You should probably consider adding an extra count \"% from memory (%\n>hits against extra),\" to the successful reconstruction log entry.\n>\n>The count limit is unfortunate, merely 100 entries but 40MB max?  you\n>could easily keep count of the worst case memory usage (ignoring the\n>deduplication) and then just target 4MB-- lots less memory and a higher\n>hitrate no doubt.\n>\n>-- \n>You are receiving this because you authored the thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/pull/9499#issuecomment-271399263\n",
      "created_at" : "2017-01-09T21:17:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9499#issuecomment-271410433",
      "id" : 271410433,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9499",
      "updated_at" : "2017-01-09T21:17:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/271410433",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9499#discussion_r95397606"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9499"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95397606"
         }
      },
      "body" : "technically this is for rejects as well too now... maybe `vExtraTxnIt` and same for the vector below",
      "commit_id" : "863edb45b9841c3058e883015c7576e6f69e3cc6",
      "created_at" : "2017-01-10T16:12:22Z",
      "diff_hunk" : "@@ -59,6 +59,9 @@ map<uint256, COrphanTx> mapOrphanTransactions GUARDED_BY(cs_main);\n map<COutPoint, set<map<uint256, COrphanTx>::iterator, IteratorComparator>> mapOrphanTransactionsByPrev GUARDED_BY(cs_main);\n void EraseOrphansFor(NodeId peer) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n \n+static size_t vOrphanAndRecentlyRemovedTxnIt = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9499#discussion_r95397606",
      "id" : 95397606,
      "original_commit_id" : "b75d967e3cf4d4a9f315d637f32cfec9acaa03a8",
      "original_position" : 4,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 15950601,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9499",
      "updated_at" : "2017-01-10T19:48:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95397606",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "body" : "It's working for me. I added logging for transactions that come from the extrapool\r\n\r\n> +    LogPrint(\"cmpctblock\", \"Successfully reconstructed block %s with %lu txn prefilled, %lu txn from memory (%lu extra hits), and %lu txn requested\\n\", hash.ToString(), prefilled_count, mempool_count, extra_count, vtx_missing.size());\r\n\r\nPlease add that, I know extra can't be counted completely precisely in the presence of collisions but it's very useful information.\r\n\r\nSome stats: \r\n\r\n$ grep essfu ~/.bitcoin/debug.log | tail -n 72  | awk '{aa=int(substr($15,2))>0; bb=$19>0; if (aa && !bb) {saved+=1} else if (!aa && !bb) {noextra+=1} else {roundtrip+=1} } END {print saved/NR \" \" noextra/NR \" \" roundtrip/NR}' \r\n0.180556 0.527778 0.291667\r\n\r\nSo the extra increased no-roundtrip from 52% to 68%... in the last 72 blocks here. Though I see there are at least a couple blocks where extra was just too small and would have been successful if it were larger, I can tell because <5 were missed and grepped the logs showed that I had previously received them.  I think thats a big enough improvement to justify doing it, but the size should be increased eventually (presumably via better memory management).",
      "created_at" : "2017-01-10T18:54:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9499#issuecomment-271663359",
      "id" : 271663359,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9499",
      "updated_at" : "2017-01-10T18:59:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/271663359",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Renamed vOrphanAndRecentlyRemovedTxn -> vExtraTxnForCompact, no other changes",
      "created_at" : "2017-01-10T19:50:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9499#issuecomment-271678879",
      "id" : 271678879,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9499",
      "updated_at" : "2017-01-10T19:50:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/271678879",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9499#discussion_r95461112"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9499"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95461112"
         }
      },
      "body" : "A quick examination shows 80-90% of transactions not accepted to the mempool are due to rate limited free transaction.   What do you think about also adding to this check and the one below `&& state.GetRejectCode() != REJECT_INSUFFICIENTFEE`\r\n\r\nYou could be throwing away some transactions that would help blocks reconstruct, but I get close to 100 \"not accepted\" transactions an hour and it seems like I'd rather have 5 hours of non-free transactions rather than 1 hour of all.",
      "commit_id" : "863edb45b9841c3058e883015c7576e6f69e3cc6",
      "created_at" : "2017-01-10T21:28:39Z",
      "diff_hunk" : "@@ -1741,7 +1741,10 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n                 // See https://github.com/bitcoin/bitcoin/issues/8279 for details.\n                 assert(recentRejects);\n                 recentRejects->insert(tx.GetHash());\n-            }\n+                if (RecursiveDynamicUsage(*ptx) < 100000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9499#discussion_r95461112",
      "id" : 95461112,
      "original_commit_id" : "863edb45b9841c3058e883015c7576e6f69e3cc6",
      "original_position" : 5,
      "path" : "src/net_processing.cpp",
      "position" : 62,
      "pull_request_review_id" : 16016728,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9499",
      "updated_at" : "2017-01-10T21:28:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95461112",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9499#discussion_r95469266"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9499"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95469266"
         }
      },
      "body" : "It might be more interesting to distinguish REJECT_INSUFFICIENTFEE from rejection because it didn't even meet the static minimum minfee.",
      "commit_id" : "863edb45b9841c3058e883015c7576e6f69e3cc6",
      "created_at" : "2017-01-10T22:10:21Z",
      "diff_hunk" : "@@ -1741,7 +1741,10 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n                 // See https://github.com/bitcoin/bitcoin/issues/8279 for details.\n                 assert(recentRejects);\n                 recentRejects->insert(tx.GetHash());\n-            }\n+                if (RecursiveDynamicUsage(*ptx) < 100000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9499#discussion_r95469266",
      "id" : 95469266,
      "original_commit_id" : "863edb45b9841c3058e883015c7576e6f69e3cc6",
      "original_position" : 5,
      "path" : "src/net_processing.cpp",
      "position" : 62,
      "pull_request_review_id" : 16025138,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9499",
      "updated_at" : "2017-01-10T22:10:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95469266",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9499#discussion_r95472161"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9499"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95472161"
         }
      },
      "body" : "I was trying to avoid any complication here, but if you think something simple is worth it I'm ok with adding something.",
      "commit_id" : "863edb45b9841c3058e883015c7576e6f69e3cc6",
      "created_at" : "2017-01-10T22:26:55Z",
      "diff_hunk" : "@@ -1741,7 +1741,10 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n                 // See https://github.com/bitcoin/bitcoin/issues/8279 for details.\n                 assert(recentRejects);\n                 recentRejects->insert(tx.GetHash());\n-            }\n+                if (RecursiveDynamicUsage(*ptx) < 100000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9499#discussion_r95472161",
      "id" : 95472161,
      "original_commit_id" : "863edb45b9841c3058e883015c7576e6f69e3cc6",
      "original_position" : 5,
      "path" : "src/net_processing.cpp",
      "position" : 62,
      "pull_request_review_id" : 16028079,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9499",
      "updated_at" : "2017-01-10T22:26:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95472161",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9499#discussion_r95472826"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9499"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95472826"
         }
      },
      "body" : "Yep understood, my guess was that this was simple and a decent improvement but @gmaxwell has a point in that failed replacements could also be REJECT_INSUFFICIENTFEE and those might not be things you want to throw away.  So up to you if you can simply disambiguate.\r\n",
      "commit_id" : "863edb45b9841c3058e883015c7576e6f69e3cc6",
      "created_at" : "2017-01-10T22:30:40Z",
      "diff_hunk" : "@@ -1741,7 +1741,10 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n                 // See https://github.com/bitcoin/bitcoin/issues/8279 for details.\n                 assert(recentRejects);\n                 recentRejects->insert(tx.GetHash());\n-            }\n+                if (RecursiveDynamicUsage(*ptx) < 100000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9499#discussion_r95472826",
      "id" : 95472826,
      "original_commit_id" : "863edb45b9841c3058e883015c7576e6f69e3cc6",
      "original_position" : 5,
      "path" : "src/net_processing.cpp",
      "position" : 62,
      "pull_request_review_id" : 16028794,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9499",
      "updated_at" : "2017-01-10T22:30:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95472826",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9499#discussion_r95492635"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9499"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95492635"
         }
      },
      "body" : "I propose leaving it alone for now, in the long run we'll want some kind of smarter queue. ",
      "commit_id" : "863edb45b9841c3058e883015c7576e6f69e3cc6",
      "created_at" : "2017-01-11T00:55:35Z",
      "diff_hunk" : "@@ -1741,7 +1741,10 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n                 // See https://github.com/bitcoin/bitcoin/issues/8279 for details.\n                 assert(recentRejects);\n                 recentRejects->insert(tx.GetHash());\n-            }\n+                if (RecursiveDynamicUsage(*ptx) < 100000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9499#discussion_r95492635",
      "id" : 95492635,
      "original_commit_id" : "863edb45b9841c3058e883015c7576e6f69e3cc6",
      "original_position" : 5,
      "path" : "src/net_processing.cpp",
      "position" : 62,
      "pull_request_review_id" : 16048916,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9499",
      "updated_at" : "2017-01-11T00:55:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95492635",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   }
]
