[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9419#discussion_r93908872"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93908872"
         }
      },
      "body" : "Why not `IsMultiArgSet`?",
      "commit_id" : "32dd1c3302191bce0a7ac99eacff4a40b43fca4a",
      "created_at" : "2016-12-27T08:50:04Z",
      "diff_hunk" : "@@ -238,9 +240,12 @@ bool LogAcceptCategory(const char* category)\n         static boost::thread_specific_ptr<set<string> > ptrCategory;\n         if (ptrCategory.get() == NULL)\n         {\n-            const vector<string>& categories = mapMultiArgs[\"-debug\"];\n-            ptrCategory.reset(new set<string>(categories.begin(), categories.end()));\n-            // thread_specific_ptr automatically deletes the set when the thread ends.\n+            if (mapMultiArgs.count(\"-debug\")) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9419#discussion_r93908872",
      "id" : 93908872,
      "original_commit_id" : "67bc69b159dd90105d4cf1e1bf70faf1d81366cd",
      "original_position" : 19,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_review_id" : 14440440,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9419",
      "updated_at" : "2016-12-28T13:41:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93908872",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9419#discussion_r93908981"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93908981"
         }
      },
      "body" : "Why is this not `LOCK(cs_args)`?\r\n(maybe I misinterpreted the meaning of `force`)",
      "commit_id" : "32dd1c3302191bce0a7ac99eacff4a40b43fca4a",
      "created_at" : "2016-12-27T08:51:06Z",
      "diff_hunk" : "@@ -412,6 +428,13 @@ bool SoftSetBoolArg(const std::string& strArg, bool fValue)\n         return SoftSetArg(strArg, std::string(\"0\"));\n }\n \n+void ForceSetArg(const std::string& strArg, const std::string& strValue)\n+{\n+    mapArgs[strArg] = strValue;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9419#discussion_r93908981",
      "id" : 93908981,
      "original_commit_id" : "67bc69b159dd90105d4cf1e1bf70faf1d81366cd",
      "original_position" : 90,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_review_id" : 14440537,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9419",
      "updated_at" : "2016-12-28T13:41:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93908981",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9419#discussion_r93928135"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93928135"
         }
      },
      "body" : "Prefer less diff? (note this is really from #9243, not strictly this PR).",
      "commit_id" : "32dd1c3302191bce0a7ac99eacff4a40b43fca4a",
      "created_at" : "2016-12-27T12:51:20Z",
      "diff_hunk" : "@@ -238,9 +240,12 @@ bool LogAcceptCategory(const char* category)\n         static boost::thread_specific_ptr<set<string> > ptrCategory;\n         if (ptrCategory.get() == NULL)\n         {\n-            const vector<string>& categories = mapMultiArgs[\"-debug\"];\n-            ptrCategory.reset(new set<string>(categories.begin(), categories.end()));\n-            // thread_specific_ptr automatically deletes the set when the thread ends.\n+            if (mapMultiArgs.count(\"-debug\")) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9419#discussion_r93928135",
      "id" : 93928135,
      "original_commit_id" : "67bc69b159dd90105d4cf1e1bf70faf1d81366cd",
      "original_position" : 19,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_review_id" : 14459487,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9419",
      "updated_at" : "2016-12-28T13:41:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93928135",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9419#discussion_r93928237"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9419"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93928237"
         }
      },
      "body" : "Fixed in #9243",
      "commit_id" : "32dd1c3302191bce0a7ac99eacff4a40b43fca4a",
      "created_at" : "2016-12-27T12:52:49Z",
      "diff_hunk" : "@@ -412,6 +428,13 @@ bool SoftSetBoolArg(const std::string& strArg, bool fValue)\n         return SoftSetArg(strArg, std::string(\"0\"));\n }\n \n+void ForceSetArg(const std::string& strArg, const std::string& strValue)\n+{\n+    mapArgs[strArg] = strValue;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9419#discussion_r93928237",
      "id" : 93928237,
      "original_commit_id" : "67bc69b159dd90105d4cf1e1bf70faf1d81366cd",
      "original_position" : 90,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_review_id" : 14459587,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9419",
      "updated_at" : "2016-12-28T13:41:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93928237",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Rebased after #9243 merge.",
      "created_at" : "2016-12-27T18:21:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9419#issuecomment-269362967",
      "id" : 269362967,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9419",
      "updated_at" : "2016-12-27T18:21:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/269362967",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Wouldn't it be easier to use a shared_ptr wrapping for cleanup-after-last-use, instead of implementing refcounting yourself? You can still use a manual wrapper to lock/unlock.",
      "created_at" : "2016-12-27T18:46:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9419#issuecomment-269366047",
      "id" : 269366047,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9419",
      "updated_at" : "2016-12-27T18:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/269366047",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Hmm, I kinda prefer to not introduce shared_ptr abstractions unless they're optimizing a copy that we don't want to do. I don't think the manual refcounting is that bad.\n\nOn December 27, 2016 7:46:52 PM GMT+01:00, Pieter Wuille <notifications@github.com> wrote:\n>Wouldn't it be easier to use a shared_ptr wrapping for\n>cleanup-after-last-use, instead of implementing refcounting yourself?\n>You can still use a manual wrapper to lock/unlock.\n>\n>-- \n>You are receiving this because you authored the thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/pull/9419#issuecomment-269366047\n",
      "created_at" : "2016-12-27T19:28:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9419#issuecomment-269371479",
      "id" : 269371479,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9419",
      "updated_at" : "2016-12-27T19:28:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/269371479",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "OK, @sipa found a better way to use shared_ptrs here so I went ahead and did that. It means removing some asserts, but I think its worth it.",
      "created_at" : "2016-12-28T13:42:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9419#issuecomment-269478578",
      "id" : 269478578,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9419",
      "updated_at" : "2016-12-28T13:42:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/269478578",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   }
]
