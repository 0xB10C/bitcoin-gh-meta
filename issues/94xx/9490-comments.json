[
   {
      "body" : "Tag for 0.14 please.   Comments on if we should do something about the lack of grace in importmulti?\r\n\r\nThis came up while I was reviewing #7871 and realized that an obvious use of it would be making sure that you only pruned after performing your relevant importmultis, so it's important that we be able to prune and importmulti on the same basis.  (also, looks like importmulti will crash on pruned nodes... but thats another issue.)",
      "created_at" : "2017-01-08T07:32:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9490#issuecomment-271135461",
      "id" : 271135461,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9490",
      "updated_at" : "2017-01-08T07:32:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/271135461",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9490#discussion_r95179838"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9490"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95179838"
         }
      },
      "body" : "How does nTimeMax get assigned when the block index is loaded on startup? Do you need to add a similar assignment to `LoadBlockIndexDB`?",
      "commit_id" : "5d33f8b5cba790f6f84b656e1a9cb5206b5723bb",
      "created_at" : "2017-01-09T15:43:27Z",
      "diff_hunk" : "@@ -2601,6 +2601,7 @@ CBlockIndex* AddToBlockIndex(const CBlockHeader& block)\n         pindexNew->nHeight = pindexNew->pprev->nHeight + 1;\n         pindexNew->BuildSkip();\n     }\n+    pindexNew->nTimeMax = (pindexNew->pprev ? std::max(pindexNew->pprev->nTimeMax, pindexNew->nTime) : pindexNew->nTime);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9490#discussion_r95179838",
      "id" : 95179838,
      "original_commit_id" : "5d33f8b5cba790f6f84b656e1a9cb5206b5723bb",
      "original_position" : 4,
      "path" : "src/validation.cpp",
      "position" : 4,
      "pull_request_review_id" : 15725986,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9490",
      "updated_at" : "2017-01-09T15:43:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95179838",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   }
]
