[
   {
      "body" : "Did you install all the prerequisites? \r\nhttps://github.com/bitcoin/bitcoin/blob/master/doc/build-windows.md#cross-compilation",
      "created_at" : "2017-04-24T14:55:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10269#issuecomment-296694618",
      "id" : 296694618,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10269",
      "updated_at" : "2017-04-24T14:55:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/296694618",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Yes. I believe this is an issue with latest WSL. It was working a week or so ago.",
      "created_at" : "2017-04-24T15:14:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10269#issuecomment-296701181",
      "id" : 296701181,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10269",
      "updated_at" : "2017-04-24T15:14:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/296701181",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/12585202?v=3",
         "events_url" : "https://api.github.com/users/AllanDoensen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/AllanDoensen/followers",
         "following_url" : "https://api.github.com/users/AllanDoensen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/AllanDoensen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/AllanDoensen",
         "id" : 12585202,
         "login" : "AllanDoensen",
         "organizations_url" : "https://api.github.com/users/AllanDoensen/orgs",
         "received_events_url" : "https://api.github.com/users/AllanDoensen/received_events",
         "repos_url" : "https://api.github.com/users/AllanDoensen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/AllanDoensen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/AllanDoensen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/AllanDoensen"
      }
   },
   {
      "body" : "I was able to replicate the issue. It seems like an issue with WSL itself and not with this project",
      "created_at" : "2017-04-24T17:51:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10269#issuecomment-296768318",
      "id" : 296768318,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10269",
      "updated_at" : "2017-04-24T17:51:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/296768318",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "This is an issue with the latest version of Microsofts WSL. If I roll back the core code to a version that I have previously built in the past, then it now fails. I have also tried this on two separate windows machines. A set by step guild on how to cause the issue:\r\n\r\nFrom the WSL bash shell:\r\n\r\n> sudo apt-get update\r\n> sudo apt-get upgrade\r\n> sudo apt-get install build-essential libtool autotools-dev automake pkg-config bsdmainutils curl\r\n> sudo apt-get install g++-mingw-w64-x86-64 mingw-w64-x86-64-dev\r\n> git clone https://github.com/bitcoin/bitcoin.git\r\n> cd bitcoin\r\n> cd depends\r\n> make HOST=x86_64-w64-mingw32\r\n\r\nThe build fails as above. So if you build on windows then do not upgrade.",
      "created_at" : "2017-04-25T03:36:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10269#issuecomment-296888651",
      "id" : 296888651,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10269",
      "updated_at" : "2017-04-25T03:36:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/296888651",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/12585202?v=3",
         "events_url" : "https://api.github.com/users/AllanDoensen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/AllanDoensen/followers",
         "following_url" : "https://api.github.com/users/AllanDoensen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/AllanDoensen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/AllanDoensen",
         "id" : 12585202,
         "login" : "AllanDoensen",
         "organizations_url" : "https://api.github.com/users/AllanDoensen/orgs",
         "received_events_url" : "https://api.github.com/users/AllanDoensen/received_events",
         "repos_url" : "https://api.github.com/users/AllanDoensen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/AllanDoensen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/AllanDoensen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/AllanDoensen"
      }
   },
   {
      "body" : "> /bin/sh: 1: Syntax error: \"(\" unexpected\r\n> make: *** [/home/allan/Bitcoin/depends/work/build/x86_64-w64-mingw32/native_ccache/3.3.3-43ca3e6a03b/./.stamp_configured] Error 2\r\n\r\nMaybe they changed the default shell? Just a wild guess due to the error on a .sh file.\r\n\r\nTo diagnose better we need to know what it is trying to run, and where at the time of the error.\r\n",
      "created_at" : "2017-04-25T05:17:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10269#issuecomment-296911768",
      "id" : 296911768,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10269",
      "updated_at" : "2017-04-25T05:17:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/296911768",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj I checked the default shell and it is still bash. The error really does not give me much & I am not really a makefile/script person. I had a look around but I am unable to determine what script is actually causing the error. ",
      "created_at" : "2017-04-25T10:15:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10269#issuecomment-296985774",
      "id" : 296985774,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10269",
      "updated_at" : "2017-04-25T10:15:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/296985774",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/12585202?v=3",
         "events_url" : "https://api.github.com/users/AllanDoensen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/AllanDoensen/followers",
         "following_url" : "https://api.github.com/users/AllanDoensen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/AllanDoensen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/AllanDoensen",
         "id" : 12585202,
         "login" : "AllanDoensen",
         "organizations_url" : "https://api.github.com/users/AllanDoensen/orgs",
         "received_events_url" : "https://api.github.com/users/AllanDoensen/received_events",
         "repos_url" : "https://api.github.com/users/AllanDoensen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/AllanDoensen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/AllanDoensen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/AllanDoensen"
      }
   },
   {
      "body" : "@AllanDoensen Debugging makefiles isn't really my specialty either. Maybe @theuni has an idea.",
      "created_at" : "2017-04-25T11:00:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10269#issuecomment-296995253",
      "id" : 296995253,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10269",
      "updated_at" : "2017-04-25T11:00:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/296995253",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@AllanDoensen or @achow101 Could you please retry with ```make HOST=x86_64-w64-mingw32 V=1```  and post the output?",
      "created_at" : "2017-04-26T16:15:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10269#issuecomment-297463232",
      "id" : 297463232,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10269",
      "updated_at" : "2017-04-26T16:15:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/297463232",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "@theuni \r\n```\r\n$ make HOST=x86_64-w64-mingw32 V=1\r\necho Configuring native_ccache...\r\nConfiguring native_ccache...\r\nrm -rf /mnt/e/bitcoin/depends/x86_64-w64-mingw32; mkdir -p /mnt/e/bitcoin/depends/x86_64-w64-mingw32/lib; cd /mnt/e/bitcoin/depends/x86_64-w64-mingw32;\r\nmkdir -p /mnt/e/bitcoin/depends/work/build/x86_64-w64-mingw32/native_ccache/3.3.3-16a70ccf187/.\r\ncd /mnt/e/bitcoin/depends/work/build/x86_64-w64-mingw32/native_ccache/3.3.3-16a70ccf187/.;     PKG_CONFIG_LIBDIR=/mnt/e/bitcoin/depends/x86_64-w64-mingw32/native/lib/pkgconfig PKG_CONFIG_PATH=/mnt/e/bitcoin/depends/x86_64-w64-mingw32/native/share/pkgconfig PATH=/mnt/e/bitcoin/depends/x86_64-w64-mingw32/native/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/mnt/c/Program Files (x86)/Python35-32/Scripts:/mnt/c/Program Files (x86)/Python35-32:/mnt/c/Python27/Lib/site-packages/PyQt4:/mnt/c/Python27:/mnt/c/Python27/Scripts:/mnt/c/ProgramData/Oracle/Java/javapath:/mnt/c/Windows/System32:/mnt/c/Windows:/mnt/c/Windows/System32/wbem:/mnt/c/Windows/System32/WindowsPowerShell/v1.0:/mnt/c/Program Files (x86)/AMD/ATI.ACE/Core-Static:/mnt/c/Program Files (x86)/GtkSharp/2.12/bin:/mnt/c/Program Files/Microsoft SQL Server/110/Tools/Binn:/mnt/c/Program Files/Microsoft SQL Server/120/Tools/Binn:/mnt/c/Program Files (x86)/GNU/GnuPG/pub:/mnt/c/Program Files (x86)/CMake/bin:/mnt/c/Program Files/ZeroMQ 4.0.4/bin:/mnt/c/Windows/System32:/mnt/c/Windows:/mnt/c/Windows/System32/wbem:/mnt/c/Windows/System32/WindowsPowerShell/v1.0:/mnt/c/Program Files (x86)/PharosSystems/Core:/mnt/c/Program Files:/mnt/c/Program Files/MATLAB/R2016b/bin:/mnt/c/Program Files (x86)/AOMEI Backupper:/mnt/c/Program Files (x86)/Windows Kits/8.0/Windows Performance Toolkit:/mnt/c/Program Files/MiKTeX 2.9/miktex/bin/x64:/mnt/c/Program Files/Microsoft DNX/Dnvm:/mnt/c/Program Files/Microsoft SQL Server/130/Tools/Binn:/mnt/c/Program Files (x86)/Windows Kits/10/Windows Performance Toolkit:/mnt/c/Program Files (x86)/Skype/Phone:/mnt/c/Users/Andy Chow/AppData/Local/Microsoft/WindowsApps:/mnt/c/Program Files (x86)/Jar2Exe Wizard:/mnt/c/Program Files (x86)/Nmap:/home/achow101/.rvm/bin   ./configure --host=x86_64-pc-linux-gnu --disable-dependency-tracking --prefix=/mnt/e/bitcoin/depends/x86_64-w64-mingw32/native         CC=\"gcc\" CXX=\"g++\" NM=\"nm\" RANLIB=\"ranlib\" AR=\"ar\" CPPFLAGS=\"-I/mnt/e/bitcoin/depends/x86_64-w64-mingw32/native/include    \" LDFLAGS=\"-L/mnt/e/bitcoin/depends/x86_64-w64-mingw32/native/lib    \"\r\n/bin/sh: 1: Syntax error: \"(\" unexpected\r\nfuncs.mk:242: recipe for target '/mnt/e/bitcoin/depends/work/build/x86_64-w64-mingw32/native_ccache/3.3.3-16a70ccf187/./.stamp_configured' failed\r\nmake: *** [/mnt/e/bitcoin/depends/work/build/x86_64-w64-mingw32/native_ccache/3.3.3-16a70ccf187/./.stamp_configured] Error 2\r\n```",
      "created_at" : "2017-04-26T18:12:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10269#issuecomment-297495793",
      "id" : 297495793,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10269",
      "updated_at" : "2017-04-26T18:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/297495793",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "Looks like a lack of \"\" in some of the depends/ scripts?",
      "created_at" : "2017-04-26T18:23:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10269#issuecomment-297498992",
      "id" : 297498992,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10269",
      "updated_at" : "2017-04-26T18:23:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/297498992",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa Yep. @achow101 Could you please try this?\r\n\r\nI bet the latest WSL added those system paths.\r\n```diff\r\ndiff --git a/depends/funcs.mk b/depends/funcs.mk\r\nindex 15e404e..12234ae 100644\r\n--- a/depends/funcs.mk\r\n+++ b/depends/funcs.mk\r\n@@ -129,9 +129,9 @@ $(1)_config_env+=$($(1)_config_env_$(host_arch)_$(host_os)) $($(1)_config_env_$(\r\n \r\n $(1)_config_env+=PKG_CONFIG_LIBDIR=$($($(1)_type)_prefix)/lib/pkgconfig\r\n $(1)_config_env+=PKG_CONFIG_PATH=$($($(1)_type)_prefix)/share/pkgconfig\r\n-$(1)_config_env+=PATH=$(build_prefix)/bin:$(PATH)\r\n-$(1)_build_env+=PATH=$(build_prefix)/bin:$(PATH)\r\n-$(1)_stage_env+=PATH=$(build_prefix)/bin:$(PATH)\r\n+$(1)_config_env+=PATH=\"$(build_prefix)/bin:$(PATH)\"\r\n+$(1)_build_env+=PATH=\"$(build_prefix)/bin:$(PATH)\"\r\n+$(1)_stage_env+=PATH=\"$(build_prefix)/bin:$(PATH)\"\r\n $(1)_autoconf=./configure --host=$($($(1)_type)_host) --disable-dependency-tracking --prefix=$($($(1)_type)_prefix) $$($(1)_config_opts) CC=\"$$($(1)_cc)\" CXX=\"$$($(1)_cxx)\"\r\n \r\n ifneq ($($(1)_nm),)\r\n```",
      "created_at" : "2017-04-26T19:10:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10269#issuecomment-297511480",
      "id" : 297511480,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10269",
      "updated_at" : "2017-04-26T19:11:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/297511480",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   }
]
