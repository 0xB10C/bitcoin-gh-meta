[
   {
      "body" : "Instead of creating a new test (which slightly slows down the CI/test process), you could add this to an existing test?",
      "created_at" : "2017-04-18T08:09:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10224#issuecomment-294723056",
      "id" : 294723056,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10224",
      "updated_at" : "2017-04-18T08:09:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294723056",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Agree, we already have two scripts [[1]](https://github.com/bitcoin/bitcoin/pull/10077#issuecomment-290542590) for net.cpp tests. Choose one of them.",
      "created_at" : "2017-04-18T08:22:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10224#issuecomment-294726457",
      "id" : 294726457,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10224",
      "updated_at" : "2017-04-18T08:22:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294726457",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "> Instead of creating a new test (which slightly slows down the CI/test process), you could add this to an existing test?\r\n\r\nYes it's sometimes hard to decide. On one hand, a small test granularity is better to quickly find specific problems based on what fails, on the other hand grouping tests together is better for performance.\r\n\r\nThanks for helping add tests anyhow!",
      "created_at" : "2017-04-18T12:46:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10224#issuecomment-294826838",
      "id" : 294826838,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10224",
      "updated_at" : "2017-04-18T12:47:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294826838",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "> On one hand, a small test granularity is better to quickly find specific problems based on what fails\r\n\r\nThis can also be achieved by structuring the sub-tests intelligently and making sure there are no dependencies between them (ie trying to avoid anything that carries state between the sub-tests), and adding plenty of logging so it's immediately obvious where the test failed.\r\n\r\n+1 for adding this to an existing test script. Even better (in my opinion) if nodehandling.py and net.py can be merged into a single test script, but that's possibly more controversial.",
      "created_at" : "2017-04-18T13:31:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10224#issuecomment-294845080",
      "id" : 294845080,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10224",
      "updated_at" : "2017-04-18T13:31:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294845080",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "@laanwj @jonasschnelli @jnewbery @MarcoFalke Thanks for the feedback. I'll put this into another test.",
      "created_at" : "2017-04-18T14:14:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10224#issuecomment-294858114",
      "id" : 294858114,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10224",
      "updated_at" : "2017-04-18T14:14:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294858114",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "body" : "Test was put into net.py. Please let me know if there's anything else I need to do.",
      "created_at" : "2017-04-18T14:33:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10224#issuecomment-294863814",
      "id" : 294863814,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10224",
      "updated_at" : "2017-04-18T14:33:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294863814",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10224#discussion_r111977453"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10224"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111977453"
         }
      },
      "body" : "git solves conflicts on a line basis, not word basis, so I'd prefer to keep those in separate lines to make it easier to solve merge conflicts (in case they pop up).",
      "commit_id" : "61d949fa308f556aca0dda45eb38196164dfdbc5",
      "created_at" : "2017-04-18T15:01:01Z",
      "diff_hunk" : "@@ -13,9 +13,7 @@\n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.authproxy import JSONRPCException\n from test_framework.util import (\n-    assert_equal,\n-    start_nodes,\n-    connect_nodes_bi,\n+    assert_equal, connect_nodes_bi, p2p_port, start_nodes,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10224#discussion_r111977453",
      "id" : 111977453,
      "original_commit_id" : "de73334ec8d602e7878b74fc929d3ba21e2f8617",
      "original_position" : 7,
      "path" : "test/functional/net.py",
      "position" : null,
      "pull_request_review_id" : 33257343,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10224",
      "updated_at" : "2017-04-18T15:07:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111977453",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10224#discussion_r111979202"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10224"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111979202"
         }
      },
      "body" : "Fixed.",
      "commit_id" : "61d949fa308f556aca0dda45eb38196164dfdbc5",
      "created_at" : "2017-04-18T15:07:06Z",
      "diff_hunk" : "@@ -13,9 +13,7 @@\n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.authproxy import JSONRPCException\n from test_framework.util import (\n-    assert_equal,\n-    start_nodes,\n-    connect_nodes_bi,\n+    assert_equal, connect_nodes_bi, p2p_port, start_nodes,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10224#discussion_r111979202",
      "id" : 111979202,
      "original_commit_id" : "de73334ec8d602e7878b74fc929d3ba21e2f8617",
      "original_position" : 7,
      "path" : "test/functional/net.py",
      "position" : null,
      "pull_request_review_id" : 33259193,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10224",
      "updated_at" : "2017-04-18T15:07:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111979202",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "body" : "@MarcoFalke Fixed the code review item.",
      "created_at" : "2017-04-18T15:33:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10224#issuecomment-294883451",
      "id" : 294883451,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10224",
      "updated_at" : "2017-04-18T15:33:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/294883451",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10224#discussion_r111996947"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10224"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111996947"
         }
      },
      "body" : "nit: no need to assign this unused `peers` variable.\r\n\r\nI recommend you run flake8 over PRs to catch nits like this.",
      "commit_id" : "61d949fa308f556aca0dda45eb38196164dfdbc5",
      "created_at" : "2017-04-18T16:12:36Z",
      "diff_hunk" : "@@ -49,6 +50,15 @@ def run_test(self):\n         assert_equal(self.nodes[0].getnetworkinfo()['networkactive'], True)\n         assert_equal(self.nodes[0].getnetworkinfo()['connections'], 2)\n \n+        # test getaddednodeinfo\n+        # add a node (node2) to node0\n+        ip_port = \"127.0.0.1:{}\".format(p2p_port(2))\n+        peers = self.nodes[0].addnode(ip_port, 'add')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10224#discussion_r111996947",
      "id" : 111996947,
      "original_commit_id" : "61d949fa308f556aca0dda45eb38196164dfdbc5",
      "original_position" : 18,
      "path" : "test/functional/net.py",
      "position" : 18,
      "pull_request_review_id" : 33278420,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10224",
      "updated_at" : "2017-04-18T16:14:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/111996947",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
