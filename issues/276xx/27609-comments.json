[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [jamesob](https://github.com/bitcoin/bitcoin/pull/27609#issuecomment-1541020239), [instagibbs](https://github.com/bitcoin/bitcoin/pull/27609#pullrequestreview-1420792155), [fanquake](https://github.com/bitcoin/bitcoin/pull/27609#issuecomment-1542546467) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n",
      "created_at" : "2023-05-09T23:29:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27609#issuecomment-1541016173",
      "id" : 1541016173,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27609",
      "node_id" : "IC_kwDOABII585b2gpt",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1541016173/reactions"
      },
      "updated_at" : "2023-05-11T04:42:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1541016173",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2023-05-09T23:35:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27609#issuecomment-1541020239",
      "id" : 1541020239,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27609",
      "node_id" : "IC_kwDOABII585b2hpP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1541020239/reactions"
      },
      "updated_at" : "2023-05-09T23:35:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1541020239",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Added a release note and addressed https://github.com/bitcoin/bitcoin/pull/27609#discussion_r1190006006",
      "created_at" : "2023-05-10T15:44:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27609#issuecomment-1542429830",
      "id" : 1542429830,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27609",
      "node_id" : "IC_kwDOABII585b75yG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1542429830/reactions"
      },
      "updated_at" : "2023-05-10T15:44:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1542429830",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK - when you get a chance, can you put together a backport PR for `25.x`, so we can see the changes. I think if we want to do that, it'd be preferable to get it into `rc2`.",
      "created_at" : "2023-05-10T17:12:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27609#issuecomment-1542546467",
      "id" : 1542546467,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27609",
      "node_id" : "IC_kwDOABII585b8WQj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1542546467/reactions"
      },
      "updated_at" : "2023-05-10T17:12:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1542546467",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Had a chat with @sdaftuar offline about how safe this RPC is for a miner to expose. He gave an example of a \"parent pays for child\" package that is currently handled poorly, and a small fix to prevent it. I've added the small fix and a test that contains an example.\r\n\r\nImagine a diamond shape and mempool minfeerate is 5sat/vB:\r\n```\r\n     grandparent\r\n       5650sat\r\n        5649vB\r\n     /         \\\r\n  parent1     parent2\r\n13223sat      13223sat\r\n  191vB       191vB\r\n       \\      /\r\n        child\r\n       2424sat\r\n        485vB\r\n```\r\n\r\nOn master, what we'll do is reject each individual transaction, but end up accepting the full package. The child is just below the mempool min feerate and is likely to be evicted later in `TrimToSize()`, but doing so pushes the min feerate up by 1sat/vB and leaves the grandparent + parents in the mempool. Each of the parents' ancestor packages have low block selection scores but the grandparent's descendant package looks pretty good. Maybe one day we'll eliminate the asymmetry between selection and eviction... but basically our problem here is allowing the parents to pay for the child in the first place.\r\n\r\nYou can perhaps submit the same transactions via `sendrawtransaction` if `-maxmempool` is very large and the min feerate is lower. However, the fact that this pushes mempool min feerate up makes this worse than what you can do without it - the mempool will start rejecting anything between 5-6sat/vB afterwards.\r\n\r\nThe small change is to reject any package in which the child has a lower feerate than the package feerate. So we reject all of the transactions.",
      "created_at" : "2023-05-10T19:27:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27609#issuecomment-1542695316",
      "id" : 1542695316,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27609",
      "node_id" : "IC_kwDOABII585b86mU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1542695316/reactions"
      },
      "updated_at" : "2023-05-10T22:19:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1542695316",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "note that the :gem: issue still exists in https://github.com/bitcoin/bitcoin/pull/26711 , where the ultimate subpackage(including the child) would let everything in.\r\n\r\nwith the fix, hopefully, now every sub-package that is let in the mempool must have a child that pays",
      "created_at" : "2023-05-10T19:43:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27609#issuecomment-1542712701",
      "id" : 1542712701,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27609",
      "node_id" : "IC_kwDOABII585b8-19",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1542712701/reactions"
      },
      "updated_at" : "2023-05-10T19:43:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1542712701",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> note that the ð issue still exists in https://github.com/bitcoin/bitcoin/pull/26711\r\n\r\nYeah. Rebasing it on top of this.",
      "created_at" : "2023-05-10T20:01:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27609#issuecomment-1542734986",
      "id" : 1542734986,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27609",
      "node_id" : "IC_kwDOABII585b9ESK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1542734986/reactions"
      },
      "updated_at" : "2023-05-10T20:01:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1542734986",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "without #26711 we are still letting things into mempool that are possibly problematic, no? ",
      "created_at" : "2023-05-11T13:24:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27609#issuecomment-1544006512",
      "id" : 1544006512,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27609",
      "node_id" : "IC_kwDOABII585cB6tw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1544006512/reactions"
      },
      "updated_at" : "2023-05-11T13:24:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1544006512",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   }
]
