[
   {
      "author_association" : "OWNER",
      "body" : "Please, never write to `bitcoin.conf`. It is exceptionally bad form for a daemon to write to its configuration file. If you want to do this, I'd suggest adding an additional file (in the datadir) for read/write settings (as @luke-jr did AFAIK).",
      "created_at" : "2018-03-29T20:25:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12833#issuecomment-377361599",
      "id" : 377361599,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12833",
      "updated_at" : "2018-03-29T20:27:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377361599",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@laanwj two files is indeed what @luke-jr did, but I don't see how that changes anything. It's critical that `bitcoind` uses this second file (for settings like `prune`) and treats it the same as `bitcoin.conf`. So by the same reasoning it shouldn't write to that second file.\r\n\r\nAlso note that only QT needs this ability, so I could refactor it such that `bitcoind` daemon only has read-only access.\r\n\r\nI thought of a completely different approach to handle the `prune` case, so we might be able to kick this shared settings can down the road. Will open a PR for later.",
      "created_at" : "2018-03-30T08:49:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12833#issuecomment-377480638",
      "id" : 377480638,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12833",
      "updated_at" : "2018-03-30T08:51:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377480638",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "> @laanwj two files is indeed what @luke-jr did, but I don't see how that changes anything. \r\n\r\nOne thing is permissions. The data directory is guaranteed writable. The configuration file might be `-conf=/etc/bitcoind.conf`.\r\n\r\n> Also note that only QT needs this ability, so I could refactor it such that bitcoind daemon only has read-only access.\r\n\r\nUnlike QSettings the second file would be used by both the GUI and the daemon. \r\n\r\nAnd it might be useful to edit settings in bitcoind at real-time as well. The GUI shouldn't really be special there, that gets in the way of the whole idea of unifying the settings mechanism.",
      "created_at" : "2018-03-30T10:24:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12833#issuecomment-377497057",
      "id" : 377497057,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12833",
      "updated_at" : "2018-03-30T10:24:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377497057",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If `bitcoin.conf` is not writeable, because the user configured a custom read-only directory, the UI elements that change settings this way could be disabled.\r\n\r\n> And it might be useful to edit settings in bitcoind at real-time as well.\r\n\r\nIndeed.\r\n\r\nI thought having two separate files leads to a more complicated implementation than just having one, but I didn't remove that much from the original code so far. It helps that settings can be overridden by repeating them in the new file.\r\n\r\nSo in that case it might more sense to get #11082 merged, in which case this PR just adds QSettings migration code on top of that.",
      "created_at" : "2018-03-30T15:03:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12833#issuecomment-377543863",
      "id" : 377543863,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12833",
      "updated_at" : "2018-03-30T15:03:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377543863",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I pushed a new version that uses `bitcoin_rw.conf`. I could probably add some helper functions to make the change more compact.",
      "created_at" : "2018-04-03T16:08:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12833#issuecomment-378305050",
      "id" : 378305050,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12833",
      "updated_at" : "2018-04-03T16:08:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378305050",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm not sure if moving the QT settings from pure QT format in the QT chosen file to the bitcoind compatible `bitcoin_rw.conf` format reduces the complexity. Configuration file complexity can be harmful (-datadir, eventually once config files per network, includes, etc.).\r\n\r\nI also think we could expose prune to the QT layer without sharing the configuration value with bitcoind.\r\n\r\nUsers using bitcoind & QT with the same settings and datadir do probably know the ramification of GUI only settings. A warning when enabling prune in QT (once implemented) that it will not automatically be enabled in daemon mode seems sufficient to me.",
      "created_at" : "2018-04-04T12:24:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12833#issuecomment-378581605",
      "id" : 378581605,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12833",
      "updated_at" : "2018-04-04T12:24:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378581605",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jonasschnelli in addition to a warning, we can even make `bitcoind` actually handle QT's `prune` elegantly, see my suggestion [here](https://github.com/bitcoin/bitcoin/issues/6461#issuecomment-377485323).\r\n\r\nFor settings other than prune there might be similar workarounds on a case by case basis (other than warning).",
      "created_at" : "2018-04-04T13:06:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12833#issuecomment-378592828",
      "id" : 378592828,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12833",
      "updated_at" : "2018-04-04T13:06:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378592828",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This and #11082 need a likely non-trivial rebase after #11862. I'm going to try the other approach first though.",
      "created_at" : "2018-04-17T15:03:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12833#issuecomment-382026069",
      "id" : 382026069,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12833",
      "updated_at" : "2018-04-17T15:03:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382026069",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "#11862 has been merged. I'll rebase this once #11082 is rebased.\r\n\r\nQT doesn't have any concept (yet) of network specific configuration though.",
      "created_at" : "2018-05-15T11:09:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12833#issuecomment-389129420",
      "id" : 389129420,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12833",
      "updated_at" : "2018-05-15T11:12:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/389129420",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
