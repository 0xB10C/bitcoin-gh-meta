{
   "assignee" : null,
   "assignees" : [],
   "body" : "#### build: Probe MSG_DONTWAIT in the same way as MSG_NOSIGNAL\r\n\r\nInstead of the WIN32-specific workaround, detect lack of `MSG_DONTWAIT` in the build system. This allows other platforms without `MSG_DONTWAIT` to work too.\r\n\r\n#### build: cleanup: define MSG_DONTWAIT/MSG_NO_SIGNAL locall\r\n\r\nDefine MSG_DONTWAIT and MSG_NO_SIGNAL in the implementation files that use them (`net.cpp` and `netbase.cpp`), instead of compat.h which is included all over the place. \r\n\r\nThis avoids putting them in the global namespace, as defining them as 0 is a hack that works for our specific usage, but it is not a general solution. \r\n\r\nAlso makes sure they are defined only once so the `!defined(MSG_x)` guard can go.\r\n\r\n#### compat: use `unsigned int` instead of `u_int`\r\n\r\n`u_int` (without size specifier) is not available on some platforms (not sure what standard it's supposed to be part of), we don't use it anywhere else, and it doesn't hurt to simply write `unsigned int` out here.\r\n",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9921/comments",
   "created_at" : "2017-03-05T10:12:17Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9921/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/9921",
   "id" : 211943337,
   "labels" : [
      {
         "color" : "5319e7",
         "default" : false,
         "id" : 61889416,
         "name" : "Build system",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9921/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 9921,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/9921.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9921",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/9921.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9921"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "build: Probe MSG_DONTWAIT in the same way as MSG_NOSIGNAL",
   "updated_at" : "2017-03-05T10:12:17Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9921",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
      "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
      "followers_url" : "https://api.github.com/users/laanwj/followers",
      "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/laanwj",
      "id" : 126646,
      "login" : "laanwj",
      "organizations_url" : "https://api.github.com/users/laanwj/orgs",
      "received_events_url" : "https://api.github.com/users/laanwj/received_events",
      "repos_url" : "https://api.github.com/users/laanwj/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/laanwj"
   }
}
