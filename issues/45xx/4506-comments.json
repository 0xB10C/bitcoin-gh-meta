[
   {
      "body" : "I got some feedback on #4377 and other places, I'm closing since this is not acceptable for bitcoind and people have already seen it. I will reopen it with new version still uses a class but without polymorphism.\r\nFeedback is still welcomed.",
      "created_at" : "2014-07-11T17:07:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-48756802",
      "id" : 48756802,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-07-11T17:07:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/48756802",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "It is not completely encapsulated because the attributes are public.\r\nNo polymorphism now. Less interesting for experimentation because there's no factory, but it should still be useful and in my opinion makes the POW code more clear.\r\nFor those who may want to see it, I left the polymorphic version here: https://github.com/jtimon/bitcoin/tree/old_proof ",
      "created_at" : "2014-07-11T21:47:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-48786881",
      "id" : 48786881,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-07-11T21:47:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/48786881",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "In general cleaning things up is pretty nice, and POW class seems to do that.  Specific comments:\r\n* some places seem to get less clean, not more:\r\n```\r\n-            if (GenerateProof(pblock, pindexPrev))\r\n+            if (pblock->proof.GenerateProof(pblock, pindexPrev))\r\n```\r\n\r\n* The Hash(block header) code appears to be slower and more complex.  Not the right direction for such a speed-sensitive area.  That may be a problem for a cleanup we like but don't need...\r\n",
      "created_at" : "2014-07-11T21:55:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-48787529",
      "id" : 48787529,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-07-11T21:55:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/48787529",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Updated removing a bunch of unnecessary #include \"pow.h\"",
      "created_at" : "2014-07-11T22:07:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-48788551",
      "id" : 48788551,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-07-11T22:07:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/48788551",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4506#discussion_r14846559"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4506"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14846559"
         }
      },
      "body" : "Just use \"return SerializeHash(*this);\" here, and have its IMPLEMENT_SERIALIZE contain a \"READWRITE(proof);\".",
      "commit_id" : "552a17f69b87a36da8d27ae2af6f87ecf0969b06",
      "created_at" : "2014-07-11T22:09:40Z",
      "diff_hunk" : "@@ -248,7 +248,12 @@ uint64_t CTxOutCompressor::DecompressAmount(uint64_t x)\n \n uint256 CBlockHeader::GetHash() const\n {\n-    return Hash(BEGIN(nVersion), END(nNonce));\n+    CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#discussion_r14846559",
      "id" : 14846559,
      "original_commit_id" : "225434804b075b2e6a8c040d65d2e444fa7da395",
      "original_position" : 5,
      "path" : "src/core.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4506",
      "updated_at" : "2014-10-28T13:34:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14846559",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Updated CBlockHeader::GetHash() with @sipa 's suggestion, which removes the extra complexity concern. I haven't measured the performance hit, but I expect it to be small.\r\n@jgarzik I agree the call to GenerateProof is quite ugly, but nothing comes to mind to make it prettier...",
      "created_at" : "2014-07-11T22:51:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-48792008",
      "id" : 48792008,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-07-11T22:51:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/48792008",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4506#discussion_r14848743"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4506"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14848743"
         }
      },
      "body" : "Maybe GetWork() is a better name?",
      "commit_id" : "552a17f69b87a36da8d27ae2af6f87ecf0969b06",
      "created_at" : "2014-07-11T23:24:02Z",
      "diff_hunk" : "@@ -93,27 +95,230 @@ bool CheckProofOfWork(uint256 hash, unsigned int nBits)\n }\n \n //\n-// minimum amount of work that could possibly be required nTime after\n-// minimum work required was nBase\n+// true if nBits is greater than the minimum amount of work that could\n+// possibly be required deltaTime after minimum work required was nBase\n //\n-unsigned int ComputeMinWork(unsigned int nBase, int64_t nTime)\n+bool CheckMinWork(unsigned int nBits, unsigned int nBase, int64_t deltaTime)\n {\n+    bool fOverflow = false;\n+    uint256 bnNewBlock;\n+    bnNewBlock.SetCompact(nBits, NULL, &fOverflow);\n+    if (fOverflow)\n+        return false;\n+\n     const uint256 &bnLimit = Params().ProofOfWorkLimit();\n     // Testnet has min-difficulty blocks\n     // after Params().TargetSpacing()*2 time between blocks:\n-    if (Params().AllowMinDifficultyBlocks() && nTime > Params().TargetSpacing()*2)\n-        return bnLimit.GetCompact();\n+    if (Params().AllowMinDifficultyBlocks() && deltaTime > Params().TargetSpacing()*2)\n+        return bnNewBlock <= bnLimit;\n \n     uint256 bnResult;\n     bnResult.SetCompact(nBase);\n-    while (nTime > 0 && bnResult < bnLimit)\n+    while (deltaTime > 0 && bnResult < bnLimit)\n     {\n         // Maximum 400% adjustment...\n         bnResult *= 4;\n         // ... in best-case exactly 4-times-normal target time\n-        nTime -= Params().TargetTimespan()*4;\n+        deltaTime -= Params().TargetTimespan()*4;\n     }\n     if (bnResult > bnLimit)\n         bnResult = bnLimit;\n-    return bnResult.GetCompact();\n+\n+    return bnNewBlock <= bnResult;\n+}\n+\n+// Methods of class ProofOfWork \n+\n+void ProofOfWork::UpdateTime(const CBlockIndex* pindexPrev)\n+{\n+    nTime = std::max(pindexPrev->GetMedianTimePast()+1, GetAdjustedTime());\n+\n+    // Updating time can change work required on testnet:\n+    if (Params().AllowMinDifficultyBlocks())\n+        nBits = GetNextWorkRequired(pindexPrev, GetBlockTime());\n+}\n+\n+ProofOfWork::ProofOfWork(unsigned int nTime, unsigned int nBits, unsigned int nNonce)\n+{\n+    this->nTime = nTime;\n+    this->nBits = nBits;\n+    this->nNonce = nNonce;\n+}\n+\n+ProofOfWork::ProofOfWork()\n+{\n+    SetNull();\n+}\n+\n+void ProofOfWork::SetNull()\n+{\n+    nTime = 0;\n+    nBits = 0;\n+    nNonce = 0;\n+}\n+\n+bool ProofOfWork::IsNull() const\n+{\n+    return (nBits == 0);\n+}\n+\n+int64_t ProofOfWork::GetBlockTime() const\n+{\n+    return (int64_t)nTime;\n+}\n+\n+double dHashesPerSec = 0.0;\n+int64_t nHPSTimerStart = 0;\n+//\n+// ScanHash scans nonces looking for a hash with at least some zero bits.\n+// The nonce is usually preserved between calls, but periodically or if the\n+// nonce is 0xffff0000 or above, the block is rebuilt and nNonce starts over at\n+// zero.\n+//\n+bool static ScanHash(const CBlockHeader *pblock, uint32_t& nNonce, uint256 *phash)\n+{\n+    // Write the first 76 bytes of the block header to a double-SHA256 state.\n+    CHash256 hasher;\n+    CDataStream ss(SER_NETWORK, PROTOCOL_VERSION);\n+    ss << *pblock;\n+    assert(ss.size() == 80);\n+    hasher.Write((unsigned char*)&ss[0], 76);\n+\n+    while (true) {\n+        nNonce++;\n+\n+        // Write the last 4 bytes of the block header (the nonce) to a copy of\n+        // the double-SHA256 state, and compute the result.\n+        CHash256(hasher).Write((unsigned char*)&nNonce, 4).Finalize((unsigned char*)phash);\n+\n+        // Return the nonce if the hash has at least some zero bits,\n+        // caller will check if it has enough to reach the target\n+        if (((uint16_t*)phash)[15] == 0)\n+            return true;\n+\n+        // If nothing found after trying for a while, return -1\n+        if ((nNonce & 0xffff) == 0)\n+            return false;\n+        if ((nNonce & 0xfff) == 0)\n+            boost::this_thread::interruption_point();\n+    }\n+}\n+\n+bool ProofOfWork::GenerateProof(CBlockHeader* pblock, const CBlockIndex* pindexPrev)\n+{\n+    unsigned int nTransactionsUpdatedLast = mempool.GetTransactionsUpdated();\n+    int64_t nStart = GetTime();\n+    uint256 hashTarget = uint256().SetCompact(nBits);\n+    uint256 hash;\n+    uint32_t nNonce = 0;\n+    uint32_t nOldNonce = 0;\n+    while (true) {\n+        bool fFound = ScanHash(pblock, nNonce, &hash);\n+        uint32_t nHashesDone = nNonce - nOldNonce;\n+        nOldNonce = nNonce;\n+\n+        // Check if something found\n+        if (fFound)\n+        {\n+            if (hash <= hashTarget)\n+            {\n+                // Found a solution\n+                this->nNonce = nNonce;\n+                assert(hash == pblock->GetHash());\n+\n+                //// debug print\n+                LogPrintf(\"BitcoinMiner:\\n\");\n+                LogPrintf(\"proof-of-work found  \\n  hash: %s  \\ntarget: %s\\n\", hash.GetHex(), hashTarget.GetHex());\n+\n+                return true;\n+            }\n+        }\n+\n+        // Meter hashes/sec\n+        static int64_t nHashCounter;\n+        if (nHPSTimerStart == 0)\n+        {\n+            nHPSTimerStart = GetTimeMillis();\n+            nHashCounter = 0;\n+        }\n+        else\n+            nHashCounter += nHashesDone;\n+        if (GetTimeMillis() - nHPSTimerStart > 4000)\n+        {\n+            static CCriticalSection cs;\n+            {\n+                LOCK(cs);\n+                if (GetTimeMillis() - nHPSTimerStart > 4000)\n+                {\n+                    dHashesPerSec = 1000.0 * nHashCounter / (GetTimeMillis() - nHPSTimerStart);\n+                    nHPSTimerStart = GetTimeMillis();\n+                    nHashCounter = 0;\n+                    static int64_t nLogTime;\n+                    if (GetTime() - nLogTime > 30 * 60)\n+                    {\n+                        nLogTime = GetTime();\n+                        LogPrintf(\"hashmeter %6.0f khash/s\\n\", dHashesPerSec/1000.0);\n+                    }\n+                }\n+            }\n+        }\n+\n+        // Check for stop or if block needs to be rebuilt\n+        boost::this_thread::interruption_point();\n+        // Regtest mode doesn't require peers\n+        if (vNodes.empty() && Params().MiningRequiresPeers())\n+            return false;\n+        if (nNonce >= 0xffff0000)\n+            return false;\n+        if (mempool.GetTransactionsUpdated() != nTransactionsUpdatedLast && GetTime() - nStart > 60)\n+            return false;\n+        if (pindexPrev != chainActive.Tip())\n+            return false;\n+\n+        // Update nTime every few seconds\n+        UpdateTime(pindexPrev);\n+        if (Params().AllowMinDifficultyBlocks())\n+        {\n+            // Changing pblock->nTime can change work required on testnet:\n+            hashTarget.SetCompact(nBits);\n+        }\n+    }\n+}\n+\n+bool ProofOfWork::CheckProof(const uint256 hash) const\n+{\n+    return CheckProofOfWork(hash, nBits);\n+}\n+\n+bool ProofOfWork::CheckMinProof(const CBlockIndex* pcheckpoint) const\n+{\n+    int64_t deltaTime = GetBlockTime() - pcheckpoint->proof.GetBlockTime();\n+    return CheckMinWork(nBits, pcheckpoint->proof.nBits, deltaTime);\n+}\n+\n+bool ProofOfWork::CheckProofRequired(const CBlockIndex* pindexPrev) const\n+{\n+    return nBits == GetNextWorkRequired(pindexPrev, GetBlockTime());\n+}\n+\n+void ProofOfWork::ResetProof(const CBlockIndex* pindexPrev)\n+{\n+    UpdateTime(pindexPrev);\n+    nBits = GetNextWorkRequired(pindexPrev, GetBlockTime());\n+    nNonce = 0;\n+}\n+\n+uint256 ProofOfWork::GetLengthIncrement() const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#discussion_r14848743",
      "id" : 14848743,
      "original_commit_id" : "540ca78279452bbfbbe46350cee5f28dc09da454",
      "original_position" : 284,
      "path" : "src/pow.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4506",
      "updated_at" : "2014-10-28T13:34:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14848743",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "CBlockIndex could gain a CheckWork() method that just calls proof.CheckWork(GetBlockHash()).",
      "created_at" : "2014-07-11T23:27:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-48794142",
      "id" : 48794142,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-07-11T23:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/48794142",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "I created the CheckProof() method for CBlockHeader and CBlockIndex.\r\nI could have also added GenerateProof to CBlockHeader or CBlock, but the ugly call is only on miner.cpp (which could disappear in the future, who knows) so I don't think it's worth it. It doesn't feel like it belongs to a core library since it is only for the miner (which is only used for testing). ",
      "created_at" : "2014-07-14T20:32:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-48955479",
      "id" : 48955479,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-07-14T20:32:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/48955479",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Commits reordered so that the PR is easier to read (by creating the Proof class early on and then slowly encapsulating things).\r\nI left the proof generation part (mining) for later, so GetChallengeUint() method is needed for now SetSolutionUint()  is also used in miner.cpp, but that was already used miner_tests.cpp.\r\n",
      "created_at" : "2014-07-29T23:01:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-50551396",
      "id" : 50551396,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-07-29T23:03:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/50551396",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "I have left the last two commits with multiple small changes for later, after I know what's the most acceptable way to encapsulate the pow around miner. I will continue that discussion in #4423. But the \"final touches\" will depend on that, so there's no reason to include them before or stop this PR until that is resolved. Also the last commit was quite noisy.",
      "created_at" : "2014-08-28T14:13:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-53725321",
      "id" : 53725321,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-08-28T14:13:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53725321",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "mhmm, I wonder if nBits and nNonce should be uint32_t instead of unsigned int... ",
      "created_at" : "2014-08-28T18:29:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-53773358",
      "id" : 53773358,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-08-28T18:29:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53773358",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Yes, I believe all integers being serialized anywhere should eventually be turned into (u)intN_t's, but let's do that separately. There may already have been some PR for (part of) that.",
      "created_at" : "2014-08-28T20:42:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-53795161",
      "id" : 53795161,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-08-28T20:42:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53795161",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "It needed rebase because #4180 was merged so I just changed unsigned int to unit32_t too.",
      "created_at" : "2014-08-30T08:54:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-53952973",
      "id" : 53952973,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-08-30T08:54:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53952973",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Rebased.\r\nSince timedata was moved from core to server, I needed to decouple pow from timedata to be able to move pow from server to core.",
      "created_at" : "2014-09-13T19:23:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-55503983",
      "id" : 55503983,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-09-13T19:23:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/55503983",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Needs rebase.\r\n\r\nAlso, can you replace the error messages with the function name in them with `__func__`? ",
      "created_at" : "2014-09-16T02:39:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-55687930",
      "id" : 55687930,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-09-16T02:39:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/55687930",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Done, should I squash the ```__func__``` commit somewhere?",
      "created_at" : "2014-09-16T18:23:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-55789424",
      "id" : 55789424,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-09-16T18:24:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/55789424",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "> Done, should I squash the __func__ commit somewhere?\r\n\r\nIt's fine as a separate one.\r\n",
      "created_at" : "2014-09-25T09:36:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-56795539",
      "id" : 56795539,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-09-25T09:36:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/56795539",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Should I divide this further to make it easier to review?",
      "created_at" : "2014-09-29T22:22:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-57239809",
      "id" : 57239809,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-09-29T22:22:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57239809",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4506_e67e9f7d7651405f45e11df8416eaf9fe2101cff/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-09-29T22:35:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-57241121",
      "id" : 57241121,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-09-29T22:35:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57241121",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "Rebased",
      "created_at" : "2014-10-06T16:02:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-58040221",
      "id" : 58040221,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-10-06T16:02:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58040221",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "I like the changes, I did have a thought that maybe CProof is at slight risk of ambiguity (E.g. SPV proof vs block proof).",
      "created_at" : "2014-10-07T00:20:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-58120133",
      "id" : 58120133,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-10-07T00:20:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58120133",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "I think CProof should be split in its core data structure (which can go in core, or be included by it), and validation functions that take a CProof and perform the various checks on them (which can be in server). Not doing that will for example result in libscript contain block PoW validation...",
      "created_at" : "2014-10-09T02:08:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-58454768",
      "id" : 58454768,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-10-09T02:08:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58454768",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Having the class in core with only the serialization and using it with the functions is incompatible with making the fields private/protected, which is the final goal of this series of PRs.\r\nAfter thinking about this a lot there's doesn't seem to be any solution compatible with both goals that isn't ugly one way or another.\r\nI guess I should just keep moving functions here first and leave the class for later when we have a  solution that doesn't make anyone unhappy.",
      "created_at" : "2014-10-15T03:29:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-59153196",
      "id" : 59153196,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-10-15T03:29:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59153196",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "\"Not doing that will for example result in libscript contain block PoW validation\"\r\nNot necessarily, only if you want to put Transaction and BlockHeader in the same module, script doesn't need BlockHeader's at all.\r\nThere could be a xxx.o with only COutPoint, CTxIn, CTxOut and CTransaction, which is everything script/interpreter needs. ",
      "created_at" : "2014-10-15T03:35:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-59153515",
      "id" : 59153515,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-10-15T03:35:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59153515",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "I'm fine with splitting core into a transaction and a block part, and that would indeed suffice for now, but it would still mean that anything that uses block headers will depend on its validation code to. I don't like it, but I can't immediately come up with an example of something that would use headers parsing, but not need the ability to verify proofs.",
      "created_at" : "2014-10-15T03:38:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-59153674",
      "id" : 59153674,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-10-15T03:38:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59153674",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "I reduced the scope of the PR again.\r\nNow it only creates a minimal CProof class independent from pow.o.\r\nIt's built on top of #5100 and #4793.",
      "created_at" : "2014-10-21T19:37:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-59985418",
      "id" : 59985418,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-10-21T19:37:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59985418",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Rebased on top of the latest #5100 and without depending on #4793 (if that get merged first I can update this with the older version).\r\n",
      "created_at" : "2014-10-27T15:43:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-60614699",
      "id" : 60614699,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-10-27T15:43:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/60614699",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Rebased to make it more readable.",
      "created_at" : "2014-10-28T13:34:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-60755227",
      "id" : 60755227,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-10-28T13:34:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/60755227",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Closing in favor of  #5171, without a class.",
      "created_at" : "2014-10-29T20:26:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4506#issuecomment-60998368",
      "id" : 60998368,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4506",
      "updated_at" : "2014-10-29T20:26:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/60998368",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   }
]
